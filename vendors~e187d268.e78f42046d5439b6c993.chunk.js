(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~e187d268"],{

/***/ "sK8x":
/*!*****************************************************!*\
  !*** ./node_modules/auth0-js/dist/auth0.min.esm.js ***!
  \*****************************************************/
/*! exports provided: default, Authentication, Management, WebAuth, version */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, Promise) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Authentication\", function() { return Authentication; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Management\", function() { return Management; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebAuth\", function() { return WebAuth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"version\", function() { return version; });\n/**\n * auth0-js v9.10.4\n * Author: Auth0\n * Date: 2019-05-24\n * License: MIT\n */\n\nvar commonjsGlobal=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var urlJoin=createCommonjsModule(function(module){var context,definition;context=commonjsGlobal,definition=function(){return function(){return function(strArray){var resultArray=[];if(strArray[0].match(/^[^\\/:]+:\\/*$/)&&strArray.length>1){var first=strArray.shift();strArray[0]=first+strArray[0]}strArray[0].match(/^file:\\/\\/\\//)?strArray[0]=strArray[0].replace(/^([^\\/:]+):\\/*/,\"$1:///\"):strArray[0]=strArray[0].replace(/^([^\\/:]+):\\/*/,\"$1://\");for(var i=0;i<strArray.length;i++){var component=strArray[i];if(\"string\"!=typeof component)throw new TypeError(\"Url must be a string. Received \"+component);\"\"!==component&&(i>0&&(component=component.replace(/^[\\/]+/,\"\")),component=i<strArray.length-1?component.replace(/[\\/]+$/,\"\"):component.replace(/[\\/]+$/,\"/\"),resultArray.push(component))}var str=resultArray.join(\"/\"),parts=(str=str.replace(/\\/(\\?|&|#[^!])/g,\"$1\")).split(\"?\");return str=parts.shift()+(parts.length>0?\"?\":\"\")+parts.join(\"&\")}(\"object\"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},module.exports?module.exports=definition():context.urljoin=definition()}),utils=createCommonjsModule(function(module,exports){var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push(\"%\"+((i<16?\"0\":\"\")+i.toString(16)).toUpperCase());return array}();exports.arrayToObject=function(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj},exports.merge=function(target,source,options){if(!source)return target;if(\"object\"!=typeof source){if(Array.isArray(target))target.push(source);else{if(\"object\"!=typeof target)return[target,source];(options.plainObjects||options.allowPrototypes||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(\"object\"!=typeof target)return[target].concat(source);var mergeTarget=target;return Array.isArray(target)&&!Array.isArray(source)&&(mergeTarget=exports.arrayToObject(target,options)),Array.isArray(target)&&Array.isArray(source)?(source.forEach(function(item,i){has.call(target,i)?target[i]&&\"object\"==typeof target[i]?target[i]=exports.merge(target[i],item,options):target.push(item):target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return Object.prototype.hasOwnProperty.call(acc,key)?acc[key]=exports.merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)},exports.decode=function(str){try{return decodeURIComponent(str.replace(/\\+/g,\" \"))}catch(e){return str}},exports.encode=function(str){if(0===str.length)return str;for(var string=\"string\"==typeof str?str:String(str),out=\"\",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},exports.compact=function(obj,references){if(\"object\"!=typeof obj||null===obj)return obj;var refs=references||[],lookup=refs.indexOf(obj);if(-1!==lookup)return refs[lookup];if(refs.push(obj),Array.isArray(obj)){for(var compacted=[],i=0;i<obj.length;++i)obj[i]&&\"object\"==typeof obj[i]?compacted.push(exports.compact(obj[i],refs)):void 0!==obj[i]&&compacted.push(obj[i]);return compacted}return Object.keys(obj).forEach(function(key){obj[key]=exports.compact(obj[key],refs)}),obj},exports.isRegExp=function(obj){return\"[object RegExp]\"===Object.prototype.toString.call(obj)},exports.isBuffer=function(obj){return null!=obj&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))}}),utils_1=utils.arrayToObject,utils_2=utils.merge,utils_3=utils.decode,utils_4=utils.encode,utils_5=utils.compact,utils_6=utils.isRegExp,utils_7=utils.isBuffer,replace=String.prototype.replace,percentTwenties=/%20/g,formats={default:\"RFC3986\",formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,\"+\")},RFC3986:function(value){return value}},RFC1738:\"RFC1738\",RFC3986:\"RFC3986\"},arrayPrefixGenerators={brackets:function(prefix){return prefix+\"[]\"},indices:function(prefix,key){return prefix+\"[\"+key+\"]\"},repeat:function(prefix){return prefix}},toISO=Date.prototype.toISOString,defaults={delimiter:\"&\",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,serializeDate:function(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly){var obj=object;if(\"function\"==typeof filter)obj=filter(prefix,obj);else if(obj instanceof Date)obj=serializeDate(obj);else if(null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix):prefix;obj=\"\"}if(\"string\"==typeof obj||\"number\"==typeof obj||\"boolean\"==typeof obj||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix))+\"=\"+formatter(encoder(obj))]:[formatter(prefix)+\"=\"+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(Array.isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(values=Array.isArray(obj)?values.concat(stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)):values.concat(stringify(obj[key],prefix+(allowDots?\".\"+key:\"[\"+key+\"]\"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}return values},stringify_1=function(object,opts){var obj=object,options=opts||{};if(null!==options.encoder&&void 0!==options.encoder&&\"function\"!=typeof options.encoder)throw new TypeError(\"Encoder has to be a function.\");var delimiter=void 0===options.delimiter?defaults.delimiter:options.delimiter,strictNullHandling=\"boolean\"==typeof options.strictNullHandling?options.strictNullHandling:defaults.strictNullHandling,skipNulls=\"boolean\"==typeof options.skipNulls?options.skipNulls:defaults.skipNulls,encode=\"boolean\"==typeof options.encode?options.encode:defaults.encode,encoder=\"function\"==typeof options.encoder?options.encoder:defaults.encoder,sort=\"function\"==typeof options.sort?options.sort:null,allowDots=void 0!==options.allowDots&&options.allowDots,serializeDate=\"function\"==typeof options.serializeDate?options.serializeDate:defaults.serializeDate,encodeValuesOnly=\"boolean\"==typeof options.encodeValuesOnly?options.encodeValuesOnly:defaults.encodeValuesOnly;if(void 0===options.format)options.format=formats.default;else if(!Object.prototype.hasOwnProperty.call(formats.formatters,options.format))throw new TypeError(\"Unknown format option provided.\");var objKeys,filter,formatter=formats.formatters[options.format];\"function\"==typeof options.filter?obj=(filter=options.filter)(\"\",obj):Array.isArray(options.filter)&&(objKeys=filter=options.filter);var arrayFormat,keys=[];if(\"object\"!=typeof obj||null===obj)return\"\";arrayFormat=options.arrayFormat in arrayPrefixGenerators?options.arrayFormat:\"indices\"in options?options.indices?\"indices\":\"repeat\":\"indices\";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),sort&&objKeys.sort(sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(keys=keys.concat(stringify(obj[key],key,generateArrayPrefix,strictNullHandling,skipNulls,encode?encoder:null,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}return keys.join(delimiter)},has=Object.prototype.hasOwnProperty,defaults$1={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:utils.decode,delimiter:\"&\",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},parseValues=function(str,options){for(var obj={},parts=str.split(options.delimiter,options.parameterLimit===1/0?void 0:options.parameterLimit),i=0;i<parts.length;++i){var key,val,part=parts[i],pos=-1===part.indexOf(\"]=\")?part.indexOf(\"=\"):part.indexOf(\"]=\")+1;-1===pos?(key=options.decoder(part),val=options.strictNullHandling?null:\"\"):(key=options.decoder(part.slice(0,pos)),val=options.decoder(part.slice(pos+1))),has.call(obj,key)?obj[key]=[].concat(obj[key]).concat(val):obj[key]=val}return obj},parseObject=function(chain,val,options){if(!chain.length)return val;var obj,root=chain.shift();if(\"[]\"===root)obj=(obj=[]).concat(parseObject(chain,val,options));else{obj=options.plainObjects?Object.create(null):{};var cleanRoot=\"[\"===root.charAt(0)&&\"]\"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=parseObject(chain,val,options):obj[cleanRoot]=parseObject(chain,val,options)}return obj},parseKeys=function(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\\.([^.[]+)/g,\"[$1]\"):givenKey,child=/(\\[[^[\\]]*])/g,segment=/(\\[[^[\\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push(\"[\"+key.slice(segment.index)+\"]\"),parseObject(keys,val,options)}},parse=function(str,opts){var options=opts||{};if(null!==options.decoder&&void 0!==options.decoder&&\"function\"!=typeof options.decoder)throw new TypeError(\"Decoder has to be a function.\");if(options.delimiter=\"string\"==typeof options.delimiter||utils.isRegExp(options.delimiter)?options.delimiter:defaults$1.delimiter,options.depth=\"number\"==typeof options.depth?options.depth:defaults$1.depth,options.arrayLimit=\"number\"==typeof options.arrayLimit?options.arrayLimit:defaults$1.arrayLimit,options.parseArrays=!1!==options.parseArrays,options.decoder=\"function\"==typeof options.decoder?options.decoder:defaults$1.decoder,options.allowDots=\"boolean\"==typeof options.allowDots?options.allowDots:defaults$1.allowDots,options.plainObjects=\"boolean\"==typeof options.plainObjects?options.plainObjects:defaults$1.plainObjects,options.allowPrototypes=\"boolean\"==typeof options.allowPrototypes?options.allowPrototypes:defaults$1.allowPrototypes,options.parameterLimit=\"number\"==typeof options.parameterLimit?options.parameterLimit:defaults$1.parameterLimit,options.strictNullHandling=\"boolean\"==typeof options.strictNullHandling?options.strictNullHandling:defaults$1.strictNullHandling,\"\"===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj=\"string\"==typeof str?parseValues(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)},lib={formats:formats,parse:parse,stringify:stringify_1},componentEmitter=createCommonjsModule(function(module){function Emitter(obj){if(obj)return function(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+event]=this._callbacks[\"$\"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var cb,callbacks=this._callbacks[\"$\"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+event],this;for(var i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[\"$\"+event];if(callbacks)for(var i=0,len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args);return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}});function isObject(obj){return null!==obj&&\"object\"==typeof obj}var isObject_1=isObject,requestBase=RequestBase;function RequestBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in RequestBase.prototype)obj[key]=RequestBase.prototype[key];return obj}RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(fn){return this._parser=fn,this},RequestBase.prototype.responseType=function(val){return this._responseType=val,this},RequestBase.prototype.serialize=function(fn){return this._serializer=fn,this},RequestBase.prototype.timeout=function(options){if(!options||\"object\"!=typeof options)return this._timeout=options,this._responseTimeout=0,this;for(var option in options)switch(option){case\"deadline\":this._timeout=options.deadline;break;case\"response\":this._responseTimeout=options.response;break;default:console.warn(\"Unknown timeout option\",option)}return this},RequestBase.prototype.retry=function(count,fn){return 0!==arguments.length&&!0!==count||(count=1),count<=0&&(count=0),this._maxRetries=count,this._retries=0,this._retryCallback=fn,this};var ERROR_CODES=[\"ECONNRESET\",\"ETIMEDOUT\",\"EADDRINFO\",\"ESOCKETTIMEDOUT\"];RequestBase.prototype._shouldRetry=function(err,res){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var override=this._retryCallback(err,res);if(!0===override)return!0;if(!1===override)return!1}catch(e){console.error(e)}if(res&&res.status&&res.status>=500&&501!=res.status)return!0;if(err){if(err.code&&~ERROR_CODES.indexOf(err.code))return!0;if(err.timeout&&\"ECONNABORTED\"==err.code)return!0;if(err.crossDomain)return!0}return!1},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(resolve,reject){if(!this._fullfilledPromise){var self=this;this._endCalled&&console.warn(\"Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises\"),this._fullfilledPromise=new Promise(function(innerResolve,innerReject){self.end(function(err,res){err?innerReject(err):innerResolve(res)})})}return this._fullfilledPromise.then(resolve,reject)},RequestBase.prototype.catch=function(cb){return this.then(void 0,cb)},RequestBase.prototype.use=function(fn){return fn(this),this},RequestBase.prototype.ok=function(cb){if(\"function\"!=typeof cb)throw Error(\"Callback required\");return this._okCallback=cb,this},RequestBase.prototype._isResponseOK=function(res){return!!res&&(this._okCallback?this._okCallback(res):res.status>=200&&res.status<300)},RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(field,val){if(isObject_1(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},RequestBase.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},RequestBase.prototype.field=function(name,val){if(null==name)throw new Error(\".field(name, val) name can not be empty\");if(this._data&&console.error(\".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()\"),isObject_1(name)){for(var key in name)this.field(key,name[key]);return this}if(Array.isArray(val)){for(var i in val)this.field(name,val[i]);return this}if(null==val)throw new Error(\".field(name, val) val can not be empty\");return\"boolean\"==typeof val&&(val=\"\"+val),this._getFormData().append(name,val),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit(\"abort\"),this)},RequestBase.prototype._auth=function(user,pass,options,base64Encoder){switch(options.type){case\"basic\":this.set(\"Authorization\",\"Basic \"+base64Encoder(user+\":\"+pass));break;case\"auto\":this.username=user,this.password=pass;break;case\"bearer\":this.set(\"Authorization\",\"Bearer \"+user)}return this},RequestBase.prototype.withCredentials=function(on){return null==on&&(on=!0),this._withCredentials=on,this},RequestBase.prototype.redirects=function(n){return this._maxRedirects=n,this},RequestBase.prototype.maxResponseSize=function(n){if(\"number\"!=typeof n)throw TypeError(\"Invalid argument\");return this._maxResponseSize=n,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(data){var isObj=isObject_1(data),type=this._header[\"content-type\"];if(this._formData&&console.error(\".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()\"),isObj&&!this._data)Array.isArray(data)?this._data=[]:this._isHost(data)||(this._data={});else if(data&&this._data&&this._isHost(this._data))throw Error(\"Can't merge these send calls\");if(isObj&&isObject_1(this._data))for(var key in data)this._data[key]=data[key];else\"string\"==typeof data?(type||this.type(\"form\"),type=this._header[\"content-type\"],this._data=\"application/x-www-form-urlencoded\"==type?this._data?this._data+\"&\"+data:data:(this._data||\"\")+data):this._data=data;return!isObj||this._isHost(data)?this:(type||this.type(\"json\"),this)},RequestBase.prototype.sortQuery=function(sort){return this._sort=void 0===sort||sort,this},RequestBase.prototype._finalizeQueryString=function(){var query=this._query.join(\"&\");if(query&&(this.url+=(this.url.indexOf(\"?\")>=0?\"&\":\"?\")+query),this._query.length=0,this._sort){var index=this.url.indexOf(\"?\");if(index>=0){var queryArr=this.url.substring(index+1).split(\"&\");\"function\"==typeof this._sort?queryArr.sort(this._sort):queryArr.sort(),this.url=this.url.substring(0,index)+\"?\"+queryArr.join(\"&\")}}},RequestBase.prototype._appendQueryString=function(){console.trace(\"Unsupported\")},RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(!this._aborted){var err=new Error(reason+timeout+\"ms exceeded\");err.timeout=timeout,err.code=\"ECONNABORTED\",err.errno=errno,this.timedout=!0,this.abort(),this.callback(err)}},RequestBase.prototype._setTimeouts=function(){var self=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){self._timeoutError(\"Timeout of \",self._timeout,\"ETIME\")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){self._timeoutError(\"Response timeout of \",self._responseTimeout,\"ETIMEDOUT\")},this._responseTimeout))};var type=function(str){return str.split(/ *; */).shift()},params=function(str){return str.split(/ *; */).reduce(function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})},parseLinks=function(str){return str.split(/ *, */).reduce(function(obj,str){var parts=str.split(/ *; */),url=parts[0].slice(1,-1);return obj[parts[1].split(/ *= */)[1].slice(1,-1)]=url,obj},{})},cleanHeader=function(header,changesOrigin){return delete header[\"content-type\"],delete header[\"content-length\"],delete header[\"transfer-encoding\"],delete header.host,changesOrigin&&(delete header.authorization,delete header.cookie),header},utils$1={type:type,params:params,parseLinks:parseLinks,cleanHeader:cleanHeader},responseBase=ResponseBase;function ResponseBase(obj){if(obj)return mixin$1(obj)}function mixin$1(obj){for(var key in ResponseBase.prototype)obj[key]=ResponseBase.prototype[key];return obj}function Agent(){this._defaults=[]}ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(header){var ct=header[\"content-type\"]||\"\";this.type=utils$1.type(ct);var params=utils$1.params(ct);for(var key in params)this[key]=params[key];this.links={};try{header.link&&(this.links=utils$1.parseLinks(header.link))}catch(err){}},ResponseBase.prototype._setStatusProperties=function(status){var type=status/100|0;this.status=this.statusCode=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.redirect=3==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.forbidden=403==status,this.notFound=404==status},[\"use\",\"on\",\"once\",\"set\",\"query\",\"type\",\"accept\",\"auth\",\"withCredentials\",\"sortQuery\",\"retry\",\"ok\",\"redirects\",\"timeout\",\"buffer\",\"serialize\",\"parse\",\"ca\",\"key\",\"pfx\",\"cert\"].forEach(function(fn){Agent.prototype[fn]=function(){return this._defaults.push({fn:fn,arguments:arguments}),this}}),Agent.prototype._setDefaults=function(req){this._defaults.forEach(function(def){req[def.fn].apply(req,def.arguments)})};for(var agentBase=Agent,client=createCommonjsModule(function(module,exports){var root;function noop(){}\"undefined\"!=typeof window?root=window:\"undefined\"!=typeof self?root=self:(console.warn(\"Using browser-only version of superagent in non-browser environment\"),root=commonjsGlobal);var request=exports=module.exports=function(method,url){return\"function\"==typeof url?new exports.Request(\"GET\",method).end(url):1==arguments.length?new exports.Request(\"GET\",method):new exports.Request(method,url)};exports.Request=Request,request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&\"file:\"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP\")}catch(e){}throw Error(\"Browser-only version of superagent could not find XHR\")};var trim=\"\".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\\s*|\\s*$)/g,\"\")};function serialize(obj){if(!isObject_1(obj))return obj;var pairs=[];for(var key in obj)pushEncodedKeyValuePair(pairs,key,obj[key]);return pairs.join(\"&\")}function pushEncodedKeyValuePair(pairs,key,val){if(null!=val)if(Array.isArray(val))val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)});else if(isObject_1(val))for(var subkey in val)pushEncodedKeyValuePair(pairs,key+\"[\"+subkey+\"]\",val[subkey]);else pairs.push(encodeURIComponent(key)+\"=\"+encodeURIComponent(val));else null===val&&pairs.push(encodeURIComponent(key))}function parseString(str){for(var pair,pos,obj={},pairs=str.split(\"&\"),i=0,len=pairs.length;i<len;++i)-1==(pos=(pair=pairs[i]).indexOf(\"=\"))?obj[decodeURIComponent(pair)]=\"\":obj[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1));return obj}function isJSON(mime){return/[\\/+]json($|[^-\\w])/.test(mime)}function Response(req){this.req=req,this.xhr=this.req.xhr,this.text=\"HEAD\"!=this.req.method&&(\"\"===this.xhr.responseType||\"text\"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var status=this.xhr.status;1223===status&&(status=204),this._setStatusProperties(status),this.header=this.headers=function(str){for(var index,line,field,val,lines=str.split(/\\r?\\n/),fields={},i=0,len=lines.length;i<len;++i)-1!==(index=(line=lines[i]).indexOf(\":\"))&&(field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val);return fields}(this.xhr.getAllResponseHeaders()),this.header[\"content-type\"]=this.xhr.getResponseHeader(\"content-type\"),this._setHeaderProperties(this.header),null===this.text&&req._responseType?this.body=this.xhr.response:this.body=\"HEAD\"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on(\"end\",function(){var new_err,err=null,res=null;try{res=new Response(self)}catch(e){return(err=new Error(\"Parser is unable to parse the response\")).parse=!0,err.original=e,self.xhr?(err.rawResponse=void 0===self.xhr.responseType?self.xhr.responseText:self.xhr.response,err.status=self.xhr.status?self.xhr.status:null,err.statusCode=err.status):(err.rawResponse=null,err.status=null),self.callback(err)}self.emit(\"response\",res);try{self._isResponseOK(res)||(new_err=new Error(res.statusText||\"Unsuccessful HTTP response\"))}catch(custom_err){new_err=custom_err}new_err?(new_err.original=err,new_err.response=res,new_err.status=res.status,self.callback(new_err,res)):self.callback(null,res)})}function del(url,data,fn){var req=request(\"DELETE\",url);return\"function\"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}request.serializeObject=serialize,request.parseString=parseString,request.types={html:\"text/html\",json:\"application/json\",xml:\"text/xml\",urlencoded:\"application/x-www-form-urlencoded\",form:\"application/x-www-form-urlencoded\",\"form-data\":\"application/x-www-form-urlencoded\"},request.serialize={\"application/x-www-form-urlencoded\":serialize,\"application/json\":JSON.stringify},request.parse={\"application/x-www-form-urlencoded\":parseString,\"application/json\":JSON.parse},responseBase(Response.prototype),Response.prototype._parseBody=function(str){var parse=request.parse[this.type];return this.req._parser?this.req._parser(this,str):(!parse&&isJSON(this.type)&&(parse=request.parse[\"application/json\"]),parse&&str&&(str.length||str instanceof Object)?parse(str):null)},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg=\"cannot \"+method+\" \"+url+\" (\"+this.status+\")\",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,componentEmitter(Request.prototype),requestBase(Request.prototype),Request.prototype.type=function(type){return this.set(\"Content-Type\",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set(\"Accept\",request.types[type]||type),this},Request.prototype.auth=function(user,pass,options){1===arguments.length&&(pass=\"\"),\"object\"==typeof pass&&null!==pass&&(options=pass,pass=\"\"),options||(options={type:\"function\"==typeof btoa?\"basic\":\"auto\"});return this._auth(user,pass,options,function(string){if(\"function\"==typeof btoa)return btoa(string);throw new Error(\"Cannot use basic auth, btoa is not a function\")})},Request.prototype.query=function(val){return\"string\"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.attach=function(field,file,options){if(file){if(this._data)throw Error(\"superagent can't mix .send() and .attach()\");this._getFormData().append(field,file,options||file.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(err,res){if(this._shouldRetry(err,res))return this._retry();var fn=this._callback;this.clearTimeout(),err&&(this._maxRetries&&(err.retries=this._retries-1),this.emit(\"error\",err)),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error(\"Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.\");err.crossDomain=!0,err.status=this.status,err.method=this.method,err.url=this.url,this.callback(err)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return console.warn(\"This is not supported in browser version of superagent\"),this},Request.prototype.pipe=Request.prototype.write=function(){throw Error(\"Streaming is not supported in browser version of superagent\")},Request.prototype._isHost=function(obj){return obj&&\"object\"==typeof obj&&!Array.isArray(obj)&&\"[object Object]\"!==Object.prototype.toString.call(obj)},Request.prototype.end=function(fn){return this._endCalled&&console.warn(\"Warning: .end() was called twice. This is not supported in superagent\"),this._endCalled=!0,this._callback=fn||noop,this._finalizeQueryString(),this._end()},Request.prototype._end=function(){var self=this,xhr=this.xhr=request.getXHR(),data=this._formData||this._data;this._setTimeouts(),xhr.onreadystatechange=function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer&&clearTimeout(self._responseTimeoutTimer),4==readyState){var status;try{status=xhr.status}catch(e){status=0}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError()}self.emit(\"end\")}};var handleProgress=function(direction,e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction=direction,self.emit(\"progress\",e)};if(this.hasListeners(\"progress\"))try{xhr.onprogress=handleProgress.bind(null,\"download\"),xhr.upload&&(xhr.upload.onprogress=handleProgress.bind(null,\"upload\"))}catch(e){}try{this.username&&this.password?xhr.open(this.method,this.url,!0,this.username,this.password):xhr.open(this.method,this.url,!0)}catch(err){return this.callback(err)}if(this._withCredentials&&(xhr.withCredentials=!0),!this._formData&&\"GET\"!=this.method&&\"HEAD\"!=this.method&&\"string\"!=typeof data&&!this._isHost(data)){var contentType=this._header[\"content-type\"],serialize=this._serializer||request.serialize[contentType?contentType.split(\";\")[0]:\"\"];!serialize&&isJSON(contentType)&&(serialize=request.serialize[\"application/json\"]),serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&this.header.hasOwnProperty(field)&&xhr.setRequestHeader(field,this.header[field]);return this._responseType&&(xhr.responseType=this._responseType),this.emit(\"request\",this),xhr.send(void 0!==data?data:null),this},request.agent=function(){return new agentBase},[\"GET\",\"POST\",\"OPTIONS\",\"PATCH\",\"PUT\",\"DELETE\"].forEach(function(method){agentBase.prototype[method.toLowerCase()]=function(url,fn){var req=new request.Request(method,url);return this._setDefaults(req),fn&&req.end(fn),req}}),agentBase.prototype.del=agentBase.prototype.delete,request.get=function(url,data,fn){var req=request(\"GET\",url);return\"function\"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request(\"HEAD\",url);return\"function\"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.options=function(url,data,fn){var req=request(\"OPTIONS\",url);return\"function\"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=del,request.delete=del,request.patch=function(url,data,fn){var req=request(\"PATCH\",url);return\"function\"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request(\"POST\",url);return\"function\"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request(\"PUT\",url);return\"function\"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}}),client_1=client.Request,byteLength_1=byteLength,toByteArray_1=toByteArray,fromByteArray_1=fromByteArray,lookup=[],revLookup=[],Arr=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,code=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");return\"=\"===b64[len-2]?2:\"=\"===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join(\"\")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output=\"\",parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+=\"==\"):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+=\"=\"),parts.push(output),parts.join(\"\")}revLookup[\"-\".charCodeAt(0)]=62,revLookup[\"_\".charCodeAt(0)]=63;var base64Js={byteLength:byteLength_1,toByteArray:toByteArray_1,fromByteArray:fromByteArray_1};function padding(str){var mod=str.length%4;return 0===mod?str:str+new Array(1+(4-mod)).join(\"=\")}function stringToByteArray(str){for(var arr=new Array(str.length),a=0;a<str.length;a++)arr[a]=str.charCodeAt(a);return arr}function byteArrayToString(array){for(var result=\"\",i=0;i<array.length;i++)result+=String.fromCharCode(array[i]);return result}function encode(str){return base64Js.fromByteArray(stringToByteArray(str)).replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function decode(str){return str=padding(str).replace(/-/g,\"+\").replace(/_/g,\"/\"),byteArrayToString(base64Js.toByteArray(str))}var base64Url={encode:encode,decode:decode},version={raw:\"9.10.4\"},toString=Object.prototype.toString;function attribute(o,attr,type,text){if(type=\"array\"===type?\"object\":type,o&&typeof o[attr]!==type)throw new Error(text)}function variable(o,type,text){if(typeof o!==type)throw new Error(text)}function value(o,values,text){if(-1===values.indexOf(o))throw new Error(text)}function check(o,config,attributes){if(config.optional&&!o||variable(o,config.type,config.message),\"object\"===config.type&&attributes)for(var keys=Object.keys(attributes),index=0;index<keys.length;index++){var a=keys[index];attributes[a].optional&&!o[a]||attributes[a].condition&&!attributes[a].condition(o)||(attribute(o,a,attributes[a].type,attributes[a].message),attributes[a].values&&value(o[a],attributes[a].values,attributes[a].value_message))}}function isArray(array){return this.supportsIsArray()?Array.isArray(array):\"[object Array]\"===toString.call(array)}function supportsIsArray(){return null!=Array.isArray}var assert={check:check,attribute:attribute,variable:variable,value:value,isArray:isArray,supportsIsArray:supportsIsArray};function get(){return Object.assign?Object.assign:objectAssignPolyfill}function objectAssignPolyfill(target){if(null==target)throw new TypeError(\"Cannot convert first argument to object\");for(var to=Object(target),i=1;i<arguments.length;i++){var nextSource=arguments[i];if(null!=nextSource)for(var keysArray=Object.keys(Object(nextSource)),nextIndex=0,len=keysArray.length;nextIndex<len;nextIndex++){var nextKey=keysArray[nextIndex],desc=Object.getOwnPropertyDescriptor(nextSource,nextKey);void 0!==desc&&desc.enumerable&&(to[nextKey]=nextSource[nextKey])}}return to}var objectAssign={get:get,objectAssignPolyfill:objectAssignPolyfill};function pick(object,keys){return keys.reduce(function(prev,key){return object[key]&&(prev[key]=object[key]),prev},{})}function getKeysNotIn(obj,allowedKeys){var notAllowed=[];for(var key in obj)-1===allowedKeys.indexOf(key)&&notAllowed.push(key);return notAllowed}function objectValues(obj){var values=[];for(var key in obj)values.push(obj[key]);return values}function extend(){var params=objectValues(arguments);return params.unshift({}),objectAssign.get().apply(void 0,params)}function merge(object,keys){return{base:keys?pick(object,keys):object,with:function(object2,keys2){return object2=keys2?pick(object2,keys2):object2,extend(this.base,object2)}}}function blacklist(object,blacklistedKeys){return Object.keys(object).reduce(function(p,key){return-1===blacklistedKeys.indexOf(key)&&(p[key]=object[key]),p},{})}function camelToSnake(str){for(var code,newKey=\"\",index=0,wasPrevNumber=!0,wasPrevUppercase=!0;index<str.length;)code=str.charCodeAt(index),!wasPrevUppercase&&code>=65&&code<=90||!wasPrevNumber&&code>=48&&code<=57?(newKey+=\"_\",newKey+=str[index].toLowerCase()):newKey+=str[index].toLowerCase(),wasPrevNumber=code>=48&&code<=57,wasPrevUppercase=code>=65&&code<=90,index++;return newKey}function snakeToCamel(str){var parts=str.split(\"_\");return parts.reduce(function(p,c){return p+c.charAt(0).toUpperCase()+c.slice(1)},parts.shift())}function toSnakeCase(object,exceptions){return\"object\"!=typeof object||assert.isArray(object)||null===object?object:(exceptions=exceptions||[],Object.keys(object).reduce(function(p,key){return p[-1===exceptions.indexOf(key)?camelToSnake(key):key]=toSnakeCase(object[key]),p},{}))}function toCamelCase(object,exceptions,options){return\"object\"!=typeof object||assert.isArray(object)||null===object?object:(exceptions=exceptions||[],options=options||{},Object.keys(object).reduce(function(p,key){var newKey=-1===exceptions.indexOf(key)?snakeToCamel(key):key;return p[newKey]=toCamelCase(object[newKey]||object[key],[],options),options.keepOriginal&&(p[key]=toCamelCase(object[key],[],options)),p},{}))}function getLocationFromUrl(href){var match=href.match(/^(https?:|file:)\\/\\/(([^:\\/?#]*)(?::([0-9]+))?)([\\/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/);return match&&{href:href,protocol:match[1],host:match[2],hostname:match[3],port:match[4],pathname:match[5],search:match[6],hash:match[7]}}function getOriginFromUrl(url){if(url){var parsed=getLocationFromUrl(url),origin=parsed.protocol+\"//\"+parsed.hostname;return parsed.port&&(origin+=\":\"+parsed.port),origin}}function trim(options,key){var trimmed=extend(options);return options[key]&&(trimmed[key]=options[key].trim()),trimmed}function trimMultiple(options,keys){return keys.reduce(trim,options)}function trimUserDetails(options){return trimMultiple(options,[\"username\",\"email\",\"phoneNumber\"])}var objectHelper={toSnakeCase:toSnakeCase,toCamelCase:toCamelCase,blacklist:blacklist,merge:merge,pick:pick,getKeysNotIn:getKeysNotIn,extend:extend,getOriginFromUrl:getOriginFromUrl,getLocationFromUrl:getLocationFromUrl,trimUserDetails:trimUserDetails};function RequestWrapper(req){this.request=req,this.method=req.method,this.url=req.url,this.body=req._data,this.headers=req._header}function RequestObj(req){this.request=req}function RequestBuilder(options){this._sendTelemetry=!1!==options._sendTelemetry||options._sendTelemetry,this._telemetryInfo=options._telemetryInfo||null,this._timesToRetryFailedRequests=options._timesToRetryFailedRequests,this.headers=options.headers||{},this._universalLoginPage=options.universalLoginPage}function redirect(url){getWindow().location=url}function getDocument(){return getWindow().document}function getWindow(){return window}function getOrigin(){var location=getWindow().location,origin=location.origin;return origin||(origin=objectHelper.getOriginFromUrl(location.href)),origin}RequestWrapper.prototype.abort=function(){this.request.abort()},RequestWrapper.prototype.getMethod=function(){return this.method},RequestWrapper.prototype.getBody=function(){return this.body},RequestWrapper.prototype.getUrl=function(){return this.url},RequestWrapper.prototype.getHeaders=function(){return this.headers},RequestObj.prototype.set=function(key,value){return this.request=this.request.set(key,value),this},RequestObj.prototype.send=function(body){return this.request=this.request.send(objectHelper.trimUserDetails(body)),this},RequestObj.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},RequestObj.prototype.end=function(cb){return this.request=this.request.end(cb),new RequestWrapper(this.request)},RequestBuilder.prototype.setCommonConfiguration=function(ongoingRequest,options){if(options=options||{},this._timesToRetryFailedRequests>0&&(ongoingRequest=ongoingRequest.retry(this._timesToRetryFailedRequests)),options.noHeaders)return ongoingRequest;var headers=this.headers;ongoingRequest=ongoingRequest.set(\"Content-Type\",\"application/json\");for(var keys=Object.keys(this.headers),a=0;a<keys.length;a++)ongoingRequest=ongoingRequest.set(keys[a],headers[keys[a]]);return this._sendTelemetry&&(ongoingRequest=ongoingRequest.set(\"Auth0-Client\",this.getTelemetryData())),ongoingRequest},RequestBuilder.prototype.getTelemetryData=function(){var telemetryName=this._universalLoginPage?\"auth0.js-ulp\":\"auth0.js\",clientInfo={name:telemetryName,version:version.raw};this._telemetryInfo&&((clientInfo=objectHelper.extend({},this._telemetryInfo)).env=objectHelper.extend({},this._telemetryInfo.env),clientInfo.env[telemetryName]=version.raw);var jsonClientInfo=JSON.stringify(clientInfo);return base64Url.encode(jsonClientInfo)},RequestBuilder.prototype.get=function(url,options){return new RequestObj(this.setCommonConfiguration(client.get(url),options))},RequestBuilder.prototype.post=function(url,options){return new RequestObj(this.setCommonConfiguration(client.post(url),options))},RequestBuilder.prototype.patch=function(url,options){return new RequestObj(this.setCommonConfiguration(client.patch(url),options))};var windowHandler={redirect:redirect,getDocument:getDocument,getWindow:getWindow,getOrigin:getOrigin};function DummyStorage(){}DummyStorage.prototype.getItem=function(){return null},DummyStorage.prototype.removeItem=function(){},DummyStorage.prototype.setItem=function(){};var js_cookie=createCommonjsModule(function(module,exports){!function(factory){if(module.exports=factory(),!!0){var OldCookies=window.Cookies,api=window.Cookies=factory();api.noConflict=function(){return window.Cookies=OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}return function init(converter){function api(key,value,attributes){var result;if(\"undefined\"!=typeof document){if(arguments.length>1){if(\"number\"==typeof(attributes=extend({path:\"/\"},api.defaults,attributes)).expires){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+864e5*attributes.expires),attributes.expires=expires}attributes.expires=attributes.expires?attributes.expires.toUTCString():\"\";try{result=JSON.stringify(value),/^[\\{\\[]/.test(result)&&(value=result)}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=(key=(key=encodeURIComponent(String(key))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\\(\\)]/g,escape);var stringifiedAttributes=\"\";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+=\"; \"+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+=\"=\"+attributes[attributeName]));return document.cookie=key+\"=\"+value+stringifiedAttributes}key||(result={});for(var cookies=document.cookie?document.cookie.split(\"; \"):[],rdecode=/(%[0-9A-Z]{2})+/g,i=0;i<cookies.length;i++){var parts=cookies[i].split(\"=\"),cookie=parts.slice(1).join(\"=\");this.json||'\"'!==cookie.charAt(0)||(cookie=cookie.slice(1,-1));try{var name=parts[0].replace(rdecode,decodeURIComponent);if(cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent),this.json)try{cookie=JSON.parse(cookie)}catch(e){}if(key===name){result=cookie;break}key||(result[name]=cookie)}catch(e){}}return result}}return api.set=api,api.get=function(key){return api.call(api,key)},api.getJSON=function(){return api.apply({json:!0},[].slice.call(arguments))},api.defaults={},api.remove=function(key,attributes){api(key,\"\",extend(attributes,{expires:-1}))},api.withConverter=init,api}(function(){})})});function CookieStorage(){}function Warn(options){this.disableWarnings=options.disableWarnings}function StorageHandler(options){if(this.warn=new Warn({}),this.storage=new CookieStorage,!0===options.__tryLocalStorageFirst)try{var localStorage=windowHandler.getWindow().localStorage;localStorage&&(this.storage=localStorage)}catch(e){this.warn.warning(e),this.warn.warning(\"Can't use localStorage. Using CookieStorage instead.\")}}function Storage(options){this.handler=new StorageHandler(options)}function SSODataStorage(options){this.storage=new Storage(options)}function buildResponse(error,description){return{error:error,errorDescription:description}}function invalidToken(description){return buildResponse(\"invalid_token\",description)}CookieStorage.prototype.getItem=function(key){return js_cookie.get(key)},CookieStorage.prototype.removeItem=function(key){js_cookie.remove(key)},CookieStorage.prototype.setItem=function(key,value,options){var params=objectHelper.extend({expires:1},options);js_cookie.set(key,value,params)},Warn.prototype.warning=function(message){this.disableWarnings||console.warn(message)},StorageHandler.prototype.failover=function(){this.storage instanceof DummyStorage?this.warn.warning(\"DummyStorage: ignore failover\"):this.storage instanceof CookieStorage?(this.warn.warning(\"CookieStorage: failing over DummyStorage\"),this.storage=new DummyStorage):(this.warn.warning(\"LocalStorage: failing over CookieStorage\"),this.storage=new CookieStorage)},StorageHandler.prototype.getItem=function(key){try{return this.storage.getItem(key)}catch(e){return this.warn.warning(e),this.failover(),this.getItem(key)}},StorageHandler.prototype.removeItem=function(key){try{return this.storage.removeItem(key)}catch(e){return this.warn.warning(e),this.failover(),this.removeItem(key)}},StorageHandler.prototype.setItem=function(key,value,options){try{return this.storage.setItem(key,value,options)}catch(e){return this.warn.warning(e),this.failover(),this.setItem(key,value,options)}},Storage.prototype.getItem=function(key){var value=this.handler.getItem(key);try{return JSON.parse(value)}catch(_){return value}},Storage.prototype.removeItem=function(key){return this.handler.removeItem(key)},Storage.prototype.setItem=function(key,value,options){var json=JSON.stringify(value);return this.handler.setItem(key,json,options)},SSODataStorage.prototype.set=function(connection,sub){var ssodata={lastUsedConnection:connection,lastUsedSub:sub};this.storage.setItem(\"auth0.ssodata\",JSON.stringify(ssodata))},SSODataStorage.prototype.get=function(){var ssodata=this.storage.getItem(\"auth0.ssodata\");if(ssodata)return JSON.parse(ssodata)};var error={buildResponse:buildResponse,invalidToken:invalidToken};function wrapCallback(cb,options){return(options=options||{}).ignoreCasing=!!options.ignoreCasing&&options.ignoreCasing,function(err,data){var errObj;return err||data?(!err&&data.err&&(err=data.err,data=null),!err&&data.error&&(err=data,data=null),err?(errObj={original:err},err.response&&err.response.statusCode&&(errObj.statusCode=err.response.statusCode),err.response&&err.response.statusText&&(errObj.statusText=err.response.statusText),err.response&&err.response.body&&(err=err.response.body),err.err&&(err=err.err),errObj.code=err.code||err.error||err.error_code||err.status||null,errObj.description=err.errorDescription||err.error_description||err.description||err.error||err.details||err.err||null,options.forceLegacyError&&(errObj.error=errObj.code,errObj.error_description=errObj.description),err.name&&(errObj.name=err.name),err.policy&&(errObj.policy=err.policy),cb(errObj)):!data.type||\"text/html\"!==data.type&&\"text/plain\"!==data.type?options.ignoreCasing?cb(null,data.body||data):cb(null,objectHelper.toCamelCase(data.body||data,[],{keepOriginal:options.keepOriginalCasing})):cb(null,data.text)):cb(error.buildResponse(\"generic_error\",\"Something went wrong\"))}}var tokenParams=[\"realm\",\"audience\",\"client_id\",\"client_secret\",\"redirect_uri\",\"scope\",\"code\",\"grant_type\",\"username\",\"password\",\"refresh_token\",\"assertion\",\"client_assertion\",\"client_assertion_type\",\"code_verifier\"],authorizeParams=[\"connection\",\"connection_scope\",\"auth0Client\",\"owp\",\"device\",\"realm\",\"protocol\",\"_csrf\",\"_intstate\",\"login_ticket\",\"client_id\",\"response_type\",\"response_mode\",\"redirect_uri\",\"audience\",\"scope\",\"state\",\"nonce\",\"display\",\"prompt\",\"max_age\",\"ui_locales\",\"claims_locales\",\"id_token_hint\",\"login_hint\",\"acr_values\",\"claims\",\"registration\",\"request\",\"request_uri\",\"code_challenge\",\"code_challenge_method\",\"access_type\",\"display\"];function oauthAuthorizeParams(warn,params){var notAllowed=objectHelper.getKeysNotIn(params,authorizeParams);return notAllowed.length>0&&warn.warning(\"Following parameters are not allowed on the `/authorize` endpoint: [\"+notAllowed.join(\",\")+\"]\"),params}function oauthTokenParams(warn,params){return objectHelper.pick(params,tokenParams)}var parametersWhitelist={oauthTokenParams:oauthTokenParams,oauthAuthorizeParams:oauthAuthorizeParams},core=createCommonjsModule(function(module,exports){var CryptoJS;module.exports=(CryptoJS=CryptoJS||function(Math,undefined){var create=Object.create||function(){function F(){}return function(obj){var subtype;return F.prototype=obj,subtype=new F,F.prototype=null,subtype}}(),C={},C_lib=C.lib={},Base=C_lib.Base={extend:function(overrides){var subtype=create(this);return overrides&&subtype.mixIn(overrides),subtype.hasOwnProperty(\"init\")&&this.init!==subtype.init||(subtype.init=function(){subtype.$super.init.apply(this,arguments)}),subtype.init.prototype=subtype,subtype.$super=this,subtype},create:function(){var instance=this.extend();return instance.init.apply(instance,arguments),instance},init:function(){},mixIn:function(properties){for(var propertyName in properties)properties.hasOwnProperty(propertyName)&&(this[propertyName]=properties[propertyName]);properties.hasOwnProperty(\"toString\")&&(this.toString=properties.toString)},clone:function(){return this.init.prototype.extend(this)}},WordArray=C_lib.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[],this.sigBytes=null!=sigBytes?sigBytes:4*words.length},toString:function(encoder){return(encoder||Hex).stringify(this)},concat:function(wordArray){var thisWords=this.words,thatWords=wordArray.words,thisSigBytes=this.sigBytes,thatSigBytes=wordArray.sigBytes;if(this.clamp(),thisSigBytes%4)for(var i=0;i<thatSigBytes;i++){var thatByte=thatWords[i>>>2]>>>24-i%4*8&255;thisWords[thisSigBytes+i>>>2]|=thatByte<<24-(thisSigBytes+i)%4*8}else for(var i=0;i<thatSigBytes;i+=4)thisWords[thisSigBytes+i>>>2]=thatWords[i>>>2];return this.sigBytes+=thatSigBytes,this},clamp:function(){var words=this.words,sigBytes=this.sigBytes;words[sigBytes>>>2]&=4294967295<<32-sigBytes%4*8,words.length=Math.ceil(sigBytes/4)},clone:function(){var clone=Base.clone.call(this);return clone.words=this.words.slice(0),clone},random:function(nBytes){for(var rcache,words=[],r=function(m_w){var m_w=m_w,m_z=987654321,mask=4294967295;return function(){var result=((m_z=36969*(65535&m_z)+(m_z>>16)&mask)<<16)+(m_w=18e3*(65535&m_w)+(m_w>>16)&mask)&mask;return result/=4294967296,(result+=.5)*(Math.random()>.5?1:-1)}},i=0;i<nBytes;i+=4){var _r=r(4294967296*(rcache||Math.random()));rcache=987654071*_r(),words.push(4294967296*_r()|0)}return new WordArray.init(words,nBytes)}}),C_enc=C.enc={},Hex=C_enc.Hex={stringify:function(wordArray){for(var words=wordArray.words,sigBytes=wordArray.sigBytes,hexChars=[],i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;hexChars.push((bite>>>4).toString(16)),hexChars.push((15&bite).toString(16))}return hexChars.join(\"\")},parse:function(hexStr){for(var hexStrLength=hexStr.length,words=[],i=0;i<hexStrLength;i+=2)words[i>>>3]|=parseInt(hexStr.substr(i,2),16)<<24-i%8*4;return new WordArray.init(words,hexStrLength/2)}},Latin1=C_enc.Latin1={stringify:function(wordArray){for(var words=wordArray.words,sigBytes=wordArray.sigBytes,latin1Chars=[],i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;latin1Chars.push(String.fromCharCode(bite))}return latin1Chars.join(\"\")},parse:function(latin1Str){for(var latin1StrLength=latin1Str.length,words=[],i=0;i<latin1StrLength;i++)words[i>>>2]|=(255&latin1Str.charCodeAt(i))<<24-i%4*8;return new WordArray.init(words,latin1StrLength)}},Utf8=C_enc.Utf8={stringify:function(wordArray){try{return decodeURIComponent(escape(Latin1.stringify(wordArray)))}catch(e){throw new Error(\"Malformed UTF-8 data\")}},parse:function(utf8Str){return Latin1.parse(unescape(encodeURIComponent(utf8Str)))}},BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm=Base.extend({reset:function(){this._data=new WordArray.init,this._nDataBytes=0},_append:function(data){\"string\"==typeof data&&(data=Utf8.parse(data)),this._data.concat(data),this._nDataBytes+=data.sigBytes},_process:function(doFlush){var data=this._data,dataWords=data.words,dataSigBytes=data.sigBytes,blockSize=this.blockSize,blockSizeBytes=4*blockSize,nBlocksReady=dataSigBytes/blockSizeBytes,nWordsReady=(nBlocksReady=doFlush?Math.ceil(nBlocksReady):Math.max((0|nBlocksReady)-this._minBufferSize,0))*blockSize,nBytesReady=Math.min(4*nWordsReady,dataSigBytes);if(nWordsReady){for(var offset=0;offset<nWordsReady;offset+=blockSize)this._doProcessBlock(dataWords,offset);var processedWords=dataWords.splice(0,nWordsReady);data.sigBytes-=nBytesReady}return new WordArray.init(processedWords,nBytesReady)},clone:function(){var clone=Base.clone.call(this);return clone._data=this._data.clone(),clone},_minBufferSize:0}),C_algo=(C_lib.Hasher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),init:function(cfg){this.cfg=this.cfg.extend(cfg),this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this),this._doReset()},update:function(messageUpdate){return this._append(messageUpdate),this._process(),this},finalize:function(messageUpdate){messageUpdate&&this._append(messageUpdate);var hash=this._doFinalize();return hash},blockSize:16,_createHelper:function(hasher){return function(message,cfg){return new hasher.init(cfg).finalize(message)}},_createHmacHelper:function(hasher){return function(message,key){return new C_algo.HMAC.init(hasher,key).finalize(message)}}}),C.algo={});return C}(Math),CryptoJS)}),sha256=createCommonjsModule(function(module,exports){var CryptoJS;module.exports=(CryptoJS=core,function(Math){var C=CryptoJS,C_lib=C.lib,WordArray=C_lib.WordArray,Hasher=C_lib.Hasher,C_algo=C.algo,H=[],K=[];!function(){function isPrime(n){for(var sqrtN=Math.sqrt(n),factor=2;factor<=sqrtN;factor++)if(!(n%factor))return!1;return!0}function getFractionalBits(n){return 4294967296*(n-(0|n))|0}for(var n=2,nPrime=0;nPrime<64;)isPrime(n)&&(nPrime<8&&(H[nPrime]=getFractionalBits(Math.pow(n,.5))),K[nPrime]=getFractionalBits(Math.pow(n,1/3)),nPrime++),n++}();var W=[],SHA256=C_algo.SHA256=Hasher.extend({_doReset:function(){this._hash=new WordArray.init(H.slice(0))},_doProcessBlock:function(M,offset){for(var H=this._hash.words,a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],f=H[5],g=H[6],h=H[7],i=0;i<64;i++){if(i<16)W[i]=0|M[offset+i];else{var gamma0x=W[i-15],gamma0=(gamma0x<<25|gamma0x>>>7)^(gamma0x<<14|gamma0x>>>18)^gamma0x>>>3,gamma1x=W[i-2],gamma1=(gamma1x<<15|gamma1x>>>17)^(gamma1x<<13|gamma1x>>>19)^gamma1x>>>10;W[i]=gamma0+W[i-7]+gamma1+W[i-16]}var maj=a&b^a&c^b&c,sigma0=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),t1=h+((e<<26|e>>>6)^(e<<21|e>>>11)^(e<<7|e>>>25))+(e&f^~e&g)+K[i]+W[i];h=g,g=f,f=e,e=d+t1|0,d=c,c=b,b=a,a=t1+(sigma0+maj)|0}H[0]=H[0]+a|0,H[1]=H[1]+b|0,H[2]=H[2]+c|0,H[3]=H[3]+d|0,H[4]=H[4]+e|0,H[5]=H[5]+f|0,H[6]=H[6]+g|0,H[7]=H[7]+h|0},_doFinalize:function(){var data=this._data,dataWords=data.words,nBitsTotal=8*this._nDataBytes,nBitsLeft=8*data.sigBytes;return dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,dataWords[14+(nBitsLeft+64>>>9<<4)]=Math.floor(nBitsTotal/4294967296),dataWords[15+(nBitsLeft+64>>>9<<4)]=nBitsTotal,data.sigBytes=4*dataWords.length,this._process(),this._hash},clone:function(){var clone=Hasher.clone.call(this);return clone._hash=this._hash.clone(),clone}});C.SHA256=Hasher._createHelper(SHA256),C.HmacSHA256=Hasher._createHmacHelper(SHA256)}(Math),CryptoJS.SHA256)}),encBase64=createCommonjsModule(function(module,exports){var CryptoJS,C,WordArray;module.exports=(WordArray=(C=CryptoJS=core).lib.WordArray,C.enc.Base64={stringify:function(wordArray){var words=wordArray.words,sigBytes=wordArray.sigBytes,map=this._map;wordArray.clamp();for(var base64Chars=[],i=0;i<sigBytes;i+=3)for(var triplet=(words[i>>>2]>>>24-i%4*8&255)<<16|(words[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|words[i+2>>>2]>>>24-(i+2)%4*8&255,j=0;j<4&&i+.75*j<sigBytes;j++)base64Chars.push(map.charAt(triplet>>>6*(3-j)&63));var paddingChar=map.charAt(64);if(paddingChar)for(;base64Chars.length%4;)base64Chars.push(paddingChar);return base64Chars.join(\"\")},parse:function(base64Str){var base64StrLength=base64Str.length,map=this._map,reverseMap=this._reverseMap;if(!reverseMap){reverseMap=this._reverseMap=[];for(var j=0;j<map.length;j++)reverseMap[map.charCodeAt(j)]=j}var paddingChar=map.charAt(64);if(paddingChar){var paddingIndex=base64Str.indexOf(paddingChar);-1!==paddingIndex&&(base64StrLength=paddingIndex)}return function(base64Str,base64StrLength,reverseMap){for(var words=[],nBytes=0,i=0;i<base64StrLength;i++)if(i%4){var bits1=reverseMap[base64Str.charCodeAt(i-1)]<<i%4*2,bits2=reverseMap[base64Str.charCodeAt(i)]>>>6-i%4*2;words[nBytes>>>2]|=(bits1|bits2)<<24-nBytes%4*8,nBytes++}return WordArray.create(words,nBytes)}(base64Str,base64StrLength,reverseMap)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"},CryptoJS.enc.Base64)}),encHex=createCommonjsModule(function(module,exports){module.exports=core.enc.Hex}),jsbn=createCommonjsModule(function(module,exports){(function(){var dbits;function BigInteger(a,b,c){null!=a&&(\"number\"==typeof a?this.fromNumber(a,b,c):null==b&&\"string\"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}var inBrowser=\"undefined\"!=typeof navigator;inBrowser&&\"Microsoft Internet Explorer\"==navigator.appName?(BigInteger.prototype.am=function(i,x,w,j,c,n){for(var xl=32767&x,xh=x>>15;--n>=0;){var l=32767&this[i],h=this[i++]>>15,m=xh*l+h*xl;c=((l=xl*l+((32767&m)<<15)+w[j]+(1073741823&c))>>>30)+(m>>>15)+xh*h+(c>>>30),w[j++]=1073741823&l}return c},dbits=30):inBrowser&&\"Netscape\"!=navigator.appName?(BigInteger.prototype.am=function(i,x,w,j,c,n){for(;--n>=0;){var v=x*this[i++]+w[j]+c;c=Math.floor(v/67108864),w[j++]=67108863&v}return c},dbits=26):(BigInteger.prototype.am=function(i,x,w,j,c,n){for(var xl=16383&x,xh=x>>14;--n>=0;){var l=16383&this[i],h=this[i++]>>14,m=xh*l+h*xl;c=((l=xl*l+((16383&m)<<14)+w[j]+c)>>28)+(m>>14)+xh*h,w[j++]=268435455&l}return c},dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;BigInteger.prototype.FV=Math.pow(2,52),BigInteger.prototype.F1=52-dbits,BigInteger.prototype.F2=2*dbits-52;var rr,vv,BI_RM=\"0123456789abcdefghijklmnopqrstuvwxyz\",BI_RC=new Array;for(rr=\"0\".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr=\"a\".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr=\"A\".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(n){return BI_RM.charAt(n)}function intAt(s,i){var c=BI_RC[s.charCodeAt(i)];return null==c?-1:c}function nbv(i){var r=nbi();return r.fromInt(i),r}function nbits(x){var t,r=1;return 0!=(t=x>>>16)&&(x=t,r+=16),0!=(t=x>>8)&&(x=t,r+=8),0!=(t=x>>4)&&(x=t,r+=4),0!=(t=x>>2)&&(x=t,r+=2),0!=(t=x>>1)&&(x=t,r+=1),r}function Classic(m){this.m=m}function Montgomery(m){this.m=m,this.mp=m.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<m.DB-15)-1,this.mt2=2*m.t}function op_and(x,y){return x&y}function op_or(x,y){return x|y}function op_xor(x,y){return x^y}function op_andnot(x,y){return x&~y}function lbit(x){if(0==x)return-1;var r=0;return 0==(65535&x)&&(x>>=16,r+=16),0==(255&x)&&(x>>=8,r+=8),0==(15&x)&&(x>>=4,r+=4),0==(3&x)&&(x>>=2,r+=2),0==(1&x)&&++r,r}function cbit(x){for(var r=0;0!=x;)x&=x-1,++r;return r}function NullExp(){}function nNop(x){return x}function Barrett(m){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*m.t,this.r2),this.mu=this.r2.divide(m),this.m=m}Classic.prototype.convert=function(x){return x.s<0||x.compareTo(this.m)>=0?x.mod(this.m):x},Classic.prototype.revert=function(x){return x},Classic.prototype.reduce=function(x){x.divRemTo(this.m,null,x)},Classic.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r),this.reduce(r)},Classic.prototype.sqrTo=function(x,r){x.squareTo(r),this.reduce(r)},Montgomery.prototype.convert=function(x){var r=nbi();return x.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),x.s<0&&r.compareTo(BigInteger.ZERO)>0&&this.m.subTo(r,r),r},Montgomery.prototype.revert=function(x){var r=nbi();return x.copyTo(r),this.reduce(r),r},Montgomery.prototype.reduce=function(x){for(;x.t<=this.mt2;)x[x.t++]=0;for(var i=0;i<this.m.t;++i){var j=32767&x[i],u0=j*this.mpl+((j*this.mph+(x[i]>>15)*this.mpl&this.um)<<15)&x.DM;for(x[j=i+this.m.t]+=this.m.am(0,u0,x,i,0,this.m.t);x[j]>=x.DV;)x[j]-=x.DV,x[++j]++}x.clamp(),x.drShiftTo(this.m.t,x),x.compareTo(this.m)>=0&&x.subTo(this.m,x)},Montgomery.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r),this.reduce(r)},Montgomery.prototype.sqrTo=function(x,r){x.squareTo(r),this.reduce(r)},BigInteger.prototype.copyTo=function(r){for(var i=this.t-1;i>=0;--i)r[i]=this[i];r.t=this.t,r.s=this.s},BigInteger.prototype.fromInt=function(x){this.t=1,this.s=x<0?-1:0,x>0?this[0]=x:x<-1?this[0]=x+this.DV:this.t=0},BigInteger.prototype.fromString=function(s,b){var k;if(16==b)k=4;else if(8==b)k=3;else if(256==b)k=8;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return void this.fromRadix(s,b);k=2}this.t=0,this.s=0;for(var i=s.length,mi=!1,sh=0;--i>=0;){var x=8==k?255&s[i]:intAt(s,i);x<0?\"-\"==s.charAt(i)&&(mi=!0):(mi=!1,0==sh?this[this.t++]=x:sh+k>this.DB?(this[this.t-1]|=(x&(1<<this.DB-sh)-1)<<sh,this[this.t++]=x>>this.DB-sh):this[this.t-1]|=x<<sh,(sh+=k)>=this.DB&&(sh-=this.DB))}8==k&&0!=(128&s[0])&&(this.s=-1,sh>0&&(this[this.t-1]|=(1<<this.DB-sh)-1<<sh)),this.clamp(),mi&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.clamp=function(){for(var c=this.s&this.DM;this.t>0&&this[this.t-1]==c;)--this.t},BigInteger.prototype.dlShiftTo=function(n,r){var i;for(i=this.t-1;i>=0;--i)r[i+n]=this[i];for(i=n-1;i>=0;--i)r[i]=0;r.t=this.t+n,r.s=this.s},BigInteger.prototype.drShiftTo=function(n,r){for(var i=n;i<this.t;++i)r[i-n]=this[i];r.t=Math.max(this.t-n,0),r.s=this.s},BigInteger.prototype.lShiftTo=function(n,r){var i,bs=n%this.DB,cbs=this.DB-bs,bm=(1<<cbs)-1,ds=Math.floor(n/this.DB),c=this.s<<bs&this.DM;for(i=this.t-1;i>=0;--i)r[i+ds+1]=this[i]>>cbs|c,c=(this[i]&bm)<<bs;for(i=ds-1;i>=0;--i)r[i]=0;r[ds]=c,r.t=this.t+ds+1,r.s=this.s,r.clamp()},BigInteger.prototype.rShiftTo=function(n,r){r.s=this.s;var ds=Math.floor(n/this.DB);if(ds>=this.t)r.t=0;else{var bs=n%this.DB,cbs=this.DB-bs,bm=(1<<bs)-1;r[0]=this[ds]>>bs;for(var i=ds+1;i<this.t;++i)r[i-ds-1]|=(this[i]&bm)<<cbs,r[i-ds]=this[i]>>bs;bs>0&&(r[this.t-ds-1]|=(this.s&bm)<<cbs),r.t=this.t-ds,r.clamp()}},BigInteger.prototype.subTo=function(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this[i]-a[i],r[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c-=a.s;i<this.t;)c+=this[i],r[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c-=a[i],r[i++]=c&this.DM,c>>=this.DB;c-=a.s}r.s=c<0?-1:0,c<-1?r[i++]=this.DV+c:c>0&&(r[i++]=c),r.t=i,r.clamp()},BigInteger.prototype.multiplyTo=function(a,r){var x=this.abs(),y=a.abs(),i=x.t;for(r.t=i+y.t;--i>=0;)r[i]=0;for(i=0;i<y.t;++i)r[i+x.t]=x.am(0,y[i],r,i,0,x.t);r.s=0,r.clamp(),this.s!=a.s&&BigInteger.ZERO.subTo(r,r)},BigInteger.prototype.squareTo=function(r){for(var x=this.abs(),i=r.t=2*x.t;--i>=0;)r[i]=0;for(i=0;i<x.t-1;++i){var c=x.am(i,x[i],r,2*i,0,1);(r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1))>=x.DV&&(r[i+x.t]-=x.DV,r[i+x.t+1]=1)}r.t>0&&(r[r.t-1]+=x.am(i,x[i],r,2*i,0,1)),r.s=0,r.clamp()},BigInteger.prototype.divRemTo=function(m,q,r){var pm=m.abs();if(!(pm.t<=0)){var pt=this.abs();if(pt.t<pm.t)return null!=q&&q.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=nbi());var y=nbi(),ts=this.s,ms=m.s,nsh=this.DB-nbits(pm[pm.t-1]);nsh>0?(pm.lShiftTo(nsh,y),pt.lShiftTo(nsh,r)):(pm.copyTo(y),pt.copyTo(r));var ys=y.t,y0=y[ys-1];if(0!=y0){var yt=y0*(1<<this.F1)+(ys>1?y[ys-2]>>this.F2:0),d1=this.FV/yt,d2=(1<<this.F1)/yt,e=1<<this.F2,i=r.t,j=i-ys,t=null==q?nbi():q;for(y.dlShiftTo(j,t),r.compareTo(t)>=0&&(r[r.t++]=1,r.subTo(t,r)),BigInteger.ONE.dlShiftTo(ys,t),t.subTo(y,y);y.t<ys;)y[y.t++]=0;for(;--j>=0;){var qd=r[--i]==y0?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);if((r[i]+=y.am(0,qd,r,j,0,ys))<qd)for(y.dlShiftTo(j,t),r.subTo(t,r);r[i]<--qd;)r.subTo(t,r)}null!=q&&(r.drShiftTo(ys,q),ts!=ms&&BigInteger.ZERO.subTo(q,q)),r.t=ys,r.clamp(),nsh>0&&r.rShiftTo(nsh,r),ts<0&&BigInteger.ZERO.subTo(r,r)}}},BigInteger.prototype.invDigit=function(){if(this.t<1)return 0;var x=this[0];if(0==(1&x))return 0;var y=3&x;return(y=(y=(y=(y=y*(2-(15&x)*y)&15)*(2-(255&x)*y)&255)*(2-((65535&x)*y&65535))&65535)*(2-x*y%this.DV)%this.DV)>0?this.DV-y:-y},BigInteger.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},BigInteger.prototype.exp=function(e,z){if(e>4294967295||e<1)return BigInteger.ONE;var r=nbi(),r2=nbi(),g=z.convert(this),i=nbits(e)-1;for(g.copyTo(r);--i>=0;)if(z.sqrTo(r,r2),(e&1<<i)>0)z.mulTo(r2,g,r);else{var t=r;r=r2,r2=t}return z.revert(r)},BigInteger.prototype.toString=function(b){if(this.s<0)return\"-\"+this.negate().toString(b);var k;if(16==b)k=4;else if(8==b)k=3;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return this.toRadix(b);k=2}var d,km=(1<<k)-1,m=!1,r=\"\",i=this.t,p=this.DB-i*this.DB%k;if(i-- >0)for(p<this.DB&&(d=this[i]>>p)>0&&(m=!0,r=int2char(d));i>=0;)p<k?(d=(this[i]&(1<<p)-1)<<k-p,d|=this[--i]>>(p+=this.DB-k)):(d=this[i]>>(p-=k)&km,p<=0&&(p+=this.DB,--i)),d>0&&(m=!0),m&&(r+=int2char(d));return m?r:\"0\"},BigInteger.prototype.negate=function(){var r=nbi();return BigInteger.ZERO.subTo(this,r),r},BigInteger.prototype.abs=function(){return this.s<0?this.negate():this},BigInteger.prototype.compareTo=function(a){var r=this.s-a.s;if(0!=r)return r;var i=this.t;if(0!=(r=i-a.t))return this.s<0?-r:r;for(;--i>=0;)if(0!=(r=this[i]-a[i]))return r;return 0},BigInteger.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)},BigInteger.prototype.mod=function(a){var r=nbi();return this.abs().divRemTo(a,null,r),this.s<0&&r.compareTo(BigInteger.ZERO)>0&&a.subTo(r,r),r},BigInteger.prototype.modPowInt=function(e,m){var z;return z=e<256||m.isEven()?new Classic(m):new Montgomery(m),this.exp(e,z)},BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r)},NullExp.prototype.sqrTo=function(x,r){x.squareTo(r)},Barrett.prototype.convert=function(x){if(x.s<0||x.t>2*this.m.t)return x.mod(this.m);if(x.compareTo(this.m)<0)return x;var r=nbi();return x.copyTo(r),this.reduce(r),r},Barrett.prototype.revert=function(x){return x},Barrett.prototype.reduce=function(x){for(x.drShiftTo(this.m.t-1,this.r2),x.t>this.m.t+1&&(x.t=this.m.t+1,x.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);x.compareTo(this.r2)<0;)x.dAddOffset(1,this.m.t+1);for(x.subTo(this.r2,x);x.compareTo(this.m)>=0;)x.subTo(this.m,x)},Barrett.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r),this.reduce(r)},Barrett.prototype.sqrTo=function(x,r){x.squareTo(r),this.reduce(r)};var rng_state,rng_pool,rng_pptr,lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=(1<<26)/lowprimes[lowprimes.length-1];function rng_seed_time(){var x;x=(new Date).getTime(),rng_pool[rng_pptr++]^=255&x,rng_pool[rng_pptr++]^=x>>8&255,rng_pool[rng_pptr++]^=x>>16&255,rng_pool[rng_pptr++]^=x>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}if(BigInteger.prototype.chunkSize=function(r){return Math.floor(Math.LN2*this.DB/Math.log(r))},BigInteger.prototype.toRadix=function(b){if(null==b&&(b=10),0==this.signum()||b<2||b>36)return\"0\";var cs=this.chunkSize(b),a=Math.pow(b,cs),d=nbv(a),y=nbi(),z=nbi(),r=\"\";for(this.divRemTo(d,y,z);y.signum()>0;)r=(a+z.intValue()).toString(b).substr(1)+r,y.divRemTo(d,y,z);return z.intValue().toString(b)+r},BigInteger.prototype.fromRadix=function(s,b){this.fromInt(0),null==b&&(b=10);for(var cs=this.chunkSize(b),d=Math.pow(b,cs),mi=!1,j=0,w=0,i=0;i<s.length;++i){var x=intAt(s,i);x<0?\"-\"==s.charAt(i)&&0==this.signum()&&(mi=!0):(w=b*w+x,++j>=cs&&(this.dMultiply(d),this.dAddOffset(w,0),j=0,w=0))}j>0&&(this.dMultiply(Math.pow(b,j)),this.dAddOffset(w,0)),mi&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.fromNumber=function(a,b,c){if(\"number\"==typeof b)if(a<2)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this);else{var x=new Array,t=7&a;x.length=1+(a>>3),b.nextBytes(x),t>0?x[0]&=(1<<t)-1:x[0]=0,this.fromString(x,256)}},BigInteger.prototype.bitwiseTo=function(a,op,r){var i,f,m=Math.min(a.t,this.t);for(i=0;i<m;++i)r[i]=op(this[i],a[i]);if(a.t<this.t){for(f=a.s&this.DM,i=m;i<this.t;++i)r[i]=op(this[i],f);r.t=this.t}else{for(f=this.s&this.DM,i=m;i<a.t;++i)r[i]=op(f,a[i]);r.t=a.t}r.s=op(this.s,a.s),r.clamp()},BigInteger.prototype.changeBit=function(n,op){var r=BigInteger.ONE.shiftLeft(n);return this.bitwiseTo(r,op,r),r},BigInteger.prototype.addTo=function(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this[i]+a[i],r[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c+=a.s;i<this.t;)c+=this[i],r[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c+=a[i],r[i++]=c&this.DM,c>>=this.DB;c+=a.s}r.s=c<0?-1:0,c>0?r[i++]=c:c<-1&&(r[i++]=this.DV+c),r.t=i,r.clamp()},BigInteger.prototype.dMultiply=function(n){this[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()},BigInteger.prototype.dAddOffset=function(n,w){if(0!=n){for(;this.t<=w;)this[this.t++]=0;for(this[w]+=n;this[w]>=this.DV;)this[w]-=this.DV,++w>=this.t&&(this[this.t++]=0),++this[w]}},BigInteger.prototype.multiplyLowerTo=function(a,n,r){var j,i=Math.min(this.t+a.t,n);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(j=r.t-this.t;i<j;++i)r[i+this.t]=this.am(0,a[i],r,i,0,this.t);for(j=Math.min(a.t,n);i<j;++i)this.am(0,a[i],r,i,0,n-i);r.clamp()},BigInteger.prototype.multiplyUpperTo=function(a,n,r){--n;var i=r.t=this.t+a.t-n;for(r.s=0;--i>=0;)r[i]=0;for(i=Math.max(n-this.t,0);i<a.t;++i)r[this.t+i-n]=this.am(n-i,a[i],r,0,0,this.t+i-n);r.clamp(),r.drShiftTo(1,r)},BigInteger.prototype.modInt=function(n){if(n<=0)return 0;var d=this.DV%n,r=this.s<0?n-1:0;if(this.t>0)if(0==d)r=this[0]%n;else for(var i=this.t-1;i>=0;--i)r=(d*r+this[i])%n;return r},BigInteger.prototype.millerRabin=function(t){var n1=this.subtract(BigInteger.ONE),k=n1.getLowestSetBit();if(k<=0)return!1;var r=n1.shiftRight(k);(t=t+1>>1)>lowprimes.length&&(t=lowprimes.length);for(var a=nbi(),i=0;i<t;++i){a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var y=a.modPow(r,this);if(0!=y.compareTo(BigInteger.ONE)&&0!=y.compareTo(n1)){for(var j=1;j++<k&&0!=y.compareTo(n1);)if(0==(y=y.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=y.compareTo(n1))return!1}}return!0},BigInteger.prototype.clone=function(){var r=nbi();return this.copyTo(r),r},BigInteger.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},BigInteger.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},BigInteger.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},BigInteger.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},BigInteger.prototype.toByteArray=function(){var i=this.t,r=new Array;r[0]=this.s;var d,p=this.DB-i*this.DB%8,k=0;if(i-- >0)for(p<this.DB&&(d=this[i]>>p)!=(this.s&this.DM)>>p&&(r[k++]=d|this.s<<this.DB-p);i>=0;)p<8?(d=(this[i]&(1<<p)-1)<<8-p,d|=this[--i]>>(p+=this.DB-8)):(d=this[i]>>(p-=8)&255,p<=0&&(p+=this.DB,--i)),0!=(128&d)&&(d|=-256),0==k&&(128&this.s)!=(128&d)&&++k,(k>0||d!=this.s)&&(r[k++]=d);return r},BigInteger.prototype.equals=function(a){return 0==this.compareTo(a)},BigInteger.prototype.min=function(a){return this.compareTo(a)<0?this:a},BigInteger.prototype.max=function(a){return this.compareTo(a)>0?this:a},BigInteger.prototype.and=function(a){var r=nbi();return this.bitwiseTo(a,op_and,r),r},BigInteger.prototype.or=function(a){var r=nbi();return this.bitwiseTo(a,op_or,r),r},BigInteger.prototype.xor=function(a){var r=nbi();return this.bitwiseTo(a,op_xor,r),r},BigInteger.prototype.andNot=function(a){var r=nbi();return this.bitwiseTo(a,op_andnot,r),r},BigInteger.prototype.not=function(){for(var r=nbi(),i=0;i<this.t;++i)r[i]=this.DM&~this[i];return r.t=this.t,r.s=~this.s,r},BigInteger.prototype.shiftLeft=function(n){var r=nbi();return n<0?this.rShiftTo(-n,r):this.lShiftTo(n,r),r},BigInteger.prototype.shiftRight=function(n){var r=nbi();return n<0?this.lShiftTo(-n,r):this.rShiftTo(n,r),r},BigInteger.prototype.getLowestSetBit=function(){for(var i=0;i<this.t;++i)if(0!=this[i])return i*this.DB+lbit(this[i]);return this.s<0?this.t*this.DB:-1},BigInteger.prototype.bitCount=function(){for(var r=0,x=this.s&this.DM,i=0;i<this.t;++i)r+=cbit(this[i]^x);return r},BigInteger.prototype.testBit=function(n){var j=Math.floor(n/this.DB);return j>=this.t?0!=this.s:0!=(this[j]&1<<n%this.DB)},BigInteger.prototype.setBit=function(n){return this.changeBit(n,op_or)},BigInteger.prototype.clearBit=function(n){return this.changeBit(n,op_andnot)},BigInteger.prototype.flipBit=function(n){return this.changeBit(n,op_xor)},BigInteger.prototype.add=function(a){var r=nbi();return this.addTo(a,r),r},BigInteger.prototype.subtract=function(a){var r=nbi();return this.subTo(a,r),r},BigInteger.prototype.multiply=function(a){var r=nbi();return this.multiplyTo(a,r),r},BigInteger.prototype.divide=function(a){var r=nbi();return this.divRemTo(a,r,null),r},BigInteger.prototype.remainder=function(a){var r=nbi();return this.divRemTo(a,null,r),r},BigInteger.prototype.divideAndRemainder=function(a){var q=nbi(),r=nbi();return this.divRemTo(a,q,r),new Array(q,r)},BigInteger.prototype.modPow=function(e,m){var k,z,i=e.bitLength(),r=nbv(1);if(i<=0)return r;k=i<18?1:i<48?3:i<144?4:i<768?5:6,z=i<8?new Classic(m):m.isEven()?new Barrett(m):new Montgomery(m);var g=new Array,n=3,k1=k-1,km=(1<<k)-1;if(g[1]=z.convert(this),k>1){var g2=nbi();for(z.sqrTo(g[1],g2);n<=km;)g[n]=nbi(),z.mulTo(g2,g[n-2],g[n]),n+=2}var w,t,j=e.t-1,is1=!0,r2=nbi();for(i=nbits(e[j])-1;j>=0;){for(i>=k1?w=e[j]>>i-k1&km:(w=(e[j]&(1<<i+1)-1)<<k1-i,j>0&&(w|=e[j-1]>>this.DB+i-k1)),n=k;0==(1&w);)w>>=1,--n;if((i-=n)<0&&(i+=this.DB,--j),is1)g[w].copyTo(r),is1=!1;else{for(;n>1;)z.sqrTo(r,r2),z.sqrTo(r2,r),n-=2;n>0?z.sqrTo(r,r2):(t=r,r=r2,r2=t),z.mulTo(r2,g[w],r)}for(;j>=0&&0==(e[j]&1<<i);)z.sqrTo(r,r2),t=r,r=r2,r2=t,--i<0&&(i=this.DB-1,--j)}return z.revert(r)},BigInteger.prototype.modInverse=function(m){var ac=m.isEven();if(this.isEven()&&ac||0==m.signum())return BigInteger.ZERO;for(var u=m.clone(),v=this.clone(),a=nbv(1),b=nbv(0),c=nbv(0),d=nbv(1);0!=u.signum();){for(;u.isEven();)u.rShiftTo(1,u),ac?(a.isEven()&&b.isEven()||(a.addTo(this,a),b.subTo(m,b)),a.rShiftTo(1,a)):b.isEven()||b.subTo(m,b),b.rShiftTo(1,b);for(;v.isEven();)v.rShiftTo(1,v),ac?(c.isEven()&&d.isEven()||(c.addTo(this,c),d.subTo(m,d)),c.rShiftTo(1,c)):d.isEven()||d.subTo(m,d),d.rShiftTo(1,d);u.compareTo(v)>=0?(u.subTo(v,u),ac&&a.subTo(c,a),b.subTo(d,b)):(v.subTo(u,v),ac&&c.subTo(a,c),d.subTo(b,d))}return 0!=v.compareTo(BigInteger.ONE)?BigInteger.ZERO:d.compareTo(m)>=0?d.subtract(m):d.signum()<0?(d.addTo(m,d),d.signum()<0?d.add(m):d):d},BigInteger.prototype.pow=function(e){return this.exp(e,new NullExp)},BigInteger.prototype.gcd=function(a){var x=this.s<0?this.negate():this.clone(),y=a.s<0?a.negate():a.clone();if(x.compareTo(y)<0){var t=x;x=y,y=t}var i=x.getLowestSetBit(),g=y.getLowestSetBit();if(g<0)return x;for(i<g&&(g=i),g>0&&(x.rShiftTo(g,x),y.rShiftTo(g,y));x.signum()>0;)(i=x.getLowestSetBit())>0&&x.rShiftTo(i,x),(i=y.getLowestSetBit())>0&&y.rShiftTo(i,y),x.compareTo(y)>=0?(x.subTo(y,x),x.rShiftTo(1,x)):(y.subTo(x,y),y.rShiftTo(1,y));return g>0&&y.lShiftTo(g,y),y},BigInteger.prototype.isProbablePrime=function(t){var i,x=this.abs();if(1==x.t&&x[0]<=lowprimes[lowprimes.length-1]){for(i=0;i<lowprimes.length;++i)if(x[0]==lowprimes[i])return!0;return!1}if(x.isEven())return!1;for(i=1;i<lowprimes.length;){for(var m=lowprimes[i],j=i+1;j<lowprimes.length&&m<lplim;)m*=lowprimes[j++];for(m=x.modInt(m);i<j;)if(m%lowprimes[i++]==0)return!1}return x.millerRabin(t)},BigInteger.prototype.square=function(){var r=nbi();return this.squareTo(r),r},BigInteger.prototype.Barrett=Barrett,null==rng_pool){var t;if(rng_pool=new Array,rng_pptr=0,\"undefined\"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var ua=new Uint8Array(32);for(window.crypto.getRandomValues(ua),t=0;t<32;++t)rng_pool[rng_pptr++]=ua[t]}else if(\"Netscape\"==navigator.appName&&navigator.appVersion<\"5\"){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),(rng_state=new Arcfour).init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function SecureRandom(){}function Arcfour(){this.i=0,this.j=0,this.S=new Array}SecureRandom.prototype.nextBytes=function(ba){var i;for(i=0;i<ba.length;++i)ba[i]=rng_get_byte()},Arcfour.prototype.init=function(key){var i,j,t;for(i=0;i<256;++i)this.S[i]=i;for(j=0,i=0;i<256;++i)j=j+this.S[i]+key[i%key.length]&255,t=this.S[i],this.S[i]=this.S[j],this.S[j]=t;this.i=0,this.j=0},Arcfour.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var rng_psize=256;BigInteger.SecureRandom=SecureRandom,BigInteger.BigInteger=BigInteger,module.exports=BigInteger}).call(commonjsGlobal)}),BigInteger=jsbn.BigInteger,DigestInfoHead={sha1:\"3021300906052b0e03021a05000414\",sha224:\"302d300d06096086480165030402040500041c\",sha256:\"3031300d060960864801650304020105000420\",sha384:\"3041300d060960864801650304020205000430\",sha512:\"3051300d060960864801650304020305000440\",md2:\"3020300c06082a864886f70d020205000410\",md5:\"3020300c06082a864886f70d020505000410\",ripemd160:\"3021300906052b2403020105000414\"},DigestAlgs={sha256:sha256};function RSAVerifier(modulus,exp){if(this.n=null,this.e=0,!(null!=modulus&&null!=exp&&modulus.length>0&&exp.length>0))throw new Error(\"Invalid key data\");this.n=new BigInteger(modulus,16),this.e=parseInt(exp,16)}function getAlgorithmFromDigest(hDigestInfo){for(var algName in DigestInfoHead){var head=DigestInfoHead[algName],len=head.length;if(hDigestInfo.substring(0,len)===head)return{alg:algName,hash:hDigestInfo.substring(len)}}return[]}RSAVerifier.prototype.verify=function(msg,encsig){encsig=encsig.replace(/[^0-9a-f]|[\\s\\n]]/gi,\"\");var sig=new BigInteger(encsig,16);if(sig.bitLength()>this.n.bitLength())throw new Error(\"Signature does not match with the key modulus.\");var digestInfo=getAlgorithmFromDigest(sig.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,\"\"));if(0===digestInfo.length)return!1;if(!DigestAlgs.hasOwnProperty(digestInfo.alg))throw new Error(\"Hashing algorithm is not supported.\");var msgHash=DigestAlgs[digestInfo.alg](msg).toString();return digestInfo.hash===msgHash};var rsaVerifier=RSAVerifier;function padding$1(str){var mod=str.length%4;return 0===mod?str:str+new Array(1+(4-mod)).join(\"=\")}function byteArrayToString$1(array){for(var result=\"\",i=0;i<array.length;i++)result+=String.fromCharCode(array[i]);return result}function stringToByteArray$1(str){for(var arr=new Array(str.length),a=0;a<str.length;a++)arr[a]=str.charCodeAt(a);return arr}function byteArrayToHex(raw){for(var HEX=\"\",i=0;i<raw.length;i++){var _hex=raw[i].toString(16);HEX+=2===_hex.length?_hex:\"0\"+_hex}return HEX}function encodeString(str){return base64Js.fromByteArray(stringToByteArray$1(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function(match,p1){return String.fromCharCode(\"0x\"+p1)}))).replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function decodeToString(str){return str=padding$1(str).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),decodeURIComponent(byteArrayToString$1(base64Js.toByteArray(str)).split(\"\").map(function(c){return\"%\"+(\"00\"+c.charCodeAt(0).toString(16)).slice(-2)}).join(\"\"))}function decodeToHEX(str){return byteArrayToHex(base64Js.toByteArray(padding$1(str)))}function base64ToBase64Url(base64String){var SAFE_URL_ENCODING_MAPPING={\"+\":\"-\",\"/\":\"_\",\"=\":\"\"};return base64String.replace(/[+\\/=]/g,function(m){return SAFE_URL_ENCODING_MAPPING[m]})}var base64_1={encodeString:encodeString,decodeToString:decodeToString,byteArrayToString:byteArrayToString$1,stringToByteArray:stringToByteArray$1,padding:padding$1,byteArrayToHex:byteArrayToHex,decodeToHEX:decodeToHEX,base64ToBase64Url:base64ToBase64Url},urlJoin$1=createCommonjsModule(function(module){var context,definition;context=commonjsGlobal,definition=function(){return function(){var input=arguments;\"object\"==typeof arguments[0]&&(input=arguments[0],arguments[1]);var joined=[].slice.call(input,0).join(\"/\");return joined.replace(/:\\//g,\"://\").replace(/([^:\\s])\\/+/g,\"$1/\").replace(/\\/(\\?|&|#[^!])/g,\"$1\").replace(/(\\?.+)\\?/g,\"$1&\")}},module.exports?module.exports=definition():context.urljoin=definition()});function process(jwks){return{modulus:base64_1.decodeToHEX(jwks.n),exp:base64_1.decodeToHEX(jwks.e)}}function getJWKS(options,cb){var url=options.jwksURI||urlJoin$1(options.iss,\".well-known\",\"jwks.json\");return client.get(url).end(function(err,data){var a,key,matchingKey=null;if(err)return cb(err);for(a=0;a<data.body.keys.length&&null===matchingKey;a++)(key=data.body.keys[a]).kid===options.kid&&(matchingKey=key);return cb(null,process(matchingKey))})}var jwks={process:process,getJWKS:getJWKS};function ConfigurationError(message){this.name=\"ConfigurationError\",this.message=message||\"\"}function TokenValidationError(message){this.name=\"TokenValidationError\",this.message=message||\"\"}ConfigurationError.prototype=Error.prototype,TokenValidationError.prototype=Error.prototype;var error$1={ConfigurationError:ConfigurationError,TokenValidationError:TokenValidationError};function DummyCache(){}DummyCache.prototype.get=function(){return null},DummyCache.prototype.has=function(){return!1},DummyCache.prototype.set=function(){};var dummyCache=DummyCache,supportedAlgs=[\"RS256\"];function IdTokenVerifier(parameters){var options=parameters||{};if(this.jwksCache=options.jwksCache||new dummyCache,this.expectedAlg=options.expectedAlg||\"RS256\",this.issuer=options.issuer,this.audience=options.audience,this.leeway=options.leeway||0,this.__disableExpirationCheck=options.__disableExpirationCheck||!1,this.jwksURI=options.jwksURI,this.leeway<0||this.leeway>60)throw new error$1.ConfigurationError(\"The leeway should be positive and lower than a minute.\");if(-1===supportedAlgs.indexOf(this.expectedAlg))throw new error$1.ConfigurationError(\"Algorithm \"+this.expectedAlg+\" is not supported. (Expected algs: [\"+supportedAlgs.join(\",\")+\"])\")}IdTokenVerifier.prototype.verify=function(token,nonce,cb){var jwt=this.decode(token);if(jwt instanceof Error)return cb(jwt,!1);var headAndPayload=jwt.encoded.header+\".\"+jwt.encoded.payload,signature=base64_1.decodeToHEX(jwt.encoded.signature),alg=jwt.header.alg,kid=jwt.header.kid,aud=jwt.payload.aud,iss=jwt.payload.iss,exp=jwt.payload.exp,nbf=jwt.payload.nbf,tnonce=jwt.payload.nonce||null;if(this.issuer!==iss)return cb(new error$1.TokenValidationError(\"Issuer \"+iss+\" is not valid.\"),!1);if(this.audience!==aud)return cb(new error$1.TokenValidationError(\"Audience \"+aud+\" is not valid.\"),!1);if(this.expectedAlg!==alg)return cb(new error$1.TokenValidationError(\"Algorithm \"+alg+\" is not supported. (Expected algs: [\"+supportedAlgs.join(\",\")+\"])\"),!1);if(tnonce!==nonce)return cb(new error$1.TokenValidationError(\"Nonce does not match.\"),!1);var expirationError=this.verifyExpAndNbf(exp,nbf);return expirationError?cb(expirationError,!1):this.getRsaVerifier(iss,kid,function(err,rsaVerifier$$1){return err?cb(err):rsaVerifier$$1.verify(headAndPayload,signature)?cb(null,jwt.payload):cb(new error$1.TokenValidationError(\"Invalid signature.\"))})},IdTokenVerifier.prototype.verifyExpAndNbf=function(exp,nbf){var now=new Date,expDate=new Date(0),nbfDate=new Date(0);return this.__disableExpirationCheck?null:(expDate.setUTCSeconds(exp+this.leeway),now>expDate?new error$1.TokenValidationError(\"Expired token.\"):void 0===nbf?null:(nbfDate.setUTCSeconds(nbf-this.leeway),now<nbfDate?new error$1.TokenValidationError(\"The token is not valid until later in the future. Please check your computed clock.\"):null))},IdTokenVerifier.prototype.verifyExpAndIat=function(exp,iat){var now=new Date,expDate=new Date(0),iatDate=new Date(0);return this.__disableExpirationCheck?null:(expDate.setUTCSeconds(exp+this.leeway),now>expDate?new error$1.TokenValidationError(\"Expired token.\"):(iatDate.setUTCSeconds(iat-this.leeway),now<iatDate?new error$1.TokenValidationError(\"The token was issued in the future. Please check your computed clock.\"):null))},IdTokenVerifier.prototype.getRsaVerifier=function(iss,kid,cb){var _this=this,cachekey=iss+kid;if(this.jwksCache.has(cachekey)){var keyInfo=this.jwksCache.get(cachekey);cb(null,new rsaVerifier(keyInfo.modulus,keyInfo.exp))}else jwks.getJWKS({jwksURI:this.jwksURI,iss:iss,kid:kid},function(err,keyInfo){return err?cb(err):(_this.jwksCache.set(cachekey,keyInfo),cb(null,new rsaVerifier(keyInfo.modulus,keyInfo.exp)))})},IdTokenVerifier.prototype.decode=function(token){var header,payload,parts=token.split(\".\");if(3!==parts.length)return new error$1.TokenValidationError(\"Cannot decode a malformed JWT\");try{header=JSON.parse(base64_1.decodeToString(parts[0])),payload=JSON.parse(base64_1.decodeToString(parts[1]))}catch(e){return new error$1.TokenValidationError(\"Token header or payload is not valid JSON\")}return{header:header,payload:payload,encoded:{header:parts[0],payload:parts[1],signature:parts[2]}}},IdTokenVerifier.prototype.validateAccessToken=function(accessToken,alg,atHash,cb){if(this.expectedAlg!==alg)return cb(new error$1.TokenValidationError(\"Algorithm \"+alg+\" is not supported. (Expected alg: \"+this.expectedAlg+\")\"));var sha256AccessToken=sha256(accessToken),hashToHex=encHex.stringify(sha256AccessToken),hashToHexFirstHalf=hashToHex.substring(0,hashToHex.length/2),hashFirstHalfWordArray=encHex.parse(hashToHexFirstHalf),hashFirstHalfBase64=encBase64.stringify(hashFirstHalfWordArray);return cb(base64_1.base64ToBase64Url(hashFirstHalfBase64)!==atHash?new error$1.TokenValidationError(\"Invalid access_token\"):null)};var src=IdTokenVerifier;function PluginHandler(webAuth,plugins){this.plugins=plugins;for(var a=0;a<this.plugins.length;a++){if(this.plugins[a].version!==version.raw){var pluginName=\"\";throw this.plugins[a].constructor&&this.plugins[a].constructor.name&&(pluginName=this.plugins[a].constructor.name),new Error(\"Plugin \"+pluginName+\" version (\"+this.plugins[a].version+\") is not compatible with the SDK version (\"+version.raw+\")\")}this.plugins[a].setWebAuth(webAuth)}}function randomString(length){var bytes=new Uint8Array(length),result=[],charset=\"0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~\",cryptoObj=windowHandler.getWindow().crypto||windowHandler.getWindow().msCrypto;if(!cryptoObj)return null;for(var random=cryptoObj.getRandomValues(bytes),a=0;a<random.length;a++)result.push(charset[random[a]%charset.length]);return result.join(\"\")}PluginHandler.prototype.get=function(extensibilityPoint){for(var a=0;a<this.plugins.length;a++)if(this.plugins[a].supports(extensibilityPoint))return this.plugins[a].init();return null};var random={randomString:randomString},MINUTES_15=1/96,MINUTES_30=1/48,DEFAULT_NAMESPACE=\"com.auth0.auth.\";function TransactionManager(options){var transaction=options.transaction||{};this.namespace=transaction.namespace||DEFAULT_NAMESPACE,this.keyLength=transaction.keyLength||32,this.storage=new Storage(options),this.options=options}function IframeHandler(options){if(this.url=options.url,this.callback=options.callback,this.timeout=options.timeout||6e4,this.timeoutCallback=options.timeoutCallback||null,this.eventListenerType=options.eventListenerType||\"message\",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=options.eventValidator||{isValid:function(){return!0}},\"function\"!=typeof this.callback)throw new Error(\"options.callback must be a function\")}function runWebMessageFlow(authorizeUrl,options,callback){new IframeHandler({url:authorizeUrl,eventListenerType:\"message\",callback:function(eventData){callback(null,eventData)},timeout:options.timeout,eventValidator:{isValid:function(eventData){return\"authorization_response\"===eventData.event.data.type&&options.state===eventData.event.data.response.state}},timeoutCallback:function(){callback({error:\"timeout\",error_description:\"Timeout during executing web_message communication\",state:options.state})}}).init()}function WebMessageHandler(webAuth){this.webAuth=webAuth,this.warn=new Warn(webAuth.baseOptions)}function CrossOriginAuthentication(webAuth,options){this.webAuth=webAuth,this.baseOptions=options,this.request=new RequestBuilder(options),this.webMessageHandler=new WebMessageHandler(webAuth),this.storage=new Storage(options)}function getFragment(name){var parts=(\"&\"+windowHandler.getWindow().location.hash.substring(1)).split(\"&\"+name+\"=\");if(2===parts.length)return parts.pop().split(\"&\").shift()}function createKey(origin,coId){return[\"co/verifier\",encodeURIComponent(origin),encodeURIComponent(coId)].join(\"/\")}function tryGetVerifier(storage,key){try{var verifier=storage.getItem(key);return storage.removeItem(key),verifier||\"\"}catch(e){return\"\"}}function Redirect(auth0,options){this.webAuth=auth0,this.baseOptions=options,this.crossOriginAuthentication=new CrossOriginAuthentication(auth0,this.baseOptions),this.warn=new Warn({disableWarnings:!!options._disableDeprecationWarnings})}TransactionManager.prototype.process=function(options){if(!options.responseType)throw new Error(\"responseType is required\");var lastUsedConnection=options.realm||options.connection,responseTypeIncludesIdToken=-1!==options.responseType.indexOf(\"id_token\"),transaction=this.generateTransaction(options.appState,options.state,options.nonce,lastUsedConnection,responseTypeIncludesIdToken);return options.state||(options.state=transaction.state),responseTypeIncludesIdToken&&!options.nonce&&(options.nonce=transaction.nonce),options},TransactionManager.prototype.generateTransaction=function(appState,state,nonce,lastUsedConnection,generateNonce){return state=state||random.randomString(this.keyLength),nonce=nonce||(generateNonce?random.randomString(this.keyLength):null),windowHandler.getWindow().location.host===this.options.domain||this.storage.setItem(this.namespace+state,{nonce:nonce,appState:appState,state:state,lastUsedConnection:lastUsedConnection},{expires:MINUTES_30}),{state:state,nonce:nonce}},TransactionManager.prototype.getStoredTransaction=function(state){var transactionData;return transactionData=this.storage.getItem(this.namespace+state),this.clearTransaction(state),transactionData},TransactionManager.prototype.clearTransaction=function(state){this.storage.removeItem(this.namespace+state)},IframeHandler.prototype.init=function(){var _this=this,_window=windowHandler.getWindow();switch(this.iframe=_window.document.createElement(\"iframe\"),this.iframe.style.display=\"none\",this.proxyEventListener=function(e){_this.eventListener(e)},this.eventListenerType){case\"message\":this.eventSourceObject=_window;break;case\"load\":this.eventSourceObject=this.iframe;break;default:throw new Error(\"Unsupported event listener type: \"+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),_window.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){_this.timeoutHandler()},this.timeout)},IframeHandler.prototype.eventListener=function(event){var eventData={event:event,sourceObject:this.eventSourceObject};this.eventValidator.isValid(eventData)&&(this.destroy(),this.callback(eventData))},IframeHandler.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},IframeHandler.prototype.destroy=function(){var _this=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){_this.eventSourceObject.removeEventListener(_this.eventListenerType,_this.proxyEventListener,!1),_this.iframe.parentNode&&_this.iframe.parentNode.removeChild(_this.iframe)},0)},WebMessageHandler.prototype.run=function(options,cb){var _this=this;options.responseMode=\"web_message\",options.prompt=\"none\";var currentOrigin=windowHandler.getOrigin(),redirectUriOrigin=objectHelper.getOriginFromUrl(options.redirectUri);if(redirectUriOrigin&&currentOrigin!==redirectUriOrigin)return cb({error:\"origin_mismatch\",error_description:\"The redirectUri's origin (\"+redirectUriOrigin+\") should match the window's origin (\"+currentOrigin+\").\"});runWebMessageFlow(this.webAuth.client.buildAuthorizeUrl(options),options,function(err,eventData){var error=err;if(!err&&eventData.event.data.response.error&&(error=eventData.event.data.response),!error){var parsedHash=eventData.event.data.response;return _this.webAuth.validateAuthenticationResponse(options,parsedHash,cb)}return\"consent_required\"===error.error&&\"localhost\"===windowHandler.getWindow().location.hostname&&_this.warn.warning(\"Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients\"),_this.webAuth.transactionManager.clearTransaction(error.state),cb(objectHelper.pick(error,[\"error\",\"error_description\"]))})},CrossOriginAuthentication.prototype.login=function(options,cb){var _this=this,url=urlJoin(this.baseOptions.rootUrl,\"/co/authenticate\");options.username=options.username||options.email,delete options.email;var authenticateBody={client_id:options.clientID||this.baseOptions.clientID,username:options.username};options.password&&(authenticateBody.password=options.password),options.otp&&(authenticateBody.otp=options.otp);var realm=options.realm||this.baseOptions.realm;if(realm){var credentialType=options.credentialType||this.baseOptions.credentialType||\"http://auth0.com/oauth/grant-type/password-realm\";authenticateBody.realm=realm,authenticateBody.credential_type=credentialType}else authenticateBody.credential_type=\"password\";this.request.post(url).withCredentials().send(authenticateBody).end(function(err,data){if(err){var errorObject=err.response&&err.response.body||{error:\"request_error\",error_description:JSON.stringify(err)};return wrapCallback(cb,{forceLegacyError:!0})(errorObject)}var popupMode=!0===options.popup;options=objectHelper.blacklist(options,[\"password\",\"credentialType\",\"otp\",\"popup\"]);var authorizeOptions=objectHelper.merge(options).with({loginTicket:data.body.login_ticket}),key=createKey(_this.baseOptions.rootUrl,data.body.co_id);_this.storage.setItem(key,data.body.co_verifier,{expires:MINUTES_15}),popupMode?_this.webMessageHandler.run(authorizeOptions,wrapCallback(cb,{forceLegacyError:!0})):_this.webAuth.authorize(authorizeOptions)})},CrossOriginAuthentication.prototype.callback=function(){var targetOrigin=decodeURIComponent(getFragment(\"origin\")),theWindow=windowHandler.getWindow(),_this=this;theWindow.addEventListener(\"message\",function(evt){if(\"co_verifier_request\"===evt.data.type){var key=createKey(evt.origin,evt.data.request.id),verifier=tryGetVerifier(_this.storage,key);evt.source.postMessage({type:\"co_verifier_response\",response:{verifier:verifier}},evt.origin)}}),theWindow.parent.postMessage({type:\"ready\"},targetOrigin)},Redirect.prototype.loginWithCredentials=function(options,cb){options.realm=options.realm||options.connection,delete options.connection,this.crossOriginAuthentication.login(options,cb)},Redirect.prototype.signupAndLogin=function(options,cb){var _this=this;return this.webAuth.client.dbConnection.signup(options,function(err){return err?cb(err):(options.realm=options.realm||options.connection,delete options.connection,_this.webAuth.login(options,cb))})};var winchan=createCommonjsModule(function(module){var WinChan=function(){var RELAY_FRAME_NAME=\"__winchan_relay_frame\",CLOSE_CMD=\"die\";function addListener(w,event,cb){w.attachEvent?w.attachEvent(\"on\"+event,cb):w.addEventListener&&w.addEventListener(event,cb,!1)}function removeListener(w,event,cb){w.detachEvent?w.detachEvent(\"on\"+event,cb):w.removeEventListener&&w.removeEventListener(event,cb,!1)}function extractOrigin(url){/^https?:\\/\\//.test(url)||(url=window.location.href);var m=/^(https?:\\/\\/[\\-_a-zA-Z\\.0-9:]+)/.exec(url);return m?m[1]:url}var isIE=function(){if(\"undefined\"==typeof navigator)return!1;var rv=-1,ua=navigator.userAgent;\"Microsoft Internet Explorer\"===navigator.appName?null!=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\").exec(ua)&&(rv=parseFloat(RegExp.$1)):ua.indexOf(\"Trident\")>-1&&null!==new RegExp(\"rv:([0-9]{2,2}[.0-9]{0,})\").exec(ua)&&(rv=parseFloat(RegExp.$1));return rv>=8}();return\"undefined\"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(opts,cb){if(!cb)throw\"missing required callback argument\";var err,iframe;opts.url||(err=\"missing required 'url' parameter\"),opts.relay_url||(err=\"missing required 'relay_url' parameter\"),err&&setTimeout(function(){cb(err)},0),opts.window_name||(opts.window_name=null),opts.window_features&&!function(){try{var userAgent=navigator.userAgent;return-1!=userAgent.indexOf(\"Fennec/\")||-1!=userAgent.indexOf(\"Firefox/\")&&-1!=userAgent.indexOf(\"Android\")}catch(e){}return!1}()||(opts.window_features=void 0);var messageTarget,origin=opts.origin||extractOrigin(opts.url);if(origin!==extractOrigin(opts.relay_url))return setTimeout(function(){cb(\"invalid arguments: origin of url and relay_url must match\")},0);isIE&&((iframe=document.createElement(\"iframe\")).setAttribute(\"src\",opts.relay_url),iframe.style.display=\"none\",iframe.setAttribute(\"name\",RELAY_FRAME_NAME),document.body.appendChild(iframe),messageTarget=iframe.contentWindow);var w=opts.popup||window.open(opts.url,opts.window_name,opts.window_features);opts.popup&&(w.location.href=opts.url),messageTarget||(messageTarget=w);var closeInterval=setInterval(function(){w&&w.closed&&(cleanup(),cb&&(cb(\"User closed the popup window\"),cb=null))},500),req=JSON.stringify({a:\"request\",d:opts.params});function cleanup(){if(iframe&&document.body.removeChild(iframe),iframe=void 0,closeInterval&&(closeInterval=clearInterval(closeInterval)),removeListener(window,\"message\",onMessage),removeListener(window,\"unload\",cleanup),w)try{w.close()}catch(securityViolation){messageTarget.postMessage(CLOSE_CMD,origin)}w=messageTarget=void 0}function onMessage(e){if(e.origin===origin){try{var d=JSON.parse(e.data)}catch(err){if(cb)return cb(err);throw err}\"ready\"===d.a?messageTarget.postMessage(req,origin):\"error\"===d.a?(cleanup(),cb&&(cb(d.d),cb=null)):\"response\"===d.a&&(cleanup(),cb&&(cb(null,d.d),cb=null))}}return addListener(window,\"unload\",cleanup),addListener(window,\"message\",onMessage),{close:cleanup,focus:function(){if(w)try{w.focus()}catch(e){}}}},onOpen:function(cb){var o=\"*\",msgTarget=isIE?function(){window.location;for(var frames=window.opener.frames,i=frames.length-1;i>=0;i--)try{if(frames[i].location.protocol===window.location.protocol&&frames[i].location.host===window.location.host&&frames[i].name===RELAY_FRAME_NAME)return frames[i]}catch(e){}}():window.opener;if(!msgTarget)throw\"can't find relay frame\";function doPost(msg){msg=JSON.stringify(msg),isIE?msgTarget.doPost(msg,o):msgTarget.postMessage(msg,o)}function onDie(e){if(e.data===CLOSE_CMD)try{window.close()}catch(o_O){}}addListener(isIE?msgTarget:window,\"message\",function onMessage(e){var d;try{d=JSON.parse(e.data)}catch(err){}d&&\"request\"===d.a&&(removeListener(window,\"message\",onMessage),o=e.origin,cb&&setTimeout(function(){cb(o,d.d,function(r){cb=void 0,doPost({a:\"response\",d:r})})},0))}),addListener(isIE?msgTarget:window,\"message\",onDie);try{doPost({a:\"ready\"})}catch(e){addListener(msgTarget,\"load\",function(e){doPost({a:\"ready\"})})}var onUnload=function(){try{removeListener(isIE?msgTarget:window,\"message\",onDie)}catch(ohWell){}cb&&doPost({a:\"error\",d:\"client closed window\"}),cb=void 0;try{window.close()}catch(e){}};return addListener(window,\"unload\",onUnload),{detach:function(){removeListener(window,\"unload\",onUnload)}}}}:{open:function(url,winopts,arg,cb){setTimeout(function(){cb(\"unsupported browser\")},0)},onOpen:function(cb){setTimeout(function(){cb(\"unsupported browser\")},0)}}}();module.exports&&(module.exports=WinChan)});function extractOrigin(url){/^https?:\\/\\//.test(url)||(url=window.location.href);var m=/^(https?:\\/\\/[-_a-zA-Z.0-9:]+)/.exec(url);return m?m[1]:url}var urlHelper={extractOrigin:extractOrigin};function PopupHandler(){this._current_popup=null}function Popup(webAuth,options){this.baseOptions=options,this.baseOptions.popupOrigin=options.popupOrigin,this.client=webAuth.client,this.webAuth=webAuth,this.transactionManager=new TransactionManager(this.baseOptions),this.crossOriginAuthentication=new CrossOriginAuthentication(webAuth,this.baseOptions),this.warn=new Warn({disableWarnings:!!options._disableDeprecationWarnings})}function SilentAuthenticationHandler(options){this.authenticationUrl=options.authenticationUrl,this.timeout=options.timeout||6e4,this.handler=null,this.postMessageDataType=options.postMessageDataType||!1,this.postMessageOrigin=options.postMessageOrigin||windowHandler.getWindow().location.origin||windowHandler.getWindow().location.protocol+\"//\"+windowHandler.getWindow().location.hostname+(windowHandler.getWindow().location.port?\":\"+windowHandler.getWindow().location.port:\"\")}function UsernamePassword(options){this.baseOptions=options,this.request=new RequestBuilder(options),this.transactionManager=new TransactionManager(this.baseOptions)}function HostedPages(client,options){this.baseOptions=options,this.client=client,this.baseOptions.universalLoginPage=!0,this.request=new RequestBuilder(this.baseOptions),this.warn=new Warn({disableWarnings:!!options._disableDeprecationWarnings})}function WebAuth(options){assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{domain:{type:\"string\",message:\"domain option is required\"},clientID:{type:\"string\",message:\"clientID option is required\"},responseType:{optional:!0,type:\"string\",message:\"responseType is not valid\"},responseMode:{optional:!0,type:\"string\",message:\"responseMode is not valid\"},redirectUri:{optional:!0,type:\"string\",message:\"redirectUri is not valid\"},scope:{optional:!0,type:\"string\",message:\"scope is not valid\"},audience:{optional:!0,type:\"string\",message:\"audience is not valid\"},popupOrigin:{optional:!0,type:\"string\",message:\"popupOrigin is not valid\"},leeway:{optional:!0,type:\"number\",message:\"leeway is not valid\"},plugins:{optional:!0,type:\"array\",message:\"plugins is not valid\"},_disableDeprecationWarnings:{optional:!0,type:\"boolean\",message:\"_disableDeprecationWarnings option is not valid\"},_sendTelemetry:{optional:!0,type:\"boolean\",message:\"_sendTelemetry option is not valid\"},_telemetryInfo:{optional:!0,type:\"object\",message:\"_telemetryInfo option is not valid\"},_timesToRetryFailedRequests:{optional:!0,type:\"number\",message:\"_timesToRetryFailedRequests option is not valid\"}}),options.overrides&&assert.check(options.overrides,{type:\"object\",message:\"overrides option is not valid\"},{__tenant:{optional:!0,type:\"string\",message:\"__tenant option is required\"},__token_issuer:{optional:!0,type:\"string\",message:\"__token_issuer option is required\"},__jwks_uri:{optional:!0,type:\"string\",message:\"__jwks_uri is required\"}}),this.baseOptions=options,this.baseOptions.plugins=new PluginHandler(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=options._timesToRetryFailedRequests?parseInt(options._timesToRetryFailedRequests,0):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(\".\")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||\"https://\"+this.baseOptions.domain+\"/\",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new TransactionManager(this.baseOptions),this.client=new Authentication(this.baseOptions),this.redirect=new Redirect(this,this.baseOptions),this.popup=new Popup(this,this.baseOptions),this.crossOriginAuthentication=new CrossOriginAuthentication(this,this.baseOptions),this.webMessageHandler=new WebMessageHandler(this),this._universalLogin=new HostedPages(this,this.baseOptions),this.ssodataStorage=new SSODataStorage(this.baseOptions)}function buildParseHashResponse(qsParams,appState,token){return{accessToken:qsParams.access_token||null,idToken:qsParams.id_token||null,idTokenPayload:token||null,appState:appState||null,refreshToken:qsParams.refresh_token||null,state:qsParams.state||null,expiresIn:qsParams.expires_in?parseInt(qsParams.expires_in,10):null,tokenType:qsParams.token_type||null,scope:qsParams.scope||null}}function PasswordlessAuthentication(request,options){this.baseOptions=options,this.request=request}function DBConnection(request,options){this.baseOptions=options,this.request=request}function Authentication(auth0,options){2===arguments.length?this.auth0=auth0:options=auth0,assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{domain:{type:\"string\",message:\"domain option is required\"},clientID:{type:\"string\",message:\"clientID option is required\"},responseType:{optional:!0,type:\"string\",message:\"responseType is not valid\"},responseMode:{optional:!0,type:\"string\",message:\"responseMode is not valid\"},redirectUri:{optional:!0,type:\"string\",message:\"redirectUri is not valid\"},scope:{optional:!0,type:\"string\",message:\"scope is not valid\"},audience:{optional:!0,type:\"string\",message:\"audience is not valid\"},_disableDeprecationWarnings:{optional:!0,type:\"boolean\",message:\"_disableDeprecationWarnings option is not valid\"},_sendTelemetry:{optional:!0,type:\"boolean\",message:\"_sendTelemetry option is not valid\"},_telemetryInfo:{optional:!0,type:\"object\",message:\"_telemetryInfo option is not valid\"}}),this.baseOptions=options,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl=\"https://\"+this.baseOptions.domain,this.request=new RequestBuilder(this.baseOptions),this.passwordless=new PasswordlessAuthentication(this.request,this.baseOptions),this.dbConnection=new DBConnection(this.request,this.baseOptions),this.warn=new Warn({disableWarnings:!!options._disableDeprecationWarnings}),this.ssodataStorage=new SSODataStorage(this.baseOptions)}function Management(options){assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{domain:{type:\"string\",message:\"domain option is required\"},token:{type:\"string\",message:\"token option is required\"},_sendTelemetry:{optional:!0,type:\"boolean\",message:\"_sendTelemetry option is not valid\"},_telemetryInfo:{optional:!0,type:\"object\",message:\"_telemetryInfo option is not valid\"}}),this.baseOptions=options,this.baseOptions.headers={Authorization:\"Bearer \"+this.baseOptions.token},this.request=new RequestBuilder(this.baseOptions),this.baseOptions.rootUrl=urlJoin(\"https://\"+this.baseOptions.domain,\"api\",\"v2\")}PopupHandler.prototype.calculatePosition=function(options){var width=options.width||500,height=options.height||600,_window=windowHandler.getWindow(),screenX=void 0!==_window.screenX?_window.screenX:_window.screenLeft,screenY=void 0!==_window.screenY?_window.screenY:_window.screenTop,outerWidth=void 0!==_window.outerWidth?_window.outerWidth:_window.document.body.clientWidth,outerHeight=void 0!==_window.outerHeight?_window.outerHeight:_window.document.body.clientHeight;return{width:width,height:height,left:options.left||screenX+(outerWidth-width)/2,top:options.top||screenY+(outerHeight-height)/2}},PopupHandler.prototype.preload=function(options){var _this=this,_window=windowHandler.getWindow(),popupPosition=this.calculatePosition(options.popupOptions||{}),popupOptions=objectHelper.merge(popupPosition).with(options.popupOptions),url=options.url||\"about:blank\",windowFeatures=lib.stringify(popupOptions,{encode:!1,delimiter:\",\"});return this._current_popup&&!this._current_popup.closed?this._current_popup:(this._current_popup=_window.open(url,\"auth0_signup_popup\",windowFeatures),this._current_popup.kill=function(){this.close(),_this._current_popup=null},this._current_popup)},PopupHandler.prototype.load=function(url,relayUrl,options,cb){var _this=this,popupPosition=this.calculatePosition(options.popupOptions||{}),popupOptions=objectHelper.merge(popupPosition).with(options.popupOptions),winchanOptions=objectHelper.merge({url:url,relay_url:relayUrl,window_features:lib.stringify(popupOptions,{delimiter:\",\",encode:!1}),popup:this._current_popup}).with(options),popup=winchan.open(winchanOptions,function(err,data){return _this._current_popup=null,cb(err,data)});return popup.focus(),popup},Popup.prototype.buildPopupHandler=function(){var pluginHandler=this.baseOptions.plugins.get(\"popup.getPopupHandler\");return pluginHandler?pluginHandler.getPopupHandler():new PopupHandler},Popup.prototype.preload=function(options){options=options||{};var popup=this.buildPopupHandler();return popup.preload(options),popup},Popup.prototype.getPopupHandler=function(options,preload){return options.popupHandler?options.popupHandler:preload?this.preload(options):this.buildPopupHandler()},Popup.prototype.callback=function(options){var _this=this,theWindow=windowHandler.getWindow(),originUrl=(options=options||{}).popupOrigin||this.baseOptions.popupOrigin||windowHandler.getOrigin();theWindow.opener?winchan.onOpen(function(popupOrigin,r,cb){if(popupOrigin!==originUrl)return cb({error:\"origin_mismatch\",error_description:\"The popup's origin (\"+popupOrigin+\") should match the `popupOrigin` parameter (\"+originUrl+\").\"});_this.webAuth.parseHash(options||{},function(err,data){return cb(err||data)})}):theWindow.doPost=function(msg){theWindow.parent&&theWindow.parent.postMessage(msg,originUrl)}},Popup.prototype.authorize=function(options,cb){var url,relayUrl,popOpts={},pluginHandler=this.baseOptions.plugins.get(\"popup.authorize\"),params=objectHelper.merge(this.baseOptions,[\"clientID\",\"scope\",\"domain\",\"audience\",\"tenant\",\"responseType\",\"redirectUri\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(objectHelper.blacklist(options,[\"popupHandler\"]));return assert.check(params,{type:\"object\",message:\"options parameter is not valid\"},{responseType:{type:\"string\",message:\"responseType option is required\"}}),relayUrl=urlJoin(this.baseOptions.rootUrl,\"relay.html\"),options.owp?params.owp=!0:(popOpts.origin=urlHelper.extractOrigin(params.redirectUri),relayUrl=params.redirectUri),options.popupOptions&&(popOpts.popupOptions=objectHelper.pick(options.popupOptions,[\"width\",\"height\",\"top\",\"left\"])),pluginHandler&&(params=pluginHandler.processParams(params)),(params=this.transactionManager.process(params)).scope=params.scope||\"openid profile email\",delete params.domain,url=this.client.buildAuthorizeUrl(params),this.getPopupHandler(options).load(url,relayUrl,popOpts,wrapCallback(cb,{keepOriginalCasing:!0}))},Popup.prototype.loginWithCredentials=function(options,cb){options.realm=options.realm||options.connection,options.popup=!0,options=objectHelper.merge(this.baseOptions,[\"redirectUri\",\"responseType\",\"state\",\"nonce\"]).with(objectHelper.blacklist(options,[\"popupHandler\",\"connection\"])),options=this.transactionManager.process(options),this.crossOriginAuthentication.login(options,cb)},Popup.prototype.passwordlessVerify=function(options,cb){var _this=this;return this.client.passwordless.verify(objectHelper.blacklist(options,[\"popupHandler\"]),function(err){if(err)return cb(err);options.username=options.phoneNumber||options.email,options.password=options.verificationCode,delete options.email,delete options.phoneNumber,delete options.verificationCode,delete options.type,_this.client.loginWithResourceOwner(options,cb)})},Popup.prototype.signupAndLogin=function(options,cb){var _this=this;return this.client.dbConnection.signup(options,function(err){if(err)return cb(err);_this.loginWithCredentials(options,cb)})},SilentAuthenticationHandler.create=function(options){return new SilentAuthenticationHandler(options)},SilentAuthenticationHandler.prototype.login=function(usePostMessage,callback){this.handler=new IframeHandler({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:usePostMessage?\"message\":\"load\",callback:this.getCallbackHandler(callback,usePostMessage),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){callback(null,\"#error=timeout&error_description=Timeout+during+authentication+renew.\")},usePostMessage:usePostMessage||!1}),this.handler.init()},SilentAuthenticationHandler.prototype.getEventValidator=function(){var _this=this;return{isValid:function(eventData){switch(eventData.event.type){case\"message\":return eventData.event.origin===_this.postMessageOrigin&&eventData.event.source===_this.handler.iframe.contentWindow&&(!1===_this.postMessageDataType||eventData.event.data.type&&eventData.event.data.type===_this.postMessageDataType);case\"load\":if(\"about:\"===eventData.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},SilentAuthenticationHandler.prototype.getCallbackHandler=function(callback,usePostMessage){return function(eventData){var callbackValue;callbackValue=usePostMessage?\"object\"==typeof eventData.event.data&&eventData.event.data.hash?eventData.event.data.hash:eventData.event.data:eventData.sourceObject.contentWindow.location.hash,callback(null,callbackValue)}},UsernamePassword.prototype.login=function(options,cb){var url,body;return url=urlJoin(this.baseOptions.rootUrl,\"usernamepassword\",\"login\"),options.username=options.username||options.email,options=objectHelper.blacklist(options,[\"email\"]),body=objectHelper.merge(this.baseOptions,[\"clientID\",\"redirectUri\",\"tenant\",\"responseType\",\"responseMode\",\"scope\",\"audience\"]).with(options),body=this.transactionManager.process(body),body=objectHelper.toSnakeCase(body,[\"auth0Client\"]),this.request.post(url).send(body).end(wrapCallback(cb))},UsernamePassword.prototype.callback=function(formHtml){var div,_document=windowHandler.getDocument();(div=_document.createElement(\"div\")).innerHTML=formHtml,_document.body.appendChild(div).children[0].submit()},HostedPages.prototype.login=function(options,cb){if(windowHandler.getWindow().location.host!==this.baseOptions.domain)throw new Error(\"This method is meant to be used only inside the Universal Login Page.\");var usernamePassword,params=objectHelper.merge(this.baseOptions,[\"clientID\",\"redirectUri\",\"tenant\",\"responseType\",\"responseMode\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options);return assert.check(params,{type:\"object\",message:\"options parameter is not valid\"},{responseType:{type:\"string\",message:\"responseType option is required\"}}),(usernamePassword=new UsernamePassword(this.baseOptions)).login(params,function(err,data){return err?cb(err):usernamePassword.callback(data)})},HostedPages.prototype.signupAndLogin=function(options,cb){var _this=this;return _this.client.client.dbConnection.signup(options,function(err){return err?cb(err):_this.login(options,cb)})},HostedPages.prototype.getSSOData=function(withActiveDirectories,cb){var url,params=\"\";return\"function\"==typeof withActiveDirectories&&(cb=withActiveDirectories,withActiveDirectories=!1),assert.check(withActiveDirectories,{type:\"boolean\",message:\"withActiveDirectories parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),withActiveDirectories&&(params=\"?\"+lib.stringify({ldaps:1,client_id:this.baseOptions.clientID})),url=urlJoin(this.baseOptions.rootUrl,\"user\",\"ssodata\",params),this.request.get(url,{noHeaders:!0}).withCredentials().end(wrapCallback(cb))},WebAuth.prototype.parseHash=function(options,cb){var parsedQs,err;cb||\"function\"!=typeof options?options=options||{}:(cb=options,options={});var _window=windowHandler.getWindow(),hashStr=void 0===options.hash?_window.location.hash:options.hash;if(hashStr=hashStr.replace(/^#?\\/?/,\"\"),(parsedQs=lib.parse(hashStr)).hasOwnProperty(\"error\"))return err=error.buildResponse(parsedQs.error,parsedQs.error_description),parsedQs.state&&(err.state=parsedQs.state),cb(err);if(!parsedQs.hasOwnProperty(\"access_token\")&&!parsedQs.hasOwnProperty(\"id_token\")&&!parsedQs.hasOwnProperty(\"refresh_token\"))return cb(null,null);var responseTypes=(this.baseOptions.responseType||options.responseType||\"\").split(\" \");return responseTypes.length>0&&-1!==responseTypes.indexOf(\"token\")&&!parsedQs.hasOwnProperty(\"access_token\")?cb(error.buildResponse(\"invalid_hash\",\"response_type contains `token`, but the parsed hash does not contain an `access_token` property\")):responseTypes.length>0&&-1!==responseTypes.indexOf(\"id_token\")&&!parsedQs.hasOwnProperty(\"id_token\")?cb(error.buildResponse(\"invalid_hash\",\"response_type contains `id_token`, but the parsed hash does not contain an `id_token` property\")):this.validateAuthenticationResponse(options,parsedQs,cb)},WebAuth.prototype.validateAuthenticationResponse=function(options,parsedHash,cb){var _this=this;options.__enableIdPInitiatedLogin=options.__enableIdPInitiatedLogin||options.__enableImpersonation;var state=parsedHash.state,transaction=this.transactionManager.getStoredTransaction(state),transactionState=options.state||transaction&&transaction.state||null,transactionStateMatchesState=transactionState===state;if(!(!state&&!transactionState&&options.__enableIdPInitiatedLogin)&&!transactionStateMatchesState)return cb({error:\"invalid_token\",errorDescription:\"`state` does not match.\"});var transactionNonce=options.nonce||transaction&&transaction.nonce||null,appState=options.state||transaction&&transaction.appState||null,callback=function(err,payload){if(err)return cb(err);var sub;transaction&&transaction.lastUsedConnection&&(payload&&(sub=payload.sub),_this.ssodataStorage.set(transaction.lastUsedConnection,sub));return cb(null,buildParseHashResponse(parsedHash,appState,payload))};return parsedHash.id_token?this.validateToken(parsedHash.id_token,transactionNonce,function(validationError,payload){if(!validationError)return parsedHash.access_token&&payload.at_hash?(new src).validateAccessToken(parsedHash.access_token,\"RS256\",payload.at_hash,function(err){return err?callback(error.invalidToken(err.message)):callback(null,payload)}):callback(null,payload);if(\"invalid_token\"!==validationError.error||\"Nonce does not match.\"===validationError.errorDescription)return callback(validationError);if(\"HS256\"!==(new src).decode(parsedHash.id_token).header.alg)return callback(validationError);if(!parsedHash.access_token){return callback({error:\"invalid_token\",description:\"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) cant store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token\"})}return _this.client.userInfo(parsedHash.access_token,function(errUserInfo,profile){return errUserInfo?callback(errUserInfo):callback(null,profile)})}):callback(null,null)},WebAuth.prototype.validateToken=function(token,nonce,cb){new src({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||0,__disableExpirationCheck:this.baseOptions.__disableExpirationCheck}).verify(token,nonce,function(err,payload){if(err)return cb(error.invalidToken(err.message));cb(null,payload)})},WebAuth.prototype.renewAuth=function(options,cb){var usePostMessage=!!options.usePostMessage,postMessageDataType=options.postMessageDataType||!1,postMessageOrigin=options.postMessageOrigin||windowHandler.getWindow().origin,timeout=options.timeout,_this=this,params=objectHelper.merge(this.baseOptions,[\"clientID\",\"redirectUri\",\"responseType\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options);params.responseType=params.responseType||\"token\",params.responseMode=params.responseMode||\"fragment\",params=this.transactionManager.process(params),assert.check(params,{type:\"object\",message:\"options parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),params.prompt=\"none\",params=objectHelper.blacklist(params,[\"usePostMessage\",\"tenant\",\"postMessageDataType\",\"postMessageOrigin\"]),SilentAuthenticationHandler.create({authenticationUrl:this.client.buildAuthorizeUrl(params),postMessageDataType:postMessageDataType,postMessageOrigin:postMessageOrigin,timeout:timeout}).login(usePostMessage,function(err,hash){if(\"object\"==typeof hash)return cb(err,hash);_this.parseHash({hash:hash},cb)})},WebAuth.prototype.checkSession=function(options,cb){var params=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"redirectUri\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options);return\"code\"===params.responseType?cb({error:\"error\",error_description:\"responseType can't be `code`\"}):(options.nonce||(params=this.transactionManager.process(params)),params.redirectUri?(assert.check(params,{type:\"object\",message:\"options parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),params=objectHelper.blacklist(params,[\"usePostMessage\",\"tenant\",\"postMessageDataType\"]),void this.webMessageHandler.run(params,wrapCallback(cb,{forceLegacyError:!0,ignoreCasing:!0}))):cb({error:\"error\",error_description:\"redirectUri can't be empty\"}))},WebAuth.prototype.changePassword=function(options,cb){return this.client.dbConnection.changePassword(options,cb)},WebAuth.prototype.passwordlessStart=function(options,cb){var authParams=objectHelper.merge(this.baseOptions,[\"responseType\",\"responseMode\",\"redirectUri\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options.authParams);return options.authParams=this.transactionManager.process(authParams),this.client.passwordless.start(options,cb)},WebAuth.prototype.signup=function(options,cb){return this.client.dbConnection.signup(options,cb)},WebAuth.prototype.authorize=function(options){var params=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"responseMode\",\"redirectUri\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options);assert.check(params,{type:\"object\",message:\"options parameter is not valid\"},{responseType:{type:\"string\",message:\"responseType option is required\"}}),(params=this.transactionManager.process(params)).scope=params.scope||\"openid profile email\",windowHandler.redirect(this.client.buildAuthorizeUrl(params))},WebAuth.prototype.signupAndAuthorize=function(options,cb){var _this=this;return this.client.dbConnection.signup(objectHelper.blacklist(options,[\"popupHandler\"]),function(err){if(err)return cb(err);options.realm=options.connection,options.username||(options.username=options.email),_this.client.login(options,cb)})},WebAuth.prototype.login=function(options,cb){var params=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"redirectUri\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options);params=this.transactionManager.process(params),windowHandler.getWindow().location.host===this.baseOptions.domain?(params.connection=params.realm,delete params.realm,this._universalLogin.login(params,cb)):this.crossOriginAuthentication.login(params,cb)},WebAuth.prototype.passwordlessLogin=function(options,cb){var params=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"redirectUri\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options);if(params=this.transactionManager.process(params),windowHandler.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(params,cb);else{var crossOriginOptions=objectHelper.extend({credentialType:\"http://auth0.com/oauth/grant-type/passwordless/otp\",realm:params.connection,username:params.email||params.phoneNumber,otp:params.verificationCode},objectHelper.blacklist(params,[\"connection\",\"email\",\"phoneNumber\",\"verificationCode\"]));this.crossOriginAuthentication.login(crossOriginOptions,cb)}},WebAuth.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},WebAuth.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},WebAuth.prototype.logout=function(options){windowHandler.redirect(this.client.buildLogoutUrl(options))},WebAuth.prototype.passwordlessVerify=function(options,cb){var _this=this,params=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"responseMode\",\"redirectUri\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"nonce\"]).with(options);return assert.check(params,{type:\"object\",message:\"options parameter is not valid\"},{responseType:{type:\"string\",message:\"responseType option is required\"}}),params=this.transactionManager.process(params),this.client.passwordless.verify(params,function(err){return err?cb(err):windowHandler.redirect(_this.client.passwordless.buildVerifyUrl(params))})},PasswordlessAuthentication.prototype.buildVerifyUrl=function(options){var params,qString;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{connection:{type:\"string\",message:\"connection option is required\"},verificationCode:{type:\"string\",message:\"verificationCode option is required\"},phoneNumber:{optional:!1,type:\"string\",message:\"phoneNumber option is required\",condition:function(o){return!o.email}},email:{optional:!1,type:\"string\",message:\"email option is required\",condition:function(o){return!o.phoneNumber}}}),params=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"responseMode\",\"redirectUri\",\"scope\",\"audience\",\"_csrf\",\"state\",\"_intstate\",\"protocol\",\"nonce\"]).with(options),this.baseOptions._sendTelemetry&&(params.auth0Client=this.request.getTelemetryData()),params=objectHelper.toSnakeCase(params,[\"auth0Client\"]),qString=lib.stringify(params),urlJoin(this.baseOptions.rootUrl,\"passwordless\",\"verify_redirect\",\"?\"+qString)},PasswordlessAuthentication.prototype.start=function(options,cb){var url,body;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{connection:{type:\"string\",message:\"connection option is required\"},send:{type:\"string\",message:\"send option is required\",values:[\"link\",\"code\"],value_message:\"send is not valid ([link, code])\"},phoneNumber:{optional:!0,type:\"string\",message:\"phoneNumber option is required\",condition:function(o){return\"code\"===o.send||!o.email}},email:{optional:!0,type:\"string\",message:\"email option is required\",condition:function(o){return\"link\"===o.send||!o.phoneNumber}},authParams:{optional:!0,type:\"object\",message:\"authParams option is required\"}}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"passwordless\",\"start\"),(body=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"redirectUri\",\"scope\"]).with(options)).scope&&(body.authParams=body.authParams||{},body.authParams.scope=body.scope),body.redirectUri&&(body.authParams=body.authParams||{},body.authParams.redirect_uri=body.redirectUri),body.responseType&&(body.authParams=body.authParams||{},body.authParams.response_type=body.responseType),delete body.redirectUri,delete body.responseType,delete body.scope,body=objectHelper.toSnakeCase(body,[\"auth0Client\",\"authParams\"]),this.request.post(url).send(body).end(wrapCallback(cb))},PasswordlessAuthentication.prototype.verify=function(options,cb){var url,cleanOption;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{connection:{type:\"string\",message:\"connection option is required\"},verificationCode:{type:\"string\",message:\"verificationCode option is required\"},phoneNumber:{optional:!1,type:\"string\",message:\"phoneNumber option is required\",condition:function(o){return!o.email}},email:{optional:!1,type:\"string\",message:\"email option is required\",condition:function(o){return!o.phoneNumber}}}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),cleanOption=objectHelper.pick(options,[\"connection\",\"verificationCode\",\"phoneNumber\",\"email\",\"auth0Client\"]),cleanOption=objectHelper.toSnakeCase(cleanOption,[\"auth0Client\"]),url=urlJoin(this.baseOptions.rootUrl,\"passwordless\",\"verify\"),this.request.post(url).send(cleanOption).end(wrapCallback(cb))},DBConnection.prototype.signup=function(options,cb){var url,body,metadata;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{connection:{type:\"string\",message:\"connection option is required\"},email:{type:\"string\",message:\"email option is required\"},password:{type:\"string\",message:\"password option is required\"}}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"dbconnections\",\"signup\"),metadata=(body=objectHelper.merge(this.baseOptions,[\"clientID\"]).with(options)).user_metadata||body.userMetadata,body=objectHelper.blacklist(body,[\"scope\",\"userMetadata\",\"user_metadata\"]),body=objectHelper.toSnakeCase(body,[\"auth0Client\"]),metadata&&(body.user_metadata=metadata),this.request.post(url).send(body).end(wrapCallback(cb))},DBConnection.prototype.changePassword=function(options,cb){var url,body;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{connection:{type:\"string\",message:\"connection option is required\"},email:{type:\"string\",message:\"email option is required\"}}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"dbconnections\",\"change_password\"),body=objectHelper.merge(this.baseOptions,[\"clientID\"]).with(options,[\"email\",\"connection\"]),body=objectHelper.toSnakeCase(body,[\"auth0Client\"]),this.request.post(url).send(body).end(wrapCallback(cb))},Authentication.prototype.buildAuthorizeUrl=function(options){var params,qString;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"}),params=objectHelper.merge(this.baseOptions,[\"clientID\",\"responseType\",\"responseMode\",\"redirectUri\",\"scope\",\"audience\"]).with(options),assert.check(params,{type:\"object\",message:\"options parameter is not valid\"},{clientID:{type:\"string\",message:\"clientID option is required\"},redirectUri:{optional:!0,type:\"string\",message:\"redirectUri option is required\"},responseType:{type:\"string\",message:\"responseType option is required\"},nonce:{type:\"string\",message:\"nonce option is required\",condition:function(o){return-1===o.responseType.indexOf(\"code\")&&-1!==o.responseType.indexOf(\"id_token\")}},scope:{optional:!0,type:\"string\",message:\"scope option is required\"},audience:{optional:!0,type:\"string\",message:\"audience option is required\"}}),this.baseOptions._sendTelemetry&&(params.auth0Client=this.request.getTelemetryData()),params.connection_scope&&assert.isArray(params.connection_scope)&&(params.connection_scope=params.connection_scope.join(\",\")),params=objectHelper.blacklist(params,[\"username\",\"popupOptions\",\"domain\",\"tenant\",\"timeout\",\"appState\"]),params=objectHelper.toSnakeCase(params,[\"auth0Client\"]),params=parametersWhitelist.oauthAuthorizeParams(this.warn,params),qString=lib.stringify(params),urlJoin(this.baseOptions.rootUrl,\"authorize\",\"?\"+qString)},Authentication.prototype.buildLogoutUrl=function(options){var params,qString;return assert.check(options,{optional:!0,type:\"object\",message:\"options parameter is not valid\"}),params=objectHelper.merge(this.baseOptions,[\"clientID\"]).with(options||{}),this.baseOptions._sendTelemetry&&(params.auth0Client=this.request.getTelemetryData()),params=objectHelper.toSnakeCase(params,[\"auth0Client\",\"returnTo\"]),qString=lib.stringify(objectHelper.blacklist(params,[\"federated\"])),options&&void 0!==options.federated&&!1!==options.federated&&\"false\"!==options.federated&&(qString+=\"&federated\"),urlJoin(this.baseOptions.rootUrl,\"v2\",\"logout\",\"?\"+qString)},Authentication.prototype.loginWithDefaultDirectory=function(options,cb){return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{username:{type:\"string\",message:\"username option is required\"},password:{type:\"string\",message:\"password option is required\"},scope:{optional:!0,type:\"string\",message:\"scope option is required\"},audience:{optional:!0,type:\"string\",message:\"audience option is required\"}}),options.grantType=\"password\",this.oauthToken(options,cb)},Authentication.prototype.login=function(options,cb){return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{username:{type:\"string\",message:\"username option is required\"},password:{type:\"string\",message:\"password option is required\"},realm:{type:\"string\",message:\"realm option is required\"},scope:{optional:!0,type:\"string\",message:\"scope option is required\"},audience:{optional:!0,type:\"string\",message:\"audience option is required\"}}),options.grantType=\"http://auth0.com/oauth/grant-type/password-realm\",this.oauthToken(options,cb)},Authentication.prototype.oauthToken=function(options,cb){var url,body;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"oauth\",\"token\"),body=objectHelper.merge(this.baseOptions,[\"clientID\",\"scope\",\"audience\"]).with(options),assert.check(body,{type:\"object\",message:\"options parameter is not valid\"},{clientID:{type:\"string\",message:\"clientID option is required\"},grantType:{type:\"string\",message:\"grantType option is required\"},scope:{optional:!0,type:\"string\",message:\"scope option is required\"},audience:{optional:!0,type:\"string\",message:\"audience option is required\"}}),body=objectHelper.toSnakeCase(body,[\"auth0Client\"]),body=parametersWhitelist.oauthTokenParams(this.warn,body),this.request.post(url).send(body).end(wrapCallback(cb))},Authentication.prototype.loginWithResourceOwner=function(options,cb){var url,body;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{username:{type:\"string\",message:\"username option is required\"},password:{type:\"string\",message:\"password option is required\"},connection:{type:\"string\",message:\"connection option is required\"},scope:{optional:!0,type:\"string\",message:\"scope option is required\"}}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"oauth\",\"ro\"),body=objectHelper.merge(this.baseOptions,[\"clientID\",\"scope\"]).with(options,[\"username\",\"password\",\"scope\",\"connection\",\"device\"]),(body=objectHelper.toSnakeCase(body,[\"auth0Client\"])).grant_type=body.grant_type||\"password\",this.request.post(url).send(body).end(wrapCallback(cb))},Authentication.prototype.getSSOData=function(withActiveDirectories,cb){if(this.auth0||(this.auth0=new WebAuth(this.baseOptions)),windowHandler.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(withActiveDirectories,cb);\"function\"==typeof withActiveDirectories&&(cb=withActiveDirectories),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"});var clientId=this.baseOptions.clientID,ssodataInformation=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:\"token id_token\",scope:\"openid profile email\",connection:ssodataInformation.lastUsedConnection,timeout:5e3},function(err,result){return err?\"login_required\"===err.error?cb(null,{sso:!1}):(\"consent_required\"===err.error&&(err.error_description=\"Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`.\"),cb(err,{sso:!1})):ssodataInformation.lastUsedSub&&ssodataInformation.lastUsedSub!==result.idTokenPayload.sub?cb(err,{sso:!1}):cb(null,{lastUsedConnection:{name:ssodataInformation.lastUsedConnection},lastUsedUserID:result.idTokenPayload.sub,lastUsedUsername:result.idTokenPayload.email||result.idTokenPayload.name,lastUsedClientID:clientId,sessionClients:[clientId],sso:!0})})},Authentication.prototype.userInfo=function(accessToken,cb){var url;return assert.check(accessToken,{type:\"string\",message:\"accessToken parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"userinfo\"),this.request.get(url).set(\"Authorization\",\"Bearer \"+accessToken).end(wrapCallback(cb,{ignoreCasing:!0}))},Authentication.prototype.delegation=function(options,cb){var url,body;return assert.check(options,{type:\"object\",message:\"options parameter is not valid\"},{grant_type:{type:\"string\",message:\"grant_type option is required\"}}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"delegation\"),body=objectHelper.merge(this.baseOptions,[\"clientID\"]).with(options),body=objectHelper.toSnakeCase(body,[\"auth0Client\"]),this.request.post(url).send(body).end(wrapCallback(cb))},Authentication.prototype.getUserCountry=function(cb){var url;return assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"user\",\"geoloc\",\"country\"),this.request.get(url).end(wrapCallback(cb))},Management.prototype.getUser=function(userId,cb){var url;return assert.check(userId,{type:\"string\",message:\"userId parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"users\",userId),this.request.get(url).end(wrapCallback(cb,{ignoreCasing:!0}))},Management.prototype.patchUserMetadata=function(userId,userMetadata,cb){var url;return assert.check(userId,{type:\"string\",message:\"userId parameter is not valid\"}),assert.check(userMetadata,{type:\"object\",message:\"userMetadata parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"users\",userId),this.request.patch(url).send({user_metadata:userMetadata}).end(wrapCallback(cb,{ignoreCasing:!0}))},Management.prototype.linkUser=function(userId,secondaryUserToken,cb){var url;return assert.check(userId,{type:\"string\",message:\"userId parameter is not valid\"}),assert.check(secondaryUserToken,{type:\"string\",message:\"secondaryUserToken parameter is not valid\"}),assert.check(cb,{type:\"function\",message:\"cb parameter is not valid\"}),url=urlJoin(this.baseOptions.rootUrl,\"users\",userId,\"identities\"),this.request.post(url).send({link_with:secondaryUserToken}).end(wrapCallback(cb,{ignoreCasing:!0}))};var index={Authentication:Authentication,Management:Management,WebAuth:WebAuth,version:version};/* harmony default export */ __webpack_exports__[\"default\"] = (index);\n//# sourceMappingURL=auth0.min.esm.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"yLpj\"), __webpack_require__(/*! promise-polyfill */ \"B/eG\")[\"default\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic0s4eC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXRoMC1qcy9kaXN0L2F1dGgwLm1pbi5lc20uanM/YjBhZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGF1dGgwLWpzIHY5LjEwLjRcbiAqIEF1dGhvcjogQXV0aDBcbiAqIERhdGU6IDIwMTktMDUtMjRcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbnZhciBjb21tb25qc0dsb2JhbD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLG1vZHVsZSl7cmV0dXJuIGZuKG1vZHVsZT17ZXhwb3J0czp7fX0sbW9kdWxlLmV4cG9ydHMpLG1vZHVsZS5leHBvcnRzfXZhciB1cmxKb2luPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSl7dmFyIGNvbnRleHQsZGVmaW5pdGlvbjtjb250ZXh0PWNvbW1vbmpzR2xvYmFsLGRlZmluaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oc3RyQXJyYXkpe3ZhciByZXN1bHRBcnJheT1bXTtpZihzdHJBcnJheVswXS5tYXRjaCgvXlteXFwvOl0rOlxcLyokLykmJnN0ckFycmF5Lmxlbmd0aD4xKXt2YXIgZmlyc3Q9c3RyQXJyYXkuc2hpZnQoKTtzdHJBcnJheVswXT1maXJzdCtzdHJBcnJheVswXX1zdHJBcnJheVswXS5tYXRjaCgvXmZpbGU6XFwvXFwvXFwvLyk/c3RyQXJyYXlbMF09c3RyQXJyYXlbMF0ucmVwbGFjZSgvXihbXlxcLzpdKyk6XFwvKi8sXCIkMTovLy9cIik6c3RyQXJyYXlbMF09c3RyQXJyYXlbMF0ucmVwbGFjZSgvXihbXlxcLzpdKyk6XFwvKi8sXCIkMTovL1wiKTtmb3IodmFyIGk9MDtpPHN0ckFycmF5Lmxlbmd0aDtpKyspe3ZhciBjb21wb25lbnQ9c3RyQXJyYXlbaV07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGNvbXBvbmVudCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVXJsIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkIFwiK2NvbXBvbmVudCk7XCJcIiE9PWNvbXBvbmVudCYmKGk+MCYmKGNvbXBvbmVudD1jb21wb25lbnQucmVwbGFjZSgvXltcXC9dKy8sXCJcIikpLGNvbXBvbmVudD1pPHN0ckFycmF5Lmxlbmd0aC0xP2NvbXBvbmVudC5yZXBsYWNlKC9bXFwvXSskLyxcIlwiKTpjb21wb25lbnQucmVwbGFjZSgvW1xcL10rJC8sXCIvXCIpLHJlc3VsdEFycmF5LnB1c2goY29tcG9uZW50KSl9dmFyIHN0cj1yZXN1bHRBcnJheS5qb2luKFwiL1wiKSxwYXJ0cz0oc3RyPXN0ci5yZXBsYWNlKC9cXC8oXFw/fCZ8I1teIV0pL2csXCIkMVwiKSkuc3BsaXQoXCI/XCIpO3JldHVybiBzdHI9cGFydHMuc2hpZnQoKSsocGFydHMubGVuZ3RoPjA/XCI/XCI6XCJcIikrcGFydHMuam9pbihcIiZcIil9KFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9fSxtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1kZWZpbml0aW9uKCk6Y29udGV4dC51cmxqb2luPWRlZmluaXRpb24oKX0pLHV0aWxzPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgaGFzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksaGV4VGFibGU9ZnVuY3Rpb24oKXtmb3IodmFyIGFycmF5PVtdLGk9MDtpPDI1NjsrK2kpYXJyYXkucHVzaChcIiVcIisoKGk8MTY/XCIwXCI6XCJcIikraS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO3JldHVybiBhcnJheX0oKTtleHBvcnRzLmFycmF5VG9PYmplY3Q9ZnVuY3Rpb24oc291cmNlLG9wdGlvbnMpe2Zvcih2YXIgb2JqPW9wdGlvbnMmJm9wdGlvbnMucGxhaW5PYmplY3RzP09iamVjdC5jcmVhdGUobnVsbCk6e30saT0wO2k8c291cmNlLmxlbmd0aDsrK2kpdm9pZCAwIT09c291cmNlW2ldJiYob2JqW2ldPXNvdXJjZVtpXSk7cmV0dXJuIG9ian0sZXhwb3J0cy5tZXJnZT1mdW5jdGlvbih0YXJnZXQsc291cmNlLG9wdGlvbnMpe2lmKCFzb3VyY2UpcmV0dXJuIHRhcmdldDtpZihcIm9iamVjdFwiIT10eXBlb2Ygc291cmNlKXtpZihBcnJheS5pc0FycmF5KHRhcmdldCkpdGFyZ2V0LnB1c2goc291cmNlKTtlbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0YXJnZXQpcmV0dXJuW3RhcmdldCxzb3VyY2VdOyhvcHRpb25zLnBsYWluT2JqZWN0c3x8b3B0aW9ucy5hbGxvd1Byb3RvdHlwZXN8fCFoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLHNvdXJjZSkpJiYodGFyZ2V0W3NvdXJjZV09ITApfXJldHVybiB0YXJnZXR9aWYoXCJvYmplY3RcIiE9dHlwZW9mIHRhcmdldClyZXR1cm5bdGFyZ2V0XS5jb25jYXQoc291cmNlKTt2YXIgbWVyZ2VUYXJnZXQ9dGFyZ2V0O3JldHVybiBBcnJheS5pc0FycmF5KHRhcmdldCkmJiFBcnJheS5pc0FycmF5KHNvdXJjZSkmJihtZXJnZVRhcmdldD1leHBvcnRzLmFycmF5VG9PYmplY3QodGFyZ2V0LG9wdGlvbnMpKSxBcnJheS5pc0FycmF5KHRhcmdldCkmJkFycmF5LmlzQXJyYXkoc291cmNlKT8oc291cmNlLmZvckVhY2goZnVuY3Rpb24oaXRlbSxpKXtoYXMuY2FsbCh0YXJnZXQsaSk/dGFyZ2V0W2ldJiZcIm9iamVjdFwiPT10eXBlb2YgdGFyZ2V0W2ldP3RhcmdldFtpXT1leHBvcnRzLm1lcmdlKHRhcmdldFtpXSxpdGVtLG9wdGlvbnMpOnRhcmdldC5wdXNoKGl0ZW0pOnRhcmdldFtpXT1pdGVtfSksdGFyZ2V0KTpPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbihhY2Msa2V5KXt2YXIgdmFsdWU9c291cmNlW2tleV07cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhY2Msa2V5KT9hY2Nba2V5XT1leHBvcnRzLm1lcmdlKGFjY1trZXldLHZhbHVlLG9wdGlvbnMpOmFjY1trZXldPXZhbHVlLGFjY30sbWVyZ2VUYXJnZXQpfSxleHBvcnRzLmRlY29kZT1mdW5jdGlvbihzdHIpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0ci5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWNhdGNoKGUpe3JldHVybiBzdHJ9fSxleHBvcnRzLmVuY29kZT1mdW5jdGlvbihzdHIpe2lmKDA9PT1zdHIubGVuZ3RoKXJldHVybiBzdHI7Zm9yKHZhciBzdHJpbmc9XCJzdHJpbmdcIj09dHlwZW9mIHN0cj9zdHI6U3RyaW5nKHN0ciksb3V0PVwiXCIsaT0wO2k8c3RyaW5nLmxlbmd0aDsrK2kpe3ZhciBjPXN0cmluZy5jaGFyQ29kZUF0KGkpOzQ1PT09Y3x8NDY9PT1jfHw5NT09PWN8fDEyNj09PWN8fGM+PTQ4JiZjPD01N3x8Yz49NjUmJmM8PTkwfHxjPj05NyYmYzw9MTIyP291dCs9c3RyaW5nLmNoYXJBdChpKTpjPDEyOD9vdXQrPWhleFRhYmxlW2NdOmM8MjA0OD9vdXQrPWhleFRhYmxlWzE5MnxjPj42XStoZXhUYWJsZVsxMjh8NjMmY106Yzw1NTI5Nnx8Yz49NTczNDQ/b3V0Kz1oZXhUYWJsZVsyMjR8Yz4+MTJdK2hleFRhYmxlWzEyOHxjPj42JjYzXStoZXhUYWJsZVsxMjh8NjMmY106KGkrPTEsYz02NTUzNisoKDEwMjMmYyk8PDEwfDEwMjMmc3RyaW5nLmNoYXJDb2RlQXQoaSkpLG91dCs9aGV4VGFibGVbMjQwfGM+PjE4XStoZXhUYWJsZVsxMjh8Yz4+MTImNjNdK2hleFRhYmxlWzEyOHxjPj42JjYzXStoZXhUYWJsZVsxMjh8NjMmY10pfXJldHVybiBvdXR9LGV4cG9ydHMuY29tcGFjdD1mdW5jdGlvbihvYmoscmVmZXJlbmNlcyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG9ianx8bnVsbD09PW9iailyZXR1cm4gb2JqO3ZhciByZWZzPXJlZmVyZW5jZXN8fFtdLGxvb2t1cD1yZWZzLmluZGV4T2Yob2JqKTtpZigtMSE9PWxvb2t1cClyZXR1cm4gcmVmc1tsb29rdXBdO2lmKHJlZnMucHVzaChvYmopLEFycmF5LmlzQXJyYXkob2JqKSl7Zm9yKHZhciBjb21wYWN0ZWQ9W10saT0wO2k8b2JqLmxlbmd0aDsrK2kpb2JqW2ldJiZcIm9iamVjdFwiPT10eXBlb2Ygb2JqW2ldP2NvbXBhY3RlZC5wdXNoKGV4cG9ydHMuY29tcGFjdChvYmpbaV0scmVmcykpOnZvaWQgMCE9PW9ialtpXSYmY29tcGFjdGVkLnB1c2gob2JqW2ldKTtyZXR1cm4gY29tcGFjdGVkfXJldHVybiBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24oa2V5KXtvYmpba2V5XT1leHBvcnRzLmNvbXBhY3Qob2JqW2tleV0scmVmcyl9KSxvYmp9LGV4cG9ydHMuaXNSZWdFeHA9ZnVuY3Rpb24ob2JqKXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iail9LGV4cG9ydHMuaXNCdWZmZXI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gbnVsbCE9b2JqJiYhIShvYmouY29uc3RydWN0b3ImJm9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpfX0pLHV0aWxzXzE9dXRpbHMuYXJyYXlUb09iamVjdCx1dGlsc18yPXV0aWxzLm1lcmdlLHV0aWxzXzM9dXRpbHMuZGVjb2RlLHV0aWxzXzQ9dXRpbHMuZW5jb2RlLHV0aWxzXzU9dXRpbHMuY29tcGFjdCx1dGlsc182PXV0aWxzLmlzUmVnRXhwLHV0aWxzXzc9dXRpbHMuaXNCdWZmZXIscmVwbGFjZT1TdHJpbmcucHJvdG90eXBlLnJlcGxhY2UscGVyY2VudFR3ZW50aWVzPS8lMjAvZyxmb3JtYXRzPXtkZWZhdWx0OlwiUkZDMzk4NlwiLGZvcm1hdHRlcnM6e1JGQzE3Mzg6ZnVuY3Rpb24odmFsdWUpe3JldHVybiByZXBsYWNlLmNhbGwodmFsdWUscGVyY2VudFR3ZW50aWVzLFwiK1wiKX0sUkZDMzk4NjpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlfX0sUkZDMTczODpcIlJGQzE3MzhcIixSRkMzOTg2OlwiUkZDMzk4NlwifSxhcnJheVByZWZpeEdlbmVyYXRvcnM9e2JyYWNrZXRzOmZ1bmN0aW9uKHByZWZpeCl7cmV0dXJuIHByZWZpeCtcIltdXCJ9LGluZGljZXM6ZnVuY3Rpb24ocHJlZml4LGtleSl7cmV0dXJuIHByZWZpeCtcIltcIitrZXkrXCJdXCJ9LHJlcGVhdDpmdW5jdGlvbihwcmVmaXgpe3JldHVybiBwcmVmaXh9fSx0b0lTTz1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyxkZWZhdWx0cz17ZGVsaW1pdGVyOlwiJlwiLGVuY29kZTohMCxlbmNvZGVyOnV0aWxzLmVuY29kZSxlbmNvZGVWYWx1ZXNPbmx5OiExLHNlcmlhbGl6ZURhdGU6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIHRvSVNPLmNhbGwoZGF0ZSl9LHNraXBOdWxsczohMSxzdHJpY3ROdWxsSGFuZGxpbmc6ITF9LHN0cmluZ2lmeT1mdW5jdGlvbiBzdHJpbmdpZnkob2JqZWN0LHByZWZpeCxnZW5lcmF0ZUFycmF5UHJlZml4LHN0cmljdE51bGxIYW5kbGluZyxza2lwTnVsbHMsZW5jb2RlcixmaWx0ZXIsc29ydCxhbGxvd0RvdHMsc2VyaWFsaXplRGF0ZSxmb3JtYXR0ZXIsZW5jb2RlVmFsdWVzT25seSl7dmFyIG9iaj1vYmplY3Q7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZmlsdGVyKW9iaj1maWx0ZXIocHJlZml4LG9iaik7ZWxzZSBpZihvYmogaW5zdGFuY2VvZiBEYXRlKW9iaj1zZXJpYWxpemVEYXRlKG9iaik7ZWxzZSBpZihudWxsPT09b2JqKXtpZihzdHJpY3ROdWxsSGFuZGxpbmcpcmV0dXJuIGVuY29kZXImJiFlbmNvZGVWYWx1ZXNPbmx5P2VuY29kZXIocHJlZml4KTpwcmVmaXg7b2JqPVwiXCJ9aWYoXCJzdHJpbmdcIj09dHlwZW9mIG9ianx8XCJudW1iZXJcIj09dHlwZW9mIG9ianx8XCJib29sZWFuXCI9PXR5cGVvZiBvYmp8fHV0aWxzLmlzQnVmZmVyKG9iaikpcmV0dXJuIGVuY29kZXI/W2Zvcm1hdHRlcihlbmNvZGVWYWx1ZXNPbmx5P3ByZWZpeDplbmNvZGVyKHByZWZpeCkpK1wiPVwiK2Zvcm1hdHRlcihlbmNvZGVyKG9iaikpXTpbZm9ybWF0dGVyKHByZWZpeCkrXCI9XCIrZm9ybWF0dGVyKFN0cmluZyhvYmopKV07dmFyIG9iaktleXMsdmFsdWVzPVtdO2lmKHZvaWQgMD09PW9iailyZXR1cm4gdmFsdWVzO2lmKEFycmF5LmlzQXJyYXkoZmlsdGVyKSlvYmpLZXlzPWZpbHRlcjtlbHNle3ZhciBrZXlzPU9iamVjdC5rZXlzKG9iaik7b2JqS2V5cz1zb3J0P2tleXMuc29ydChzb3J0KTprZXlzfWZvcih2YXIgaT0wO2k8b2JqS2V5cy5sZW5ndGg7KytpKXt2YXIga2V5PW9iaktleXNbaV07c2tpcE51bGxzJiZudWxsPT09b2JqW2tleV18fCh2YWx1ZXM9QXJyYXkuaXNBcnJheShvYmopP3ZhbHVlcy5jb25jYXQoc3RyaW5naWZ5KG9ialtrZXldLGdlbmVyYXRlQXJyYXlQcmVmaXgocHJlZml4LGtleSksZ2VuZXJhdGVBcnJheVByZWZpeCxzdHJpY3ROdWxsSGFuZGxpbmcsc2tpcE51bGxzLGVuY29kZXIsZmlsdGVyLHNvcnQsYWxsb3dEb3RzLHNlcmlhbGl6ZURhdGUsZm9ybWF0dGVyLGVuY29kZVZhbHVlc09ubHkpKTp2YWx1ZXMuY29uY2F0KHN0cmluZ2lmeShvYmpba2V5XSxwcmVmaXgrKGFsbG93RG90cz9cIi5cIitrZXk6XCJbXCIra2V5K1wiXVwiKSxnZW5lcmF0ZUFycmF5UHJlZml4LHN0cmljdE51bGxIYW5kbGluZyxza2lwTnVsbHMsZW5jb2RlcixmaWx0ZXIsc29ydCxhbGxvd0RvdHMsc2VyaWFsaXplRGF0ZSxmb3JtYXR0ZXIsZW5jb2RlVmFsdWVzT25seSkpKX1yZXR1cm4gdmFsdWVzfSxzdHJpbmdpZnlfMT1mdW5jdGlvbihvYmplY3Qsb3B0cyl7dmFyIG9iaj1vYmplY3Qsb3B0aW9ucz1vcHRzfHx7fTtpZihudWxsIT09b3B0aW9ucy5lbmNvZGVyJiZ2b2lkIDAhPT1vcHRpb25zLmVuY29kZXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG9wdGlvbnMuZW5jb2Rlcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi5cIik7dmFyIGRlbGltaXRlcj12b2lkIDA9PT1vcHRpb25zLmRlbGltaXRlcj9kZWZhdWx0cy5kZWxpbWl0ZXI6b3B0aW9ucy5kZWxpbWl0ZXIsc3RyaWN0TnVsbEhhbmRsaW5nPVwiYm9vbGVhblwiPT10eXBlb2Ygb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmc/b3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmc6ZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nLHNraXBOdWxscz1cImJvb2xlYW5cIj09dHlwZW9mIG9wdGlvbnMuc2tpcE51bGxzP29wdGlvbnMuc2tpcE51bGxzOmRlZmF1bHRzLnNraXBOdWxscyxlbmNvZGU9XCJib29sZWFuXCI9PXR5cGVvZiBvcHRpb25zLmVuY29kZT9vcHRpb25zLmVuY29kZTpkZWZhdWx0cy5lbmNvZGUsZW5jb2Rlcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLmVuY29kZXI/b3B0aW9ucy5lbmNvZGVyOmRlZmF1bHRzLmVuY29kZXIsc29ydD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLnNvcnQ/b3B0aW9ucy5zb3J0Om51bGwsYWxsb3dEb3RzPXZvaWQgMCE9PW9wdGlvbnMuYWxsb3dEb3RzJiZvcHRpb25zLmFsbG93RG90cyxzZXJpYWxpemVEYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuc2VyaWFsaXplRGF0ZT9vcHRpb25zLnNlcmlhbGl6ZURhdGU6ZGVmYXVsdHMuc2VyaWFsaXplRGF0ZSxlbmNvZGVWYWx1ZXNPbmx5PVwiYm9vbGVhblwiPT10eXBlb2Ygb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5P29wdGlvbnMuZW5jb2RlVmFsdWVzT25seTpkZWZhdWx0cy5lbmNvZGVWYWx1ZXNPbmx5O2lmKHZvaWQgMD09PW9wdGlvbnMuZm9ybWF0KW9wdGlvbnMuZm9ybWF0PWZvcm1hdHMuZGVmYXVsdDtlbHNlIGlmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZm9ybWF0cy5mb3JtYXR0ZXJzLG9wdGlvbnMuZm9ybWF0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLlwiKTt2YXIgb2JqS2V5cyxmaWx0ZXIsZm9ybWF0dGVyPWZvcm1hdHMuZm9ybWF0dGVyc1tvcHRpb25zLmZvcm1hdF07XCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy5maWx0ZXI/b2JqPShmaWx0ZXI9b3B0aW9ucy5maWx0ZXIpKFwiXCIsb2JqKTpBcnJheS5pc0FycmF5KG9wdGlvbnMuZmlsdGVyKSYmKG9iaktleXM9ZmlsdGVyPW9wdGlvbnMuZmlsdGVyKTt2YXIgYXJyYXlGb3JtYXQsa2V5cz1bXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygb2JqfHxudWxsPT09b2JqKXJldHVyblwiXCI7YXJyYXlGb3JtYXQ9b3B0aW9ucy5hcnJheUZvcm1hdCBpbiBhcnJheVByZWZpeEdlbmVyYXRvcnM/b3B0aW9ucy5hcnJheUZvcm1hdDpcImluZGljZXNcImluIG9wdGlvbnM/b3B0aW9ucy5pbmRpY2VzP1wiaW5kaWNlc1wiOlwicmVwZWF0XCI6XCJpbmRpY2VzXCI7dmFyIGdlbmVyYXRlQXJyYXlQcmVmaXg9YXJyYXlQcmVmaXhHZW5lcmF0b3JzW2FycmF5Rm9ybWF0XTtvYmpLZXlzfHwob2JqS2V5cz1PYmplY3Qua2V5cyhvYmopKSxzb3J0JiZvYmpLZXlzLnNvcnQoc29ydCk7Zm9yKHZhciBpPTA7aTxvYmpLZXlzLmxlbmd0aDsrK2kpe3ZhciBrZXk9b2JqS2V5c1tpXTtza2lwTnVsbHMmJm51bGw9PT1vYmpba2V5XXx8KGtleXM9a2V5cy5jb25jYXQoc3RyaW5naWZ5KG9ialtrZXldLGtleSxnZW5lcmF0ZUFycmF5UHJlZml4LHN0cmljdE51bGxIYW5kbGluZyxza2lwTnVsbHMsZW5jb2RlP2VuY29kZXI6bnVsbCxmaWx0ZXIsc29ydCxhbGxvd0RvdHMsc2VyaWFsaXplRGF0ZSxmb3JtYXR0ZXIsZW5jb2RlVmFsdWVzT25seSkpKX1yZXR1cm4ga2V5cy5qb2luKGRlbGltaXRlcil9LGhhcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGRlZmF1bHRzJDE9e2FsbG93RG90czohMSxhbGxvd1Byb3RvdHlwZXM6ITEsYXJyYXlMaW1pdDoyMCxkZWNvZGVyOnV0aWxzLmRlY29kZSxkZWxpbWl0ZXI6XCImXCIsZGVwdGg6NSxwYXJhbWV0ZXJMaW1pdDoxZTMscGxhaW5PYmplY3RzOiExLHN0cmljdE51bGxIYW5kbGluZzohMX0scGFyc2VWYWx1ZXM9ZnVuY3Rpb24oc3RyLG9wdGlvbnMpe2Zvcih2YXIgb2JqPXt9LHBhcnRzPXN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlcixvcHRpb25zLnBhcmFtZXRlckxpbWl0PT09MS8wP3ZvaWQgMDpvcHRpb25zLnBhcmFtZXRlckxpbWl0KSxpPTA7aTxwYXJ0cy5sZW5ndGg7KytpKXt2YXIga2V5LHZhbCxwYXJ0PXBhcnRzW2ldLHBvcz0tMT09PXBhcnQuaW5kZXhPZihcIl09XCIpP3BhcnQuaW5kZXhPZihcIj1cIik6cGFydC5pbmRleE9mKFwiXT1cIikrMTstMT09PXBvcz8oa2V5PW9wdGlvbnMuZGVjb2RlcihwYXJ0KSx2YWw9b3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmc/bnVsbDpcIlwiKTooa2V5PW9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKDAscG9zKSksdmFsPW9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKHBvcysxKSkpLGhhcy5jYWxsKG9iaixrZXkpP29ialtrZXldPVtdLmNvbmNhdChvYmpba2V5XSkuY29uY2F0KHZhbCk6b2JqW2tleV09dmFsfXJldHVybiBvYmp9LHBhcnNlT2JqZWN0PWZ1bmN0aW9uKGNoYWluLHZhbCxvcHRpb25zKXtpZighY2hhaW4ubGVuZ3RoKXJldHVybiB2YWw7dmFyIG9iaixyb290PWNoYWluLnNoaWZ0KCk7aWYoXCJbXVwiPT09cm9vdClvYmo9KG9iaj1bXSkuY29uY2F0KHBhcnNlT2JqZWN0KGNoYWluLHZhbCxvcHRpb25zKSk7ZWxzZXtvYmo9b3B0aW9ucy5wbGFpbk9iamVjdHM/T2JqZWN0LmNyZWF0ZShudWxsKTp7fTt2YXIgY2xlYW5Sb290PVwiW1wiPT09cm9vdC5jaGFyQXQoMCkmJlwiXVwiPT09cm9vdC5jaGFyQXQocm9vdC5sZW5ndGgtMSk/cm9vdC5zbGljZSgxLC0xKTpyb290LGluZGV4PXBhcnNlSW50KGNsZWFuUm9vdCwxMCk7IWlzTmFOKGluZGV4KSYmcm9vdCE9PWNsZWFuUm9vdCYmU3RyaW5nKGluZGV4KT09PWNsZWFuUm9vdCYmaW5kZXg+PTAmJm9wdGlvbnMucGFyc2VBcnJheXMmJmluZGV4PD1vcHRpb25zLmFycmF5TGltaXQ/KG9iaj1bXSlbaW5kZXhdPXBhcnNlT2JqZWN0KGNoYWluLHZhbCxvcHRpb25zKTpvYmpbY2xlYW5Sb290XT1wYXJzZU9iamVjdChjaGFpbix2YWwsb3B0aW9ucyl9cmV0dXJuIG9ian0scGFyc2VLZXlzPWZ1bmN0aW9uKGdpdmVuS2V5LHZhbCxvcHRpb25zKXtpZihnaXZlbktleSl7dmFyIGtleT1vcHRpb25zLmFsbG93RG90cz9naXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLFwiWyQxXVwiKTpnaXZlbktleSxjaGlsZD0vKFxcW1teW1xcXV0qXSkvZyxzZWdtZW50PS8oXFxbW15bXFxdXSpdKS8uZXhlYyhrZXkpLHBhcmVudD1zZWdtZW50P2tleS5zbGljZSgwLHNlZ21lbnQuaW5kZXgpOmtleSxrZXlzPVtdO2lmKHBhcmVudCl7aWYoIW9wdGlvbnMucGxhaW5PYmplY3RzJiZoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLHBhcmVudCkmJiFvcHRpb25zLmFsbG93UHJvdG90eXBlcylyZXR1cm47a2V5cy5wdXNoKHBhcmVudCl9Zm9yKHZhciBpPTA7bnVsbCE9PShzZWdtZW50PWNoaWxkLmV4ZWMoa2V5KSkmJmk8b3B0aW9ucy5kZXB0aDspe2lmKGkrPTEsIW9wdGlvbnMucGxhaW5PYmplY3RzJiZoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLHNlZ21lbnRbMV0uc2xpY2UoMSwtMSkpJiYhb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpcmV0dXJuO2tleXMucHVzaChzZWdtZW50WzFdKX1yZXR1cm4gc2VnbWVudCYma2V5cy5wdXNoKFwiW1wiK2tleS5zbGljZShzZWdtZW50LmluZGV4KStcIl1cIikscGFyc2VPYmplY3Qoa2V5cyx2YWwsb3B0aW9ucyl9fSxwYXJzZT1mdW5jdGlvbihzdHIsb3B0cyl7dmFyIG9wdGlvbnM9b3B0c3x8e307aWYobnVsbCE9PW9wdGlvbnMuZGVjb2RlciYmdm9pZCAwIT09b3B0aW9ucy5kZWNvZGVyJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBvcHRpb25zLmRlY29kZXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uXCIpO2lmKG9wdGlvbnMuZGVsaW1pdGVyPVwic3RyaW5nXCI9PXR5cGVvZiBvcHRpb25zLmRlbGltaXRlcnx8dXRpbHMuaXNSZWdFeHAob3B0aW9ucy5kZWxpbWl0ZXIpP29wdGlvbnMuZGVsaW1pdGVyOmRlZmF1bHRzJDEuZGVsaW1pdGVyLG9wdGlvbnMuZGVwdGg9XCJudW1iZXJcIj09dHlwZW9mIG9wdGlvbnMuZGVwdGg/b3B0aW9ucy5kZXB0aDpkZWZhdWx0cyQxLmRlcHRoLG9wdGlvbnMuYXJyYXlMaW1pdD1cIm51bWJlclwiPT10eXBlb2Ygb3B0aW9ucy5hcnJheUxpbWl0P29wdGlvbnMuYXJyYXlMaW1pdDpkZWZhdWx0cyQxLmFycmF5TGltaXQsb3B0aW9ucy5wYXJzZUFycmF5cz0hMSE9PW9wdGlvbnMucGFyc2VBcnJheXMsb3B0aW9ucy5kZWNvZGVyPVwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZGVjb2Rlcj9vcHRpb25zLmRlY29kZXI6ZGVmYXVsdHMkMS5kZWNvZGVyLG9wdGlvbnMuYWxsb3dEb3RzPVwiYm9vbGVhblwiPT10eXBlb2Ygb3B0aW9ucy5hbGxvd0RvdHM/b3B0aW9ucy5hbGxvd0RvdHM6ZGVmYXVsdHMkMS5hbGxvd0RvdHMsb3B0aW9ucy5wbGFpbk9iamVjdHM9XCJib29sZWFuXCI9PXR5cGVvZiBvcHRpb25zLnBsYWluT2JqZWN0cz9vcHRpb25zLnBsYWluT2JqZWN0czpkZWZhdWx0cyQxLnBsYWluT2JqZWN0cyxvcHRpb25zLmFsbG93UHJvdG90eXBlcz1cImJvb2xlYW5cIj09dHlwZW9mIG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzP29wdGlvbnMuYWxsb3dQcm90b3R5cGVzOmRlZmF1bHRzJDEuYWxsb3dQcm90b3R5cGVzLG9wdGlvbnMucGFyYW1ldGVyTGltaXQ9XCJudW1iZXJcIj09dHlwZW9mIG9wdGlvbnMucGFyYW1ldGVyTGltaXQ/b3B0aW9ucy5wYXJhbWV0ZXJMaW1pdDpkZWZhdWx0cyQxLnBhcmFtZXRlckxpbWl0LG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nPVwiYm9vbGVhblwiPT10eXBlb2Ygb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmc/b3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmc6ZGVmYXVsdHMkMS5zdHJpY3ROdWxsSGFuZGxpbmcsXCJcIj09PXN0cnx8bnVsbD09c3RyKXJldHVybiBvcHRpb25zLnBsYWluT2JqZWN0cz9PYmplY3QuY3JlYXRlKG51bGwpOnt9O2Zvcih2YXIgdGVtcE9iaj1cInN0cmluZ1wiPT10eXBlb2Ygc3RyP3BhcnNlVmFsdWVzKHN0cixvcHRpb25zKTpzdHIsb2JqPW9wdGlvbnMucGxhaW5PYmplY3RzP09iamVjdC5jcmVhdGUobnVsbCk6e30sa2V5cz1PYmplY3Qua2V5cyh0ZW1wT2JqKSxpPTA7aTxrZXlzLmxlbmd0aDsrK2kpe3ZhciBrZXk9a2V5c1tpXSxuZXdPYmo9cGFyc2VLZXlzKGtleSx0ZW1wT2JqW2tleV0sb3B0aW9ucyk7b2JqPXV0aWxzLm1lcmdlKG9iaixuZXdPYmosb3B0aW9ucyl9cmV0dXJuIHV0aWxzLmNvbXBhY3Qob2JqKX0sbGliPXtmb3JtYXRzOmZvcm1hdHMscGFyc2U6cGFyc2Usc3RyaW5naWZ5OnN0cmluZ2lmeV8xfSxjb21wb25lbnRFbWl0dGVyPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSl7ZnVuY3Rpb24gRW1pdHRlcihvYmope2lmKG9iailyZXR1cm4gZnVuY3Rpb24ob2JqKXtmb3IodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSlvYmpba2V5XT1FbWl0dGVyLnByb3RvdHlwZVtrZXldO3JldHVybiBvYmp9KG9iail9bW9kdWxlLmV4cG9ydHM9RW1pdHRlcixFbWl0dGVyLnByb3RvdHlwZS5vbj1FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGZuKXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sKHRoaXMuX2NhbGxiYWNrc1tcIiRcIitldmVudF09dGhpcy5fY2FsbGJhY2tzW1wiJFwiK2V2ZW50XXx8W10pLnB1c2goZm4pLHRoaXN9LEVtaXR0ZXIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZXZlbnQsZm4pe2Z1bmN0aW9uIG9uKCl7dGhpcy5vZmYoZXZlbnQsb24pLGZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gb24uZm49Zm4sdGhpcy5vbihldmVudCxvbiksdGhpc30sRW1pdHRlci5wcm90b3R5cGUub2ZmPUVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPUVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGZuKXtpZih0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLl9jYWxsYmFja3M9e30sdGhpczt2YXIgY2IsY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc1tcIiRcIitldmVudF07aWYoIWNhbGxiYWNrcylyZXR1cm4gdGhpcztpZigxPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW1wiJFwiK2V2ZW50XSx0aGlzO2Zvcih2YXIgaT0wO2k8Y2FsbGJhY2tzLmxlbmd0aDtpKyspaWYoKGNiPWNhbGxiYWNrc1tpXSk9PT1mbnx8Y2IuZm49PT1mbil7Y2FsbGJhY2tzLnNwbGljZShpLDEpO2JyZWFrfXJldHVybiB0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGV2ZW50KXt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fTt2YXIgYXJncz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzW1wiJFwiK2V2ZW50XTtpZihjYWxsYmFja3MpZm9yKHZhciBpPTAsbGVuPShjYWxsYmFja3M9Y2FsbGJhY2tzLnNsaWNlKDApKS5sZW5ndGg7aTxsZW47KytpKWNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLGFyZ3MpO3JldHVybiB0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnQpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbXCIkXCIrZXZlbnRdfHxbXX0sRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGh9fSk7ZnVuY3Rpb24gaXNPYmplY3Qob2JqKXtyZXR1cm4gbnVsbCE9PW9iaiYmXCJvYmplY3RcIj09dHlwZW9mIG9ian12YXIgaXNPYmplY3RfMT1pc09iamVjdCxyZXF1ZXN0QmFzZT1SZXF1ZXN0QmFzZTtmdW5jdGlvbiBSZXF1ZXN0QmFzZShvYmope2lmKG9iailyZXR1cm4gbWl4aW4ob2JqKX1mdW5jdGlvbiBtaXhpbihvYmope2Zvcih2YXIga2V5IGluIFJlcXVlc3RCYXNlLnByb3RvdHlwZSlvYmpba2V5XT1SZXF1ZXN0QmFzZS5wcm90b3R5cGVba2V5XTtyZXR1cm4gb2JqfVJlcXVlc3RCYXNlLnByb3RvdHlwZS5jbGVhclRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5fcmVzcG9uc2VUaW1lb3V0VGltZXIpLGRlbGV0ZSB0aGlzLl90aW1lcixkZWxldGUgdGhpcy5fcmVzcG9uc2VUaW1lb3V0VGltZXIsdGhpc30sUmVxdWVzdEJhc2UucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGZuKXtyZXR1cm4gdGhpcy5fcGFyc2VyPWZuLHRoaXN9LFJlcXVlc3RCYXNlLnByb3RvdHlwZS5yZXNwb25zZVR5cGU9ZnVuY3Rpb24odmFsKXtyZXR1cm4gdGhpcy5fcmVzcG9uc2VUeXBlPXZhbCx0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKGZuKXtyZXR1cm4gdGhpcy5fc2VyaWFsaXplcj1mbix0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUudGltZW91dD1mdW5jdGlvbihvcHRpb25zKXtpZighb3B0aW9uc3x8XCJvYmplY3RcIiE9dHlwZW9mIG9wdGlvbnMpcmV0dXJuIHRoaXMuX3RpbWVvdXQ9b3B0aW9ucyx0aGlzLl9yZXNwb25zZVRpbWVvdXQ9MCx0aGlzO2Zvcih2YXIgb3B0aW9uIGluIG9wdGlvbnMpc3dpdGNoKG9wdGlvbil7Y2FzZVwiZGVhZGxpbmVcIjp0aGlzLl90aW1lb3V0PW9wdGlvbnMuZGVhZGxpbmU7YnJlYWs7Y2FzZVwicmVzcG9uc2VcIjp0aGlzLl9yZXNwb25zZVRpbWVvdXQ9b3B0aW9ucy5yZXNwb25zZTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybihcIlVua25vd24gdGltZW91dCBvcHRpb25cIixvcHRpb24pfXJldHVybiB0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUucmV0cnk9ZnVuY3Rpb24oY291bnQsZm4pe3JldHVybiAwIT09YXJndW1lbnRzLmxlbmd0aCYmITAhPT1jb3VudHx8KGNvdW50PTEpLGNvdW50PD0wJiYoY291bnQ9MCksdGhpcy5fbWF4UmV0cmllcz1jb3VudCx0aGlzLl9yZXRyaWVzPTAsdGhpcy5fcmV0cnlDYWxsYmFjaz1mbix0aGlzfTt2YXIgRVJST1JfQ09ERVM9W1wiRUNPTk5SRVNFVFwiLFwiRVRJTUVET1VUXCIsXCJFQUREUklORk9cIixcIkVTT0NLRVRUSU1FRE9VVFwiXTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUuX3Nob3VsZFJldHJ5PWZ1bmN0aW9uKGVycixyZXMpe2lmKCF0aGlzLl9tYXhSZXRyaWVzfHx0aGlzLl9yZXRyaWVzKys+PXRoaXMuX21heFJldHJpZXMpcmV0dXJuITE7aWYodGhpcy5fcmV0cnlDYWxsYmFjayl0cnl7dmFyIG92ZXJyaWRlPXRoaXMuX3JldHJ5Q2FsbGJhY2soZXJyLHJlcyk7aWYoITA9PT1vdmVycmlkZSlyZXR1cm4hMDtpZighMT09PW92ZXJyaWRlKXJldHVybiExfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9aWYocmVzJiZyZXMuc3RhdHVzJiZyZXMuc3RhdHVzPj01MDAmJjUwMSE9cmVzLnN0YXR1cylyZXR1cm4hMDtpZihlcnIpe2lmKGVyci5jb2RlJiZ+RVJST1JfQ09ERVMuaW5kZXhPZihlcnIuY29kZSkpcmV0dXJuITA7aWYoZXJyLnRpbWVvdXQmJlwiRUNPTk5BQk9SVEVEXCI9PWVyci5jb2RlKXJldHVybiEwO2lmKGVyci5jcm9zc0RvbWFpbilyZXR1cm4hMH1yZXR1cm4hMX0sUmVxdWVzdEJhc2UucHJvdG90eXBlLl9yZXRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMucmVxJiYodGhpcy5yZXE9bnVsbCx0aGlzLnJlcT10aGlzLnJlcXVlc3QoKSksdGhpcy5fYWJvcnRlZD0hMSx0aGlzLnRpbWVkb3V0PSExLHRoaXMuX2VuZCgpfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7aWYoIXRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlKXt2YXIgc2VsZj10aGlzO3RoaXMuX2VuZENhbGxlZCYmY29uc29sZS53YXJuKFwiV2FybmluZzogc3VwZXJhZ2VudCByZXF1ZXN0IHdhcyBzZW50IHR3aWNlLCBiZWNhdXNlIGJvdGggLmVuZCgpIGFuZCAudGhlbigpIHdlcmUgY2FsbGVkLiBOZXZlciBjYWxsIC5lbmQoKSBpZiB5b3UgdXNlIHByb21pc2VzXCIpLHRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGlubmVyUmVzb2x2ZSxpbm5lclJlamVjdCl7c2VsZi5lbmQoZnVuY3Rpb24oZXJyLHJlcyl7ZXJyP2lubmVyUmVqZWN0KGVycik6aW5uZXJSZXNvbHZlKHJlcyl9KX0pfXJldHVybiB0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZS50aGVuKHJlc29sdmUscmVqZWN0KX0sUmVxdWVzdEJhc2UucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGNiKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxjYil9LFJlcXVlc3RCYXNlLnByb3RvdHlwZS51c2U9ZnVuY3Rpb24oZm4pe3JldHVybiBmbih0aGlzKSx0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUub2s9ZnVuY3Rpb24oY2Ipe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNiKXRocm93IEVycm9yKFwiQ2FsbGJhY2sgcmVxdWlyZWRcIik7cmV0dXJuIHRoaXMuX29rQ2FsbGJhY2s9Y2IsdGhpc30sUmVxdWVzdEJhc2UucHJvdG90eXBlLl9pc1Jlc3BvbnNlT0s9ZnVuY3Rpb24ocmVzKXtyZXR1cm4hIXJlcyYmKHRoaXMuX29rQ2FsbGJhY2s/dGhpcy5fb2tDYWxsYmFjayhyZXMpOnJlcy5zdGF0dXM+PTIwMCYmcmVzLnN0YXR1czwzMDApfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGZpZWxkKXtyZXR1cm4gdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUuZ2V0SGVhZGVyPVJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQsUmVxdWVzdEJhc2UucHJvdG90eXBlLnNldD1mdW5jdGlvbihmaWVsZCx2YWwpe2lmKGlzT2JqZWN0XzEoZmllbGQpKXtmb3IodmFyIGtleSBpbiBmaWVsZCl0aGlzLnNldChrZXksZmllbGRba2V5XSk7cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXT12YWwsdGhpcy5oZWFkZXJbZmllbGRdPXZhbCx0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUudW5zZXQ9ZnVuY3Rpb24oZmllbGQpe3JldHVybiBkZWxldGUgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldLGRlbGV0ZSB0aGlzLmhlYWRlcltmaWVsZF0sdGhpc30sUmVxdWVzdEJhc2UucHJvdG90eXBlLmZpZWxkPWZ1bmN0aW9uKG5hbWUsdmFsKXtpZihudWxsPT1uYW1lKXRocm93IG5ldyBFcnJvcihcIi5maWVsZChuYW1lLCB2YWwpIG5hbWUgY2FuIG5vdCBiZSBlbXB0eVwiKTtpZih0aGlzLl9kYXRhJiZjb25zb2xlLmVycm9yKFwiLmZpZWxkKCkgY2FuJ3QgYmUgdXNlZCBpZiAuc2VuZCgpIGlzIHVzZWQuIFBsZWFzZSB1c2Ugb25seSAuc2VuZCgpIG9yIG9ubHkgLmZpZWxkKCkgJiAuYXR0YWNoKClcIiksaXNPYmplY3RfMShuYW1lKSl7Zm9yKHZhciBrZXkgaW4gbmFtZSl0aGlzLmZpZWxkKGtleSxuYW1lW2tleV0pO3JldHVybiB0aGlzfWlmKEFycmF5LmlzQXJyYXkodmFsKSl7Zm9yKHZhciBpIGluIHZhbCl0aGlzLmZpZWxkKG5hbWUsdmFsW2ldKTtyZXR1cm4gdGhpc31pZihudWxsPT12YWwpdGhyb3cgbmV3IEVycm9yKFwiLmZpZWxkKG5hbWUsIHZhbCkgdmFsIGNhbiBub3QgYmUgZW1wdHlcIik7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB2YWwmJih2YWw9XCJcIit2YWwpLHRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKG5hbWUsdmFsKSx0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWJvcnRlZD90aGlzOih0aGlzLl9hYm9ydGVkPSEwLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMucmVxJiZ0aGlzLnJlcS5hYm9ydCgpLHRoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5lbWl0KFwiYWJvcnRcIiksdGhpcyl9LFJlcXVlc3RCYXNlLnByb3RvdHlwZS5fYXV0aD1mdW5jdGlvbih1c2VyLHBhc3Msb3B0aW9ucyxiYXNlNjRFbmNvZGVyKXtzd2l0Y2gob3B0aW9ucy50eXBlKXtjYXNlXCJiYXNpY1wiOnRoaXMuc2V0KFwiQXV0aG9yaXphdGlvblwiLFwiQmFzaWMgXCIrYmFzZTY0RW5jb2Rlcih1c2VyK1wiOlwiK3Bhc3MpKTticmVhaztjYXNlXCJhdXRvXCI6dGhpcy51c2VybmFtZT11c2VyLHRoaXMucGFzc3dvcmQ9cGFzczticmVhaztjYXNlXCJiZWFyZXJcIjp0aGlzLnNldChcIkF1dGhvcml6YXRpb25cIixcIkJlYXJlciBcIit1c2VyKX1yZXR1cm4gdGhpc30sUmVxdWVzdEJhc2UucHJvdG90eXBlLndpdGhDcmVkZW50aWFscz1mdW5jdGlvbihvbil7cmV0dXJuIG51bGw9PW9uJiYob249ITApLHRoaXMuX3dpdGhDcmVkZW50aWFscz1vbix0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUucmVkaXJlY3RzPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9tYXhSZWRpcmVjdHM9bix0aGlzfSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUubWF4UmVzcG9uc2VTaXplPWZ1bmN0aW9uKG4pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBuKXRocm93IFR5cGVFcnJvcihcIkludmFsaWQgYXJndW1lbnRcIik7cmV0dXJuIHRoaXMuX21heFJlc3BvbnNlU2l6ZT1uLHRoaXN9LFJlcXVlc3RCYXNlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57bWV0aG9kOnRoaXMubWV0aG9kLHVybDp0aGlzLnVybCxkYXRhOnRoaXMuX2RhdGEsaGVhZGVyczp0aGlzLl9oZWFkZXJ9fSxSZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihkYXRhKXt2YXIgaXNPYmo9aXNPYmplY3RfMShkYXRhKSx0eXBlPXRoaXMuX2hlYWRlcltcImNvbnRlbnQtdHlwZVwiXTtpZih0aGlzLl9mb3JtRGF0YSYmY29uc29sZS5lcnJvcihcIi5zZW5kKCkgY2FuJ3QgYmUgdXNlZCBpZiAuYXR0YWNoKCkgb3IgLmZpZWxkKCkgaXMgdXNlZC4gUGxlYXNlIHVzZSBvbmx5IC5zZW5kKCkgb3Igb25seSAuZmllbGQoKSAmIC5hdHRhY2goKVwiKSxpc09iaiYmIXRoaXMuX2RhdGEpQXJyYXkuaXNBcnJheShkYXRhKT90aGlzLl9kYXRhPVtdOnRoaXMuX2lzSG9zdChkYXRhKXx8KHRoaXMuX2RhdGE9e30pO2Vsc2UgaWYoZGF0YSYmdGhpcy5fZGF0YSYmdGhpcy5faXNIb3N0KHRoaXMuX2RhdGEpKXRocm93IEVycm9yKFwiQ2FuJ3QgbWVyZ2UgdGhlc2Ugc2VuZCBjYWxsc1wiKTtpZihpc09iaiYmaXNPYmplY3RfMSh0aGlzLl9kYXRhKSlmb3IodmFyIGtleSBpbiBkYXRhKXRoaXMuX2RhdGFba2V5XT1kYXRhW2tleV07ZWxzZVwic3RyaW5nXCI9PXR5cGVvZiBkYXRhPyh0eXBlfHx0aGlzLnR5cGUoXCJmb3JtXCIpLHR5cGU9dGhpcy5faGVhZGVyW1wiY29udGVudC10eXBlXCJdLHRoaXMuX2RhdGE9XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIj09dHlwZT90aGlzLl9kYXRhP3RoaXMuX2RhdGErXCImXCIrZGF0YTpkYXRhOih0aGlzLl9kYXRhfHxcIlwiKStkYXRhKTp0aGlzLl9kYXRhPWRhdGE7cmV0dXJuIWlzT2JqfHx0aGlzLl9pc0hvc3QoZGF0YSk/dGhpczoodHlwZXx8dGhpcy50eXBlKFwianNvblwiKSx0aGlzKX0sUmVxdWVzdEJhc2UucHJvdG90eXBlLnNvcnRRdWVyeT1mdW5jdGlvbihzb3J0KXtyZXR1cm4gdGhpcy5fc29ydD12b2lkIDA9PT1zb3J0fHxzb3J0LHRoaXN9LFJlcXVlc3RCYXNlLnByb3RvdHlwZS5fZmluYWxpemVRdWVyeVN0cmluZz1mdW5jdGlvbigpe3ZhciBxdWVyeT10aGlzLl9xdWVyeS5qb2luKFwiJlwiKTtpZihxdWVyeSYmKHRoaXMudXJsKz0odGhpcy51cmwuaW5kZXhPZihcIj9cIik+PTA/XCImXCI6XCI/XCIpK3F1ZXJ5KSx0aGlzLl9xdWVyeS5sZW5ndGg9MCx0aGlzLl9zb3J0KXt2YXIgaW5kZXg9dGhpcy51cmwuaW5kZXhPZihcIj9cIik7aWYoaW5kZXg+PTApe3ZhciBxdWVyeUFycj10aGlzLnVybC5zdWJzdHJpbmcoaW5kZXgrMSkuc3BsaXQoXCImXCIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX3NvcnQ/cXVlcnlBcnIuc29ydCh0aGlzLl9zb3J0KTpxdWVyeUFyci5zb3J0KCksdGhpcy51cmw9dGhpcy51cmwuc3Vic3RyaW5nKDAsaW5kZXgpK1wiP1wiK3F1ZXJ5QXJyLmpvaW4oXCImXCIpfX19LFJlcXVlc3RCYXNlLnByb3RvdHlwZS5fYXBwZW5kUXVlcnlTdHJpbmc9ZnVuY3Rpb24oKXtjb25zb2xlLnRyYWNlKFwiVW5zdXBwb3J0ZWRcIil9LFJlcXVlc3RCYXNlLnByb3RvdHlwZS5fdGltZW91dEVycm9yPWZ1bmN0aW9uKHJlYXNvbix0aW1lb3V0LGVycm5vKXtpZighdGhpcy5fYWJvcnRlZCl7dmFyIGVycj1uZXcgRXJyb3IocmVhc29uK3RpbWVvdXQrXCJtcyBleGNlZWRlZFwiKTtlcnIudGltZW91dD10aW1lb3V0LGVyci5jb2RlPVwiRUNPTk5BQk9SVEVEXCIsZXJyLmVycm5vPWVycm5vLHRoaXMudGltZWRvdXQ9ITAsdGhpcy5hYm9ydCgpLHRoaXMuY2FsbGJhY2soZXJyKX19LFJlcXVlc3RCYXNlLnByb3RvdHlwZS5fc2V0VGltZW91dHM9ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzO3RoaXMuX3RpbWVvdXQmJiF0aGlzLl90aW1lciYmKHRoaXMuX3RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLl90aW1lb3V0RXJyb3IoXCJUaW1lb3V0IG9mIFwiLHNlbGYuX3RpbWVvdXQsXCJFVElNRVwiKX0sdGhpcy5fdGltZW91dCkpLHRoaXMuX3Jlc3BvbnNlVGltZW91dCYmIXRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyJiYodGhpcy5fcmVzcG9uc2VUaW1lb3V0VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYuX3RpbWVvdXRFcnJvcihcIlJlc3BvbnNlIHRpbWVvdXQgb2YgXCIsc2VsZi5fcmVzcG9uc2VUaW1lb3V0LFwiRVRJTUVET1VUXCIpfSx0aGlzLl9yZXNwb25zZVRpbWVvdXQpKX07dmFyIHR5cGU9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnNwbGl0KC8gKjsgKi8pLnNoaWZ0KCl9LHBhcmFtcz1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIuc3BsaXQoLyAqOyAqLykucmVkdWNlKGZ1bmN0aW9uKG9iaixzdHIpe3ZhciBwYXJ0cz1zdHIuc3BsaXQoLyAqPSAqLyksa2V5PXBhcnRzLnNoaWZ0KCksdmFsPXBhcnRzLnNoaWZ0KCk7cmV0dXJuIGtleSYmdmFsJiYob2JqW2tleV09dmFsKSxvYmp9LHt9KX0scGFyc2VMaW5rcz1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIuc3BsaXQoLyAqLCAqLykucmVkdWNlKGZ1bmN0aW9uKG9iaixzdHIpe3ZhciBwYXJ0cz1zdHIuc3BsaXQoLyAqOyAqLyksdXJsPXBhcnRzWzBdLnNsaWNlKDEsLTEpO3JldHVybiBvYmpbcGFydHNbMV0uc3BsaXQoLyAqPSAqLylbMV0uc2xpY2UoMSwtMSldPXVybCxvYmp9LHt9KX0sY2xlYW5IZWFkZXI9ZnVuY3Rpb24oaGVhZGVyLGNoYW5nZXNPcmlnaW4pe3JldHVybiBkZWxldGUgaGVhZGVyW1wiY29udGVudC10eXBlXCJdLGRlbGV0ZSBoZWFkZXJbXCJjb250ZW50LWxlbmd0aFwiXSxkZWxldGUgaGVhZGVyW1widHJhbnNmZXItZW5jb2RpbmdcIl0sZGVsZXRlIGhlYWRlci5ob3N0LGNoYW5nZXNPcmlnaW4mJihkZWxldGUgaGVhZGVyLmF1dGhvcml6YXRpb24sZGVsZXRlIGhlYWRlci5jb29raWUpLGhlYWRlcn0sdXRpbHMkMT17dHlwZTp0eXBlLHBhcmFtczpwYXJhbXMscGFyc2VMaW5rczpwYXJzZUxpbmtzLGNsZWFuSGVhZGVyOmNsZWFuSGVhZGVyfSxyZXNwb25zZUJhc2U9UmVzcG9uc2VCYXNlO2Z1bmN0aW9uIFJlc3BvbnNlQmFzZShvYmope2lmKG9iailyZXR1cm4gbWl4aW4kMShvYmopfWZ1bmN0aW9uIG1peGluJDEob2JqKXtmb3IodmFyIGtleSBpbiBSZXNwb25zZUJhc2UucHJvdG90eXBlKW9ialtrZXldPVJlc3BvbnNlQmFzZS5wcm90b3R5cGVba2V5XTtyZXR1cm4gb2JqfWZ1bmN0aW9uIEFnZW50KCl7dGhpcy5fZGVmYXVsdHM9W119UmVzcG9uc2VCYXNlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZmllbGQpe3JldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXX0sUmVzcG9uc2VCYXNlLnByb3RvdHlwZS5fc2V0SGVhZGVyUHJvcGVydGllcz1mdW5jdGlvbihoZWFkZXIpe3ZhciBjdD1oZWFkZXJbXCJjb250ZW50LXR5cGVcIl18fFwiXCI7dGhpcy50eXBlPXV0aWxzJDEudHlwZShjdCk7dmFyIHBhcmFtcz11dGlscyQxLnBhcmFtcyhjdCk7Zm9yKHZhciBrZXkgaW4gcGFyYW1zKXRoaXNba2V5XT1wYXJhbXNba2V5XTt0aGlzLmxpbmtzPXt9O3RyeXtoZWFkZXIubGluayYmKHRoaXMubGlua3M9dXRpbHMkMS5wYXJzZUxpbmtzKGhlYWRlci5saW5rKSl9Y2F0Y2goZXJyKXt9fSxSZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRTdGF0dXNQcm9wZXJ0aWVzPWZ1bmN0aW9uKHN0YXR1cyl7dmFyIHR5cGU9c3RhdHVzLzEwMHwwO3RoaXMuc3RhdHVzPXRoaXMuc3RhdHVzQ29kZT1zdGF0dXMsdGhpcy5zdGF0dXNUeXBlPXR5cGUsdGhpcy5pbmZvPTE9PXR5cGUsdGhpcy5vaz0yPT10eXBlLHRoaXMucmVkaXJlY3Q9Mz09dHlwZSx0aGlzLmNsaWVudEVycm9yPTQ9PXR5cGUsdGhpcy5zZXJ2ZXJFcnJvcj01PT10eXBlLHRoaXMuZXJyb3I9KDQ9PXR5cGV8fDU9PXR5cGUpJiZ0aGlzLnRvRXJyb3IoKSx0aGlzLmFjY2VwdGVkPTIwMj09c3RhdHVzLHRoaXMubm9Db250ZW50PTIwND09c3RhdHVzLHRoaXMuYmFkUmVxdWVzdD00MDA9PXN0YXR1cyx0aGlzLnVuYXV0aG9yaXplZD00MDE9PXN0YXR1cyx0aGlzLm5vdEFjY2VwdGFibGU9NDA2PT1zdGF0dXMsdGhpcy5mb3JiaWRkZW49NDAzPT1zdGF0dXMsdGhpcy5ub3RGb3VuZD00MDQ9PXN0YXR1c30sW1widXNlXCIsXCJvblwiLFwib25jZVwiLFwic2V0XCIsXCJxdWVyeVwiLFwidHlwZVwiLFwiYWNjZXB0XCIsXCJhdXRoXCIsXCJ3aXRoQ3JlZGVudGlhbHNcIixcInNvcnRRdWVyeVwiLFwicmV0cnlcIixcIm9rXCIsXCJyZWRpcmVjdHNcIixcInRpbWVvdXRcIixcImJ1ZmZlclwiLFwic2VyaWFsaXplXCIsXCJwYXJzZVwiLFwiY2FcIixcImtleVwiLFwicGZ4XCIsXCJjZXJ0XCJdLmZvckVhY2goZnVuY3Rpb24oZm4pe0FnZW50LnByb3RvdHlwZVtmbl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdHMucHVzaCh7Zm46Zm4sYXJndW1lbnRzOmFyZ3VtZW50c30pLHRoaXN9fSksQWdlbnQucHJvdG90eXBlLl9zZXREZWZhdWx0cz1mdW5jdGlvbihyZXEpe3RoaXMuX2RlZmF1bHRzLmZvckVhY2goZnVuY3Rpb24oZGVmKXtyZXFbZGVmLmZuXS5hcHBseShyZXEsZGVmLmFyZ3VtZW50cyl9KX07Zm9yKHZhciBhZ2VudEJhc2U9QWdlbnQsY2xpZW50PWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgcm9vdDtmdW5jdGlvbiBub29wKCl7fVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/cm9vdD13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/cm9vdD1zZWxmOihjb25zb2xlLndhcm4oXCJVc2luZyBicm93c2VyLW9ubHkgdmVyc2lvbiBvZiBzdXBlcmFnZW50IGluIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpLHJvb3Q9Y29tbW9uanNHbG9iYWwpO3ZhciByZXF1ZXN0PWV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obWV0aG9kLHVybCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdXJsP25ldyBleHBvcnRzLlJlcXVlc3QoXCJHRVRcIixtZXRob2QpLmVuZCh1cmwpOjE9PWFyZ3VtZW50cy5sZW5ndGg/bmV3IGV4cG9ydHMuUmVxdWVzdChcIkdFVFwiLG1ldGhvZCk6bmV3IGV4cG9ydHMuUmVxdWVzdChtZXRob2QsdXJsKX07ZXhwb3J0cy5SZXF1ZXN0PVJlcXVlc3QscmVxdWVzdC5nZXRYSFI9ZnVuY3Rpb24oKXtpZighKCFyb290LlhNTEh0dHBSZXF1ZXN0fHxyb290LmxvY2F0aW9uJiZcImZpbGU6XCI9PXJvb3QubG9jYXRpb24ucHJvdG9jb2wmJnJvb3QuQWN0aXZlWE9iamVjdCkpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUC42LjBcIil9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUC4zLjBcIil9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKX1jYXRjaChlKXt9dGhyb3cgRXJyb3IoXCJCcm93c2VyLW9ubHkgdmVyc2lvbiBvZiBzdXBlcmFnZW50IGNvdWxkIG5vdCBmaW5kIFhIUlwiKX07dmFyIHRyaW09XCJcIi50cmltP2Z1bmN0aW9uKHMpe3JldHVybiBzLnRyaW0oKX06ZnVuY3Rpb24ocyl7cmV0dXJuIHMucmVwbGFjZSgvKF5cXHMqfFxccyokKS9nLFwiXCIpfTtmdW5jdGlvbiBzZXJpYWxpemUob2JqKXtpZighaXNPYmplY3RfMShvYmopKXJldHVybiBvYmo7dmFyIHBhaXJzPVtdO2Zvcih2YXIga2V5IGluIG9iailwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycyxrZXksb2JqW2tleV0pO3JldHVybiBwYWlycy5qb2luKFwiJlwiKX1mdW5jdGlvbiBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycyxrZXksdmFsKXtpZihudWxsIT12YWwpaWYoQXJyYXkuaXNBcnJheSh2YWwpKXZhbC5mb3JFYWNoKGZ1bmN0aW9uKHYpe3B1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLGtleSx2KX0pO2Vsc2UgaWYoaXNPYmplY3RfMSh2YWwpKWZvcih2YXIgc3Via2V5IGluIHZhbClwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycyxrZXkrXCJbXCIrc3Via2V5K1wiXVwiLHZhbFtzdWJrZXldKTtlbHNlIHBhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpO2Vsc2UgbnVsbD09PXZhbCYmcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSl9ZnVuY3Rpb24gcGFyc2VTdHJpbmcoc3RyKXtmb3IodmFyIHBhaXIscG9zLG9iaj17fSxwYWlycz1zdHIuc3BsaXQoXCImXCIpLGk9MCxsZW49cGFpcnMubGVuZ3RoO2k8bGVuOysraSktMT09KHBvcz0ocGFpcj1wYWlyc1tpXSkuaW5kZXhPZihcIj1cIikpP29ialtkZWNvZGVVUklDb21wb25lbnQocGFpcildPVwiXCI6b2JqW2RlY29kZVVSSUNvbXBvbmVudChwYWlyLnNsaWNlKDAscG9zKSldPWRlY29kZVVSSUNvbXBvbmVudChwYWlyLnNsaWNlKHBvcysxKSk7cmV0dXJuIG9ian1mdW5jdGlvbiBpc0pTT04obWltZSl7cmV0dXJuL1tcXC8rXWpzb24oJHxbXi1cXHddKS8udGVzdChtaW1lKX1mdW5jdGlvbiBSZXNwb25zZShyZXEpe3RoaXMucmVxPXJlcSx0aGlzLnhocj10aGlzLnJlcS54aHIsdGhpcy50ZXh0PVwiSEVBRFwiIT10aGlzLnJlcS5tZXRob2QmJihcIlwiPT09dGhpcy54aHIucmVzcG9uc2VUeXBlfHxcInRleHRcIj09PXRoaXMueGhyLnJlc3BvbnNlVHlwZSl8fHZvaWQgMD09PXRoaXMueGhyLnJlc3BvbnNlVHlwZT90aGlzLnhoci5yZXNwb25zZVRleHQ6bnVsbCx0aGlzLnN0YXR1c1RleHQ9dGhpcy5yZXEueGhyLnN0YXR1c1RleHQ7dmFyIHN0YXR1cz10aGlzLnhoci5zdGF0dXM7MTIyMz09PXN0YXR1cyYmKHN0YXR1cz0yMDQpLHRoaXMuX3NldFN0YXR1c1Byb3BlcnRpZXMoc3RhdHVzKSx0aGlzLmhlYWRlcj10aGlzLmhlYWRlcnM9ZnVuY3Rpb24oc3RyKXtmb3IodmFyIGluZGV4LGxpbmUsZmllbGQsdmFsLGxpbmVzPXN0ci5zcGxpdCgvXFxyP1xcbi8pLGZpZWxkcz17fSxpPTAsbGVuPWxpbmVzLmxlbmd0aDtpPGxlbjsrK2kpLTEhPT0oaW5kZXg9KGxpbmU9bGluZXNbaV0pLmluZGV4T2YoXCI6XCIpKSYmKGZpZWxkPWxpbmUuc2xpY2UoMCxpbmRleCkudG9Mb3dlckNhc2UoKSx2YWw9dHJpbShsaW5lLnNsaWNlKGluZGV4KzEpKSxmaWVsZHNbZmllbGRdPXZhbCk7cmV0dXJuIGZpZWxkc30odGhpcy54aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLHRoaXMuaGVhZGVyW1wiY29udGVudC10eXBlXCJdPXRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiY29udGVudC10eXBlXCIpLHRoaXMuX3NldEhlYWRlclByb3BlcnRpZXModGhpcy5oZWFkZXIpLG51bGw9PT10aGlzLnRleHQmJnJlcS5fcmVzcG9uc2VUeXBlP3RoaXMuYm9keT10aGlzLnhoci5yZXNwb25zZTp0aGlzLmJvZHk9XCJIRUFEXCIhPXRoaXMucmVxLm1ldGhvZD90aGlzLl9wYXJzZUJvZHkodGhpcy50ZXh0P3RoaXMudGV4dDp0aGlzLnhoci5yZXNwb25zZSk6bnVsbH1mdW5jdGlvbiBSZXF1ZXN0KG1ldGhvZCx1cmwpe3ZhciBzZWxmPXRoaXM7dGhpcy5fcXVlcnk9dGhpcy5fcXVlcnl8fFtdLHRoaXMubWV0aG9kPW1ldGhvZCx0aGlzLnVybD11cmwsdGhpcy5oZWFkZXI9e30sdGhpcy5faGVhZGVyPXt9LHRoaXMub24oXCJlbmRcIixmdW5jdGlvbigpe3ZhciBuZXdfZXJyLGVycj1udWxsLHJlcz1udWxsO3RyeXtyZXM9bmV3IFJlc3BvbnNlKHNlbGYpfWNhdGNoKGUpe3JldHVybihlcnI9bmV3IEVycm9yKFwiUGFyc2VyIGlzIHVuYWJsZSB0byBwYXJzZSB0aGUgcmVzcG9uc2VcIikpLnBhcnNlPSEwLGVyci5vcmlnaW5hbD1lLHNlbGYueGhyPyhlcnIucmF3UmVzcG9uc2U9dm9pZCAwPT09c2VsZi54aHIucmVzcG9uc2VUeXBlP3NlbGYueGhyLnJlc3BvbnNlVGV4dDpzZWxmLnhoci5yZXNwb25zZSxlcnIuc3RhdHVzPXNlbGYueGhyLnN0YXR1cz9zZWxmLnhoci5zdGF0dXM6bnVsbCxlcnIuc3RhdHVzQ29kZT1lcnIuc3RhdHVzKTooZXJyLnJhd1Jlc3BvbnNlPW51bGwsZXJyLnN0YXR1cz1udWxsKSxzZWxmLmNhbGxiYWNrKGVycil9c2VsZi5lbWl0KFwicmVzcG9uc2VcIixyZXMpO3RyeXtzZWxmLl9pc1Jlc3BvbnNlT0socmVzKXx8KG5ld19lcnI9bmV3IEVycm9yKHJlcy5zdGF0dXNUZXh0fHxcIlVuc3VjY2Vzc2Z1bCBIVFRQIHJlc3BvbnNlXCIpKX1jYXRjaChjdXN0b21fZXJyKXtuZXdfZXJyPWN1c3RvbV9lcnJ9bmV3X2Vycj8obmV3X2Vyci5vcmlnaW5hbD1lcnIsbmV3X2Vyci5yZXNwb25zZT1yZXMsbmV3X2Vyci5zdGF0dXM9cmVzLnN0YXR1cyxzZWxmLmNhbGxiYWNrKG5ld19lcnIscmVzKSk6c2VsZi5jYWxsYmFjayhudWxsLHJlcyl9KX1mdW5jdGlvbiBkZWwodXJsLGRhdGEsZm4pe3ZhciByZXE9cmVxdWVzdChcIkRFTEVURVwiLHVybCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZGF0YSYmKGZuPWRhdGEsZGF0YT1udWxsKSxkYXRhJiZyZXEuc2VuZChkYXRhKSxmbiYmcmVxLmVuZChmbikscmVxfXJlcXVlc3Quc2VyaWFsaXplT2JqZWN0PXNlcmlhbGl6ZSxyZXF1ZXN0LnBhcnNlU3RyaW5nPXBhcnNlU3RyaW5nLHJlcXVlc3QudHlwZXM9e2h0bWw6XCJ0ZXh0L2h0bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvblwiLHhtbDpcInRleHQveG1sXCIsdXJsZW5jb2RlZDpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGZvcm06XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcImZvcm0tZGF0YVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LHJlcXVlc3Quc2VyaWFsaXplPXtcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOnNlcmlhbGl6ZSxcImFwcGxpY2F0aW9uL2pzb25cIjpKU09OLnN0cmluZ2lmeX0scmVxdWVzdC5wYXJzZT17XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjpwYXJzZVN0cmluZyxcImFwcGxpY2F0aW9uL2pzb25cIjpKU09OLnBhcnNlfSxyZXNwb25zZUJhc2UoUmVzcG9uc2UucHJvdG90eXBlKSxSZXNwb25zZS5wcm90b3R5cGUuX3BhcnNlQm9keT1mdW5jdGlvbihzdHIpe3ZhciBwYXJzZT1yZXF1ZXN0LnBhcnNlW3RoaXMudHlwZV07cmV0dXJuIHRoaXMucmVxLl9wYXJzZXI/dGhpcy5yZXEuX3BhcnNlcih0aGlzLHN0cik6KCFwYXJzZSYmaXNKU09OKHRoaXMudHlwZSkmJihwYXJzZT1yZXF1ZXN0LnBhcnNlW1wiYXBwbGljYXRpb24vanNvblwiXSkscGFyc2UmJnN0ciYmKHN0ci5sZW5ndGh8fHN0ciBpbnN0YW5jZW9mIE9iamVjdCk/cGFyc2Uoc3RyKTpudWxsKX0sUmVzcG9uc2UucHJvdG90eXBlLnRvRXJyb3I9ZnVuY3Rpb24oKXt2YXIgcmVxPXRoaXMucmVxLG1ldGhvZD1yZXEubWV0aG9kLHVybD1yZXEudXJsLG1zZz1cImNhbm5vdCBcIittZXRob2QrXCIgXCIrdXJsK1wiIChcIit0aGlzLnN0YXR1cytcIilcIixlcnI9bmV3IEVycm9yKG1zZyk7cmV0dXJuIGVyci5zdGF0dXM9dGhpcy5zdGF0dXMsZXJyLm1ldGhvZD1tZXRob2QsZXJyLnVybD11cmwsZXJyfSxyZXF1ZXN0LlJlc3BvbnNlPVJlc3BvbnNlLGNvbXBvbmVudEVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpLHJlcXVlc3RCYXNlKFJlcXVlc3QucHJvdG90eXBlKSxSZXF1ZXN0LnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKHR5cGUpe3JldHVybiB0aGlzLnNldChcIkNvbnRlbnQtVHlwZVwiLHJlcXVlc3QudHlwZXNbdHlwZV18fHR5cGUpLHRoaXN9LFJlcXVlc3QucHJvdG90eXBlLmFjY2VwdD1mdW5jdGlvbih0eXBlKXtyZXR1cm4gdGhpcy5zZXQoXCJBY2NlcHRcIixyZXF1ZXN0LnR5cGVzW3R5cGVdfHx0eXBlKSx0aGlzfSxSZXF1ZXN0LnByb3RvdHlwZS5hdXRoPWZ1bmN0aW9uKHVzZXIscGFzcyxvcHRpb25zKXsxPT09YXJndW1lbnRzLmxlbmd0aCYmKHBhc3M9XCJcIiksXCJvYmplY3RcIj09dHlwZW9mIHBhc3MmJm51bGwhPT1wYXNzJiYob3B0aW9ucz1wYXNzLHBhc3M9XCJcIiksb3B0aW9uc3x8KG9wdGlvbnM9e3R5cGU6XCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT9cImJhc2ljXCI6XCJhdXRvXCJ9KTtyZXR1cm4gdGhpcy5fYXV0aCh1c2VyLHBhc3Msb3B0aW9ucyxmdW5jdGlvbihzdHJpbmcpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2EpcmV0dXJuIGJ0b2Eoc3RyaW5nKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIGJhc2ljIGF1dGgsIGJ0b2EgaXMgbm90IGEgZnVuY3Rpb25cIil9KX0sUmVxdWVzdC5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24odmFsKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdmFsJiYodmFsPXNlcmlhbGl6ZSh2YWwpKSx2YWwmJnRoaXMuX3F1ZXJ5LnB1c2godmFsKSx0aGlzfSxSZXF1ZXN0LnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZmllbGQsZmlsZSxvcHRpb25zKXtpZihmaWxlKXtpZih0aGlzLl9kYXRhKXRocm93IEVycm9yKFwic3VwZXJhZ2VudCBjYW4ndCBtaXggLnNlbmQoKSBhbmQgLmF0dGFjaCgpXCIpO3RoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKGZpZWxkLGZpbGUsb3B0aW9uc3x8ZmlsZS5uYW1lKX1yZXR1cm4gdGhpc30sUmVxdWVzdC5wcm90b3R5cGUuX2dldEZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvcm1EYXRhfHwodGhpcy5fZm9ybURhdGE9bmV3IHJvb3QuRm9ybURhdGEpLHRoaXMuX2Zvcm1EYXRhfSxSZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjaz1mdW5jdGlvbihlcnIscmVzKXtpZih0aGlzLl9zaG91bGRSZXRyeShlcnIscmVzKSlyZXR1cm4gdGhpcy5fcmV0cnkoKTt2YXIgZm49dGhpcy5fY2FsbGJhY2s7dGhpcy5jbGVhclRpbWVvdXQoKSxlcnImJih0aGlzLl9tYXhSZXRyaWVzJiYoZXJyLnJldHJpZXM9dGhpcy5fcmV0cmllcy0xKSx0aGlzLmVtaXQoXCJlcnJvclwiLGVycikpLGZuKGVycixyZXMpfSxSZXF1ZXN0LnByb3RvdHlwZS5jcm9zc0RvbWFpbkVycm9yPWZ1bmN0aW9uKCl7dmFyIGVycj1uZXcgRXJyb3IoXCJSZXF1ZXN0IGhhcyBiZWVuIHRlcm1pbmF0ZWRcXG5Qb3NzaWJsZSBjYXVzZXM6IHRoZSBuZXR3b3JrIGlzIG9mZmxpbmUsIE9yaWdpbiBpcyBub3QgYWxsb3dlZCBieSBBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4sIHRoZSBwYWdlIGlzIGJlaW5nIHVubG9hZGVkLCBldGMuXCIpO2Vyci5jcm9zc0RvbWFpbj0hMCxlcnIuc3RhdHVzPXRoaXMuc3RhdHVzLGVyci5tZXRob2Q9dGhpcy5tZXRob2QsZXJyLnVybD10aGlzLnVybCx0aGlzLmNhbGxiYWNrKGVycil9LFJlcXVlc3QucHJvdG90eXBlLmJ1ZmZlcj1SZXF1ZXN0LnByb3RvdHlwZS5jYT1SZXF1ZXN0LnByb3RvdHlwZS5hZ2VudD1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYnJvd3NlciB2ZXJzaW9uIG9mIHN1cGVyYWdlbnRcIiksdGhpc30sUmVxdWVzdC5wcm90b3R5cGUucGlwZT1SZXF1ZXN0LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiU3RyZWFtaW5nIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYnJvd3NlciB2ZXJzaW9uIG9mIHN1cGVyYWdlbnRcIil9LFJlcXVlc3QucHJvdG90eXBlLl9pc0hvc3Q9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZcIm9iamVjdFwiPT10eXBlb2Ygb2JqJiYhQXJyYXkuaXNBcnJheShvYmopJiZcIltvYmplY3QgT2JqZWN0XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iail9LFJlcXVlc3QucHJvdG90eXBlLmVuZD1mdW5jdGlvbihmbil7cmV0dXJuIHRoaXMuX2VuZENhbGxlZCYmY29uc29sZS53YXJuKFwiV2FybmluZzogLmVuZCgpIHdhcyBjYWxsZWQgdHdpY2UuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbiBzdXBlcmFnZW50XCIpLHRoaXMuX2VuZENhbGxlZD0hMCx0aGlzLl9jYWxsYmFjaz1mbnx8bm9vcCx0aGlzLl9maW5hbGl6ZVF1ZXJ5U3RyaW5nKCksdGhpcy5fZW5kKCl9LFJlcXVlc3QucHJvdG90eXBlLl9lbmQ9ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzLHhocj10aGlzLnhocj1yZXF1ZXN0LmdldFhIUigpLGRhdGE9dGhpcy5fZm9ybURhdGF8fHRoaXMuX2RhdGE7dGhpcy5fc2V0VGltZW91dHMoKSx4aHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHJlYWR5U3RhdGU9eGhyLnJlYWR5U3RhdGU7aWYocmVhZHlTdGF0ZT49MiYmc2VsZi5fcmVzcG9uc2VUaW1lb3V0VGltZXImJmNsZWFyVGltZW91dChzZWxmLl9yZXNwb25zZVRpbWVvdXRUaW1lciksND09cmVhZHlTdGF0ZSl7dmFyIHN0YXR1czt0cnl7c3RhdHVzPXhoci5zdGF0dXN9Y2F0Y2goZSl7c3RhdHVzPTB9aWYoIXN0YXR1cyl7aWYoc2VsZi50aW1lZG91dHx8c2VsZi5fYWJvcnRlZClyZXR1cm47cmV0dXJuIHNlbGYuY3Jvc3NEb21haW5FcnJvcigpfXNlbGYuZW1pdChcImVuZFwiKX19O3ZhciBoYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihkaXJlY3Rpb24sZSl7ZS50b3RhbD4wJiYoZS5wZXJjZW50PWUubG9hZGVkL2UudG90YWwqMTAwKSxlLmRpcmVjdGlvbj1kaXJlY3Rpb24sc2VsZi5lbWl0KFwicHJvZ3Jlc3NcIixlKX07aWYodGhpcy5oYXNMaXN0ZW5lcnMoXCJwcm9ncmVzc1wiKSl0cnl7eGhyLm9ucHJvZ3Jlc3M9aGFuZGxlUHJvZ3Jlc3MuYmluZChudWxsLFwiZG93bmxvYWRcIikseGhyLnVwbG9hZCYmKHhoci51cGxvYWQub25wcm9ncmVzcz1oYW5kbGVQcm9ncmVzcy5iaW5kKG51bGwsXCJ1cGxvYWRcIikpfWNhdGNoKGUpe310cnl7dGhpcy51c2VybmFtZSYmdGhpcy5wYXNzd29yZD94aHIub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVybCwhMCx0aGlzLnVzZXJuYW1lLHRoaXMucGFzc3dvcmQpOnhoci5vcGVuKHRoaXMubWV0aG9kLHRoaXMudXJsLCEwKX1jYXRjaChlcnIpe3JldHVybiB0aGlzLmNhbGxiYWNrKGVycil9aWYodGhpcy5fd2l0aENyZWRlbnRpYWxzJiYoeGhyLndpdGhDcmVkZW50aWFscz0hMCksIXRoaXMuX2Zvcm1EYXRhJiZcIkdFVFwiIT10aGlzLm1ldGhvZCYmXCJIRUFEXCIhPXRoaXMubWV0aG9kJiZcInN0cmluZ1wiIT10eXBlb2YgZGF0YSYmIXRoaXMuX2lzSG9zdChkYXRhKSl7dmFyIGNvbnRlbnRUeXBlPXRoaXMuX2hlYWRlcltcImNvbnRlbnQtdHlwZVwiXSxzZXJpYWxpemU9dGhpcy5fc2VyaWFsaXplcnx8cmVxdWVzdC5zZXJpYWxpemVbY29udGVudFR5cGU/Y29udGVudFR5cGUuc3BsaXQoXCI7XCIpWzBdOlwiXCJdOyFzZXJpYWxpemUmJmlzSlNPTihjb250ZW50VHlwZSkmJihzZXJpYWxpemU9cmVxdWVzdC5zZXJpYWxpemVbXCJhcHBsaWNhdGlvbi9qc29uXCJdKSxzZXJpYWxpemUmJihkYXRhPXNlcmlhbGl6ZShkYXRhKSl9Zm9yKHZhciBmaWVsZCBpbiB0aGlzLmhlYWRlciludWxsIT10aGlzLmhlYWRlcltmaWVsZF0mJnRoaXMuaGVhZGVyLmhhc093blByb3BlcnR5KGZpZWxkKSYmeGhyLnNldFJlcXVlc3RIZWFkZXIoZmllbGQsdGhpcy5oZWFkZXJbZmllbGRdKTtyZXR1cm4gdGhpcy5fcmVzcG9uc2VUeXBlJiYoeGhyLnJlc3BvbnNlVHlwZT10aGlzLl9yZXNwb25zZVR5cGUpLHRoaXMuZW1pdChcInJlcXVlc3RcIix0aGlzKSx4aHIuc2VuZCh2b2lkIDAhPT1kYXRhP2RhdGE6bnVsbCksdGhpc30scmVxdWVzdC5hZ2VudD1mdW5jdGlvbigpe3JldHVybiBuZXcgYWdlbnRCYXNlfSxbXCJHRVRcIixcIlBPU1RcIixcIk9QVElPTlNcIixcIlBBVENIXCIsXCJQVVRcIixcIkRFTEVURVwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCl7YWdlbnRCYXNlLnByb3RvdHlwZVttZXRob2QudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24odXJsLGZuKXt2YXIgcmVxPW5ldyByZXF1ZXN0LlJlcXVlc3QobWV0aG9kLHVybCk7cmV0dXJuIHRoaXMuX3NldERlZmF1bHRzKHJlcSksZm4mJnJlcS5lbmQoZm4pLHJlcX19KSxhZ2VudEJhc2UucHJvdG90eXBlLmRlbD1hZ2VudEJhc2UucHJvdG90eXBlLmRlbGV0ZSxyZXF1ZXN0LmdldD1mdW5jdGlvbih1cmwsZGF0YSxmbil7dmFyIHJlcT1yZXF1ZXN0KFwiR0VUXCIsdXJsKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBkYXRhJiYoZm49ZGF0YSxkYXRhPW51bGwpLGRhdGEmJnJlcS5xdWVyeShkYXRhKSxmbiYmcmVxLmVuZChmbikscmVxfSxyZXF1ZXN0LmhlYWQ9ZnVuY3Rpb24odXJsLGRhdGEsZm4pe3ZhciByZXE9cmVxdWVzdChcIkhFQURcIix1cmwpO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGRhdGEmJihmbj1kYXRhLGRhdGE9bnVsbCksZGF0YSYmcmVxLnF1ZXJ5KGRhdGEpLGZuJiZyZXEuZW5kKGZuKSxyZXF9LHJlcXVlc3Qub3B0aW9ucz1mdW5jdGlvbih1cmwsZGF0YSxmbil7dmFyIHJlcT1yZXF1ZXN0KFwiT1BUSU9OU1wiLHVybCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZGF0YSYmKGZuPWRhdGEsZGF0YT1udWxsKSxkYXRhJiZyZXEuc2VuZChkYXRhKSxmbiYmcmVxLmVuZChmbikscmVxfSxyZXF1ZXN0LmRlbD1kZWwscmVxdWVzdC5kZWxldGU9ZGVsLHJlcXVlc3QucGF0Y2g9ZnVuY3Rpb24odXJsLGRhdGEsZm4pe3ZhciByZXE9cmVxdWVzdChcIlBBVENIXCIsdXJsKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBkYXRhJiYoZm49ZGF0YSxkYXRhPW51bGwpLGRhdGEmJnJlcS5zZW5kKGRhdGEpLGZuJiZyZXEuZW5kKGZuKSxyZXF9LHJlcXVlc3QucG9zdD1mdW5jdGlvbih1cmwsZGF0YSxmbil7dmFyIHJlcT1yZXF1ZXN0KFwiUE9TVFwiLHVybCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZGF0YSYmKGZuPWRhdGEsZGF0YT1udWxsKSxkYXRhJiZyZXEuc2VuZChkYXRhKSxmbiYmcmVxLmVuZChmbikscmVxfSxyZXF1ZXN0LnB1dD1mdW5jdGlvbih1cmwsZGF0YSxmbil7dmFyIHJlcT1yZXF1ZXN0KFwiUFVUXCIsdXJsKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBkYXRhJiYoZm49ZGF0YSxkYXRhPW51bGwpLGRhdGEmJnJlcS5zZW5kKGRhdGEpLGZuJiZyZXEuZW5kKGZuKSxyZXF9fSksY2xpZW50XzE9Y2xpZW50LlJlcXVlc3QsYnl0ZUxlbmd0aF8xPWJ5dGVMZW5ndGgsdG9CeXRlQXJyYXlfMT10b0J5dGVBcnJheSxmcm9tQnl0ZUFycmF5XzE9ZnJvbUJ5dGVBcnJheSxsb29rdXA9W10scmV2TG9va3VwPVtdLEFycj1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGNvZGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsaT0wLGxlbj1jb2RlLmxlbmd0aDtpPGxlbjsrK2kpbG9va3VwW2ldPWNvZGVbaV0scmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV09aTtmdW5jdGlvbiBwbGFjZUhvbGRlcnNDb3VudChiNjQpe3ZhciBsZW49YjY0Lmxlbmd0aDtpZihsZW4lND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7cmV0dXJuXCI9XCI9PT1iNjRbbGVuLTJdPzI6XCI9XCI9PT1iNjRbbGVuLTFdPzE6MH1mdW5jdGlvbiBieXRlTGVuZ3RoKGI2NCl7cmV0dXJuIDMqYjY0Lmxlbmd0aC80LXBsYWNlSG9sZGVyc0NvdW50KGI2NCl9ZnVuY3Rpb24gdG9CeXRlQXJyYXkoYjY0KXt2YXIgaSxqLGwsdG1wLHBsYWNlSG9sZGVycyxhcnIsbGVuPWI2NC5sZW5ndGg7cGxhY2VIb2xkZXJzPXBsYWNlSG9sZGVyc0NvdW50KGI2NCksYXJyPW5ldyBBcnIoMypsZW4vNC1wbGFjZUhvbGRlcnMpLGw9cGxhY2VIb2xkZXJzPjA/bGVuLTQ6bGVuO3ZhciBMPTA7Zm9yKGk9MCxqPTA7aTxsO2krPTQsais9Myl0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MTh8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPDwxMnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsyKV08PDZ8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMyldLGFycltMKytdPXRtcD4+MTYmMjU1LGFycltMKytdPXRtcD4+OCYyNTUsYXJyW0wrK109MjU1JnRtcDtyZXR1cm4gMj09PXBsYWNlSG9sZGVycz8odG1wPXJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV08PDJ8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPj40LGFycltMKytdPTI1NSZ0bXApOjE9PT1wbGFjZUhvbGRlcnMmJih0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MTB8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPDw0fHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKzIpXT4+MixhcnJbTCsrXT10bXA+PjgmMjU1LGFycltMKytdPTI1NSZ0bXApLGFycn1mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQobnVtKXtyZXR1cm4gbG9va3VwW251bT4+MTgmNjNdK2xvb2t1cFtudW0+PjEyJjYzXStsb29rdXBbbnVtPj42JjYzXStsb29rdXBbNjMmbnVtXX1mdW5jdGlvbiBlbmNvZGVDaHVuayh1aW50OCxzdGFydCxlbmQpe2Zvcih2YXIgdG1wLG91dHB1dD1bXSxpPXN0YXJ0O2k8ZW5kO2krPTMpdG1wPSh1aW50OFtpXTw8MTYpKyh1aW50OFtpKzFdPDw4KSt1aW50OFtpKzJdLG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKTtyZXR1cm4gb3V0cHV0LmpvaW4oXCJcIil9ZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSh1aW50OCl7Zm9yKHZhciB0bXAsbGVuPXVpbnQ4Lmxlbmd0aCxleHRyYUJ5dGVzPWxlbiUzLG91dHB1dD1cIlwiLHBhcnRzPVtdLGk9MCxsZW4yPWxlbi1leHRyYUJ5dGVzO2k8bGVuMjtpKz0xNjM4MylwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LGksaSsxNjM4Mz5sZW4yP2xlbjI6aSsxNjM4MykpO3JldHVybiAxPT09ZXh0cmFCeXRlcz8odG1wPXVpbnQ4W2xlbi0xXSxvdXRwdXQrPWxvb2t1cFt0bXA+PjJdLG91dHB1dCs9bG9va3VwW3RtcDw8NCY2M10sb3V0cHV0Kz1cIj09XCIpOjI9PT1leHRyYUJ5dGVzJiYodG1wPSh1aW50OFtsZW4tMl08PDgpK3VpbnQ4W2xlbi0xXSxvdXRwdXQrPWxvb2t1cFt0bXA+PjEwXSxvdXRwdXQrPWxvb2t1cFt0bXA+PjQmNjNdLG91dHB1dCs9bG9va3VwW3RtcDw8MiY2M10sb3V0cHV0Kz1cIj1cIikscGFydHMucHVzaChvdXRwdXQpLHBhcnRzLmpvaW4oXCJcIil9cmV2TG9va3VwW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyLHJldkxvb2t1cFtcIl9cIi5jaGFyQ29kZUF0KDApXT02Mzt2YXIgYmFzZTY0SnM9e2J5dGVMZW5ndGg6Ynl0ZUxlbmd0aF8xLHRvQnl0ZUFycmF5OnRvQnl0ZUFycmF5XzEsZnJvbUJ5dGVBcnJheTpmcm9tQnl0ZUFycmF5XzF9O2Z1bmN0aW9uIHBhZGRpbmcoc3RyKXt2YXIgbW9kPXN0ci5sZW5ndGglNDtyZXR1cm4gMD09PW1vZD9zdHI6c3RyK25ldyBBcnJheSgxKyg0LW1vZCkpLmpvaW4oXCI9XCIpfWZ1bmN0aW9uIHN0cmluZ1RvQnl0ZUFycmF5KHN0cil7Zm9yKHZhciBhcnI9bmV3IEFycmF5KHN0ci5sZW5ndGgpLGE9MDthPHN0ci5sZW5ndGg7YSsrKWFyclthXT1zdHIuY2hhckNvZGVBdChhKTtyZXR1cm4gYXJyfWZ1bmN0aW9uIGJ5dGVBcnJheVRvU3RyaW5nKGFycmF5KXtmb3IodmFyIHJlc3VsdD1cIlwiLGk9MDtpPGFycmF5Lmxlbmd0aDtpKyspcmVzdWx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGFycmF5W2ldKTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGVuY29kZShzdHIpe3JldHVybiBiYXNlNjRKcy5mcm9tQnl0ZUFycmF5KHN0cmluZ1RvQnl0ZUFycmF5KHN0cikpLnJlcGxhY2UoL1xcKy9nLFwiLVwiKS5yZXBsYWNlKC9cXC8vZyxcIl9cIil9ZnVuY3Rpb24gZGVjb2RlKHN0cil7cmV0dXJuIHN0cj1wYWRkaW5nKHN0cikucmVwbGFjZSgvLS9nLFwiK1wiKS5yZXBsYWNlKC9fL2csXCIvXCIpLGJ5dGVBcnJheVRvU3RyaW5nKGJhc2U2NEpzLnRvQnl0ZUFycmF5KHN0cikpfXZhciBiYXNlNjRVcmw9e2VuY29kZTplbmNvZGUsZGVjb2RlOmRlY29kZX0sdmVyc2lvbj17cmF3OlwiOS4xMC40XCJ9LHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gYXR0cmlidXRlKG8sYXR0cix0eXBlLHRleHQpe2lmKHR5cGU9XCJhcnJheVwiPT09dHlwZT9cIm9iamVjdFwiOnR5cGUsbyYmdHlwZW9mIG9bYXR0cl0hPT10eXBlKXRocm93IG5ldyBFcnJvcih0ZXh0KX1mdW5jdGlvbiB2YXJpYWJsZShvLHR5cGUsdGV4dCl7aWYodHlwZW9mIG8hPT10eXBlKXRocm93IG5ldyBFcnJvcih0ZXh0KX1mdW5jdGlvbiB2YWx1ZShvLHZhbHVlcyx0ZXh0KXtpZigtMT09PXZhbHVlcy5pbmRleE9mKG8pKXRocm93IG5ldyBFcnJvcih0ZXh0KX1mdW5jdGlvbiBjaGVjayhvLGNvbmZpZyxhdHRyaWJ1dGVzKXtpZihjb25maWcub3B0aW9uYWwmJiFvfHx2YXJpYWJsZShvLGNvbmZpZy50eXBlLGNvbmZpZy5tZXNzYWdlKSxcIm9iamVjdFwiPT09Y29uZmlnLnR5cGUmJmF0dHJpYnV0ZXMpZm9yKHZhciBrZXlzPU9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLGluZGV4PTA7aW5kZXg8a2V5cy5sZW5ndGg7aW5kZXgrKyl7dmFyIGE9a2V5c1tpbmRleF07YXR0cmlidXRlc1thXS5vcHRpb25hbCYmIW9bYV18fGF0dHJpYnV0ZXNbYV0uY29uZGl0aW9uJiYhYXR0cmlidXRlc1thXS5jb25kaXRpb24obyl8fChhdHRyaWJ1dGUobyxhLGF0dHJpYnV0ZXNbYV0udHlwZSxhdHRyaWJ1dGVzW2FdLm1lc3NhZ2UpLGF0dHJpYnV0ZXNbYV0udmFsdWVzJiZ2YWx1ZShvW2FdLGF0dHJpYnV0ZXNbYV0udmFsdWVzLGF0dHJpYnV0ZXNbYV0udmFsdWVfbWVzc2FnZSkpfX1mdW5jdGlvbiBpc0FycmF5KGFycmF5KXtyZXR1cm4gdGhpcy5zdXBwb3J0c0lzQXJyYXkoKT9BcnJheS5pc0FycmF5KGFycmF5KTpcIltvYmplY3QgQXJyYXldXCI9PT10b1N0cmluZy5jYWxsKGFycmF5KX1mdW5jdGlvbiBzdXBwb3J0c0lzQXJyYXkoKXtyZXR1cm4gbnVsbCE9QXJyYXkuaXNBcnJheX12YXIgYXNzZXJ0PXtjaGVjazpjaGVjayxhdHRyaWJ1dGU6YXR0cmlidXRlLHZhcmlhYmxlOnZhcmlhYmxlLHZhbHVlOnZhbHVlLGlzQXJyYXk6aXNBcnJheSxzdXBwb3J0c0lzQXJyYXk6c3VwcG9ydHNJc0FycmF5fTtmdW5jdGlvbiBnZXQoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduOm9iamVjdEFzc2lnblBvbHlmaWxsfWZ1bmN0aW9uIG9iamVjdEFzc2lnblBvbHlmaWxsKHRhcmdldCl7aWYobnVsbD09dGFyZ2V0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBmaXJzdCBhcmd1bWVudCB0byBvYmplY3RcIik7Zm9yKHZhciB0bz1PYmplY3QodGFyZ2V0KSxpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIG5leHRTb3VyY2U9YXJndW1lbnRzW2ldO2lmKG51bGwhPW5leHRTb3VyY2UpZm9yKHZhciBrZXlzQXJyYXk9T2JqZWN0LmtleXMoT2JqZWN0KG5leHRTb3VyY2UpKSxuZXh0SW5kZXg9MCxsZW49a2V5c0FycmF5Lmxlbmd0aDtuZXh0SW5kZXg8bGVuO25leHRJbmRleCsrKXt2YXIgbmV4dEtleT1rZXlzQXJyYXlbbmV4dEluZGV4XSxkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSxuZXh0S2V5KTt2b2lkIDAhPT1kZXNjJiZkZXNjLmVudW1lcmFibGUmJih0b1tuZXh0S2V5XT1uZXh0U291cmNlW25leHRLZXldKX19cmV0dXJuIHRvfXZhciBvYmplY3RBc3NpZ249e2dldDpnZXQsb2JqZWN0QXNzaWduUG9seWZpbGw6b2JqZWN0QXNzaWduUG9seWZpbGx9O2Z1bmN0aW9uIHBpY2sob2JqZWN0LGtleXMpe3JldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbihwcmV2LGtleSl7cmV0dXJuIG9iamVjdFtrZXldJiYocHJldltrZXldPW9iamVjdFtrZXldKSxwcmV2fSx7fSl9ZnVuY3Rpb24gZ2V0S2V5c05vdEluKG9iaixhbGxvd2VkS2V5cyl7dmFyIG5vdEFsbG93ZWQ9W107Zm9yKHZhciBrZXkgaW4gb2JqKS0xPT09YWxsb3dlZEtleXMuaW5kZXhPZihrZXkpJiZub3RBbGxvd2VkLnB1c2goa2V5KTtyZXR1cm4gbm90QWxsb3dlZH1mdW5jdGlvbiBvYmplY3RWYWx1ZXMob2JqKXt2YXIgdmFsdWVzPVtdO2Zvcih2YXIga2V5IGluIG9iail2YWx1ZXMucHVzaChvYmpba2V5XSk7cmV0dXJuIHZhbHVlc31mdW5jdGlvbiBleHRlbmQoKXt2YXIgcGFyYW1zPW9iamVjdFZhbHVlcyhhcmd1bWVudHMpO3JldHVybiBwYXJhbXMudW5zaGlmdCh7fSksb2JqZWN0QXNzaWduLmdldCgpLmFwcGx5KHZvaWQgMCxwYXJhbXMpfWZ1bmN0aW9uIG1lcmdlKG9iamVjdCxrZXlzKXtyZXR1cm57YmFzZTprZXlzP3BpY2sob2JqZWN0LGtleXMpOm9iamVjdCx3aXRoOmZ1bmN0aW9uKG9iamVjdDIsa2V5czIpe3JldHVybiBvYmplY3QyPWtleXMyP3BpY2sob2JqZWN0MixrZXlzMik6b2JqZWN0MixleHRlbmQodGhpcy5iYXNlLG9iamVjdDIpfX19ZnVuY3Rpb24gYmxhY2tsaXN0KG9iamVjdCxibGFja2xpc3RlZEtleXMpe3JldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLnJlZHVjZShmdW5jdGlvbihwLGtleSl7cmV0dXJuLTE9PT1ibGFja2xpc3RlZEtleXMuaW5kZXhPZihrZXkpJiYocFtrZXldPW9iamVjdFtrZXldKSxwfSx7fSl9ZnVuY3Rpb24gY2FtZWxUb1NuYWtlKHN0cil7Zm9yKHZhciBjb2RlLG5ld0tleT1cIlwiLGluZGV4PTAsd2FzUHJldk51bWJlcj0hMCx3YXNQcmV2VXBwZXJjYXNlPSEwO2luZGV4PHN0ci5sZW5ndGg7KWNvZGU9c3RyLmNoYXJDb2RlQXQoaW5kZXgpLCF3YXNQcmV2VXBwZXJjYXNlJiZjb2RlPj02NSYmY29kZTw9OTB8fCF3YXNQcmV2TnVtYmVyJiZjb2RlPj00OCYmY29kZTw9NTc/KG5ld0tleSs9XCJfXCIsbmV3S2V5Kz1zdHJbaW5kZXhdLnRvTG93ZXJDYXNlKCkpOm5ld0tleSs9c3RyW2luZGV4XS50b0xvd2VyQ2FzZSgpLHdhc1ByZXZOdW1iZXI9Y29kZT49NDgmJmNvZGU8PTU3LHdhc1ByZXZVcHBlcmNhc2U9Y29kZT49NjUmJmNvZGU8PTkwLGluZGV4Kys7cmV0dXJuIG5ld0tleX1mdW5jdGlvbiBzbmFrZVRvQ2FtZWwoc3RyKXt2YXIgcGFydHM9c3RyLnNwbGl0KFwiX1wiKTtyZXR1cm4gcGFydHMucmVkdWNlKGZ1bmN0aW9uKHAsYyl7cmV0dXJuIHArYy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStjLnNsaWNlKDEpfSxwYXJ0cy5zaGlmdCgpKX1mdW5jdGlvbiB0b1NuYWtlQ2FzZShvYmplY3QsZXhjZXB0aW9ucyl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIG9iamVjdHx8YXNzZXJ0LmlzQXJyYXkob2JqZWN0KXx8bnVsbD09PW9iamVjdD9vYmplY3Q6KGV4Y2VwdGlvbnM9ZXhjZXB0aW9uc3x8W10sT2JqZWN0LmtleXMob2JqZWN0KS5yZWR1Y2UoZnVuY3Rpb24ocCxrZXkpe3JldHVybiBwWy0xPT09ZXhjZXB0aW9ucy5pbmRleE9mKGtleSk/Y2FtZWxUb1NuYWtlKGtleSk6a2V5XT10b1NuYWtlQ2FzZShvYmplY3Rba2V5XSkscH0se30pKX1mdW5jdGlvbiB0b0NhbWVsQ2FzZShvYmplY3QsZXhjZXB0aW9ucyxvcHRpb25zKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2Ygb2JqZWN0fHxhc3NlcnQuaXNBcnJheShvYmplY3QpfHxudWxsPT09b2JqZWN0P29iamVjdDooZXhjZXB0aW9ucz1leGNlcHRpb25zfHxbXSxvcHRpb25zPW9wdGlvbnN8fHt9LE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKGZ1bmN0aW9uKHAsa2V5KXt2YXIgbmV3S2V5PS0xPT09ZXhjZXB0aW9ucy5pbmRleE9mKGtleSk/c25ha2VUb0NhbWVsKGtleSk6a2V5O3JldHVybiBwW25ld0tleV09dG9DYW1lbENhc2Uob2JqZWN0W25ld0tleV18fG9iamVjdFtrZXldLFtdLG9wdGlvbnMpLG9wdGlvbnMua2VlcE9yaWdpbmFsJiYocFtrZXldPXRvQ2FtZWxDYXNlKG9iamVjdFtrZXldLFtdLG9wdGlvbnMpKSxwfSx7fSkpfWZ1bmN0aW9uIGdldExvY2F0aW9uRnJvbVVybChocmVmKXt2YXIgbWF0Y2g9aHJlZi5tYXRjaCgvXihodHRwcz86fGZpbGU6KVxcL1xcLygoW146XFwvPyNdKikoPzo6KFswLTldKykpPykoW1xcL117MCwxfVtePyNdKikoXFw/W14jXSp8KSgjLip8KSQvKTtyZXR1cm4gbWF0Y2gmJntocmVmOmhyZWYscHJvdG9jb2w6bWF0Y2hbMV0saG9zdDptYXRjaFsyXSxob3N0bmFtZTptYXRjaFszXSxwb3J0Om1hdGNoWzRdLHBhdGhuYW1lOm1hdGNoWzVdLHNlYXJjaDptYXRjaFs2XSxoYXNoOm1hdGNoWzddfX1mdW5jdGlvbiBnZXRPcmlnaW5Gcm9tVXJsKHVybCl7aWYodXJsKXt2YXIgcGFyc2VkPWdldExvY2F0aW9uRnJvbVVybCh1cmwpLG9yaWdpbj1wYXJzZWQucHJvdG9jb2wrXCIvL1wiK3BhcnNlZC5ob3N0bmFtZTtyZXR1cm4gcGFyc2VkLnBvcnQmJihvcmlnaW4rPVwiOlwiK3BhcnNlZC5wb3J0KSxvcmlnaW59fWZ1bmN0aW9uIHRyaW0ob3B0aW9ucyxrZXkpe3ZhciB0cmltbWVkPWV4dGVuZChvcHRpb25zKTtyZXR1cm4gb3B0aW9uc1trZXldJiYodHJpbW1lZFtrZXldPW9wdGlvbnNba2V5XS50cmltKCkpLHRyaW1tZWR9ZnVuY3Rpb24gdHJpbU11bHRpcGxlKG9wdGlvbnMsa2V5cyl7cmV0dXJuIGtleXMucmVkdWNlKHRyaW0sb3B0aW9ucyl9ZnVuY3Rpb24gdHJpbVVzZXJEZXRhaWxzKG9wdGlvbnMpe3JldHVybiB0cmltTXVsdGlwbGUob3B0aW9ucyxbXCJ1c2VybmFtZVwiLFwiZW1haWxcIixcInBob25lTnVtYmVyXCJdKX12YXIgb2JqZWN0SGVscGVyPXt0b1NuYWtlQ2FzZTp0b1NuYWtlQ2FzZSx0b0NhbWVsQ2FzZTp0b0NhbWVsQ2FzZSxibGFja2xpc3Q6YmxhY2tsaXN0LG1lcmdlOm1lcmdlLHBpY2s6cGljayxnZXRLZXlzTm90SW46Z2V0S2V5c05vdEluLGV4dGVuZDpleHRlbmQsZ2V0T3JpZ2luRnJvbVVybDpnZXRPcmlnaW5Gcm9tVXJsLGdldExvY2F0aW9uRnJvbVVybDpnZXRMb2NhdGlvbkZyb21VcmwsdHJpbVVzZXJEZXRhaWxzOnRyaW1Vc2VyRGV0YWlsc307ZnVuY3Rpb24gUmVxdWVzdFdyYXBwZXIocmVxKXt0aGlzLnJlcXVlc3Q9cmVxLHRoaXMubWV0aG9kPXJlcS5tZXRob2QsdGhpcy51cmw9cmVxLnVybCx0aGlzLmJvZHk9cmVxLl9kYXRhLHRoaXMuaGVhZGVycz1yZXEuX2hlYWRlcn1mdW5jdGlvbiBSZXF1ZXN0T2JqKHJlcSl7dGhpcy5yZXF1ZXN0PXJlcX1mdW5jdGlvbiBSZXF1ZXN0QnVpbGRlcihvcHRpb25zKXt0aGlzLl9zZW5kVGVsZW1ldHJ5PSExIT09b3B0aW9ucy5fc2VuZFRlbGVtZXRyeXx8b3B0aW9ucy5fc2VuZFRlbGVtZXRyeSx0aGlzLl90ZWxlbWV0cnlJbmZvPW9wdGlvbnMuX3RlbGVtZXRyeUluZm98fG51bGwsdGhpcy5fdGltZXNUb1JldHJ5RmFpbGVkUmVxdWVzdHM9b3B0aW9ucy5fdGltZXNUb1JldHJ5RmFpbGVkUmVxdWVzdHMsdGhpcy5oZWFkZXJzPW9wdGlvbnMuaGVhZGVyc3x8e30sdGhpcy5fdW5pdmVyc2FsTG9naW5QYWdlPW9wdGlvbnMudW5pdmVyc2FsTG9naW5QYWdlfWZ1bmN0aW9uIHJlZGlyZWN0KHVybCl7Z2V0V2luZG93KCkubG9jYXRpb249dXJsfWZ1bmN0aW9uIGdldERvY3VtZW50KCl7cmV0dXJuIGdldFdpbmRvdygpLmRvY3VtZW50fWZ1bmN0aW9uIGdldFdpbmRvdygpe3JldHVybiB3aW5kb3d9ZnVuY3Rpb24gZ2V0T3JpZ2luKCl7dmFyIGxvY2F0aW9uPWdldFdpbmRvdygpLmxvY2F0aW9uLG9yaWdpbj1sb2NhdGlvbi5vcmlnaW47cmV0dXJuIG9yaWdpbnx8KG9yaWdpbj1vYmplY3RIZWxwZXIuZ2V0T3JpZ2luRnJvbVVybChsb2NhdGlvbi5ocmVmKSksb3JpZ2lufVJlcXVlc3RXcmFwcGVyLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMucmVxdWVzdC5hYm9ydCgpfSxSZXF1ZXN0V3JhcHBlci5wcm90b3R5cGUuZ2V0TWV0aG9kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWV0aG9kfSxSZXF1ZXN0V3JhcHBlci5wcm90b3R5cGUuZ2V0Qm9keT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHl9LFJlcXVlc3RXcmFwcGVyLnByb3RvdHlwZS5nZXRVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmx9LFJlcXVlc3RXcmFwcGVyLnByb3RvdHlwZS5nZXRIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhZGVyc30sUmVxdWVzdE9iai5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIHRoaXMucmVxdWVzdD10aGlzLnJlcXVlc3Quc2V0KGtleSx2YWx1ZSksdGhpc30sUmVxdWVzdE9iai5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihib2R5KXtyZXR1cm4gdGhpcy5yZXF1ZXN0PXRoaXMucmVxdWVzdC5zZW5kKG9iamVjdEhlbHBlci50cmltVXNlckRldGFpbHMoYm9keSkpLHRoaXN9LFJlcXVlc3RPYmoucHJvdG90eXBlLndpdGhDcmVkZW50aWFscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3Q9dGhpcy5yZXF1ZXN0LndpdGhDcmVkZW50aWFscygpLHRoaXN9LFJlcXVlc3RPYmoucHJvdG90eXBlLmVuZD1mdW5jdGlvbihjYil7cmV0dXJuIHRoaXMucmVxdWVzdD10aGlzLnJlcXVlc3QuZW5kKGNiKSxuZXcgUmVxdWVzdFdyYXBwZXIodGhpcy5yZXF1ZXN0KX0sUmVxdWVzdEJ1aWxkZXIucHJvdG90eXBlLnNldENvbW1vbkNvbmZpZ3VyYXRpb249ZnVuY3Rpb24ob25nb2luZ1JlcXVlc3Qsb3B0aW9ucyl7aWYob3B0aW9ucz1vcHRpb25zfHx7fSx0aGlzLl90aW1lc1RvUmV0cnlGYWlsZWRSZXF1ZXN0cz4wJiYob25nb2luZ1JlcXVlc3Q9b25nb2luZ1JlcXVlc3QucmV0cnkodGhpcy5fdGltZXNUb1JldHJ5RmFpbGVkUmVxdWVzdHMpKSxvcHRpb25zLm5vSGVhZGVycylyZXR1cm4gb25nb2luZ1JlcXVlc3Q7dmFyIGhlYWRlcnM9dGhpcy5oZWFkZXJzO29uZ29pbmdSZXF1ZXN0PW9uZ29pbmdSZXF1ZXN0LnNldChcIkNvbnRlbnQtVHlwZVwiLFwiYXBwbGljYXRpb24vanNvblwiKTtmb3IodmFyIGtleXM9T2JqZWN0LmtleXModGhpcy5oZWFkZXJzKSxhPTA7YTxrZXlzLmxlbmd0aDthKyspb25nb2luZ1JlcXVlc3Q9b25nb2luZ1JlcXVlc3Quc2V0KGtleXNbYV0saGVhZGVyc1trZXlzW2FdXSk7cmV0dXJuIHRoaXMuX3NlbmRUZWxlbWV0cnkmJihvbmdvaW5nUmVxdWVzdD1vbmdvaW5nUmVxdWVzdC5zZXQoXCJBdXRoMC1DbGllbnRcIix0aGlzLmdldFRlbGVtZXRyeURhdGEoKSkpLG9uZ29pbmdSZXF1ZXN0fSxSZXF1ZXN0QnVpbGRlci5wcm90b3R5cGUuZ2V0VGVsZW1ldHJ5RGF0YT1mdW5jdGlvbigpe3ZhciB0ZWxlbWV0cnlOYW1lPXRoaXMuX3VuaXZlcnNhbExvZ2luUGFnZT9cImF1dGgwLmpzLXVscFwiOlwiYXV0aDAuanNcIixjbGllbnRJbmZvPXtuYW1lOnRlbGVtZXRyeU5hbWUsdmVyc2lvbjp2ZXJzaW9uLnJhd307dGhpcy5fdGVsZW1ldHJ5SW5mbyYmKChjbGllbnRJbmZvPW9iamVjdEhlbHBlci5leHRlbmQoe30sdGhpcy5fdGVsZW1ldHJ5SW5mbykpLmVudj1vYmplY3RIZWxwZXIuZXh0ZW5kKHt9LHRoaXMuX3RlbGVtZXRyeUluZm8uZW52KSxjbGllbnRJbmZvLmVudlt0ZWxlbWV0cnlOYW1lXT12ZXJzaW9uLnJhdyk7dmFyIGpzb25DbGllbnRJbmZvPUpTT04uc3RyaW5naWZ5KGNsaWVudEluZm8pO3JldHVybiBiYXNlNjRVcmwuZW5jb2RlKGpzb25DbGllbnRJbmZvKX0sUmVxdWVzdEJ1aWxkZXIucHJvdG90eXBlLmdldD1mdW5jdGlvbih1cmwsb3B0aW9ucyl7cmV0dXJuIG5ldyBSZXF1ZXN0T2JqKHRoaXMuc2V0Q29tbW9uQ29uZmlndXJhdGlvbihjbGllbnQuZ2V0KHVybCksb3B0aW9ucykpfSxSZXF1ZXN0QnVpbGRlci5wcm90b3R5cGUucG9zdD1mdW5jdGlvbih1cmwsb3B0aW9ucyl7cmV0dXJuIG5ldyBSZXF1ZXN0T2JqKHRoaXMuc2V0Q29tbW9uQ29uZmlndXJhdGlvbihjbGllbnQucG9zdCh1cmwpLG9wdGlvbnMpKX0sUmVxdWVzdEJ1aWxkZXIucHJvdG90eXBlLnBhdGNoPWZ1bmN0aW9uKHVybCxvcHRpb25zKXtyZXR1cm4gbmV3IFJlcXVlc3RPYmoodGhpcy5zZXRDb21tb25Db25maWd1cmF0aW9uKGNsaWVudC5wYXRjaCh1cmwpLG9wdGlvbnMpKX07dmFyIHdpbmRvd0hhbmRsZXI9e3JlZGlyZWN0OnJlZGlyZWN0LGdldERvY3VtZW50OmdldERvY3VtZW50LGdldFdpbmRvdzpnZXRXaW5kb3csZ2V0T3JpZ2luOmdldE9yaWdpbn07ZnVuY3Rpb24gRHVtbXlTdG9yYWdlKCl7fUR1bW15U3RvcmFnZS5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxEdW1teVN0b3JhZ2UucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24oKXt9LER1bW15U3RvcmFnZS5wcm90b3R5cGUuc2V0SXRlbT1mdW5jdGlvbigpe307dmFyIGpzX2Nvb2tpZT1jcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7IWZ1bmN0aW9uKGZhY3Rvcnkpe2lmKG1vZHVsZS5leHBvcnRzPWZhY3RvcnkoKSwhITApe3ZhciBPbGRDb29raWVzPXdpbmRvdy5Db29raWVzLGFwaT13aW5kb3cuQ29va2llcz1mYWN0b3J5KCk7YXBpLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LkNvb2tpZXM9T2xkQ29va2llcyxhcGl9fX0oZnVuY3Rpb24oKXtmdW5jdGlvbiBleHRlbmQoKXtmb3IodmFyIGk9MCxyZXN1bHQ9e307aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIGF0dHJpYnV0ZXM9YXJndW1lbnRzW2ldO2Zvcih2YXIga2V5IGluIGF0dHJpYnV0ZXMpcmVzdWx0W2tleV09YXR0cmlidXRlc1trZXldfXJldHVybiByZXN1bHR9cmV0dXJuIGZ1bmN0aW9uIGluaXQoY29udmVydGVyKXtmdW5jdGlvbiBhcGkoa2V5LHZhbHVlLGF0dHJpYnV0ZXMpe3ZhciByZXN1bHQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KXtpZihhcmd1bWVudHMubGVuZ3RoPjEpe2lmKFwibnVtYmVyXCI9PXR5cGVvZihhdHRyaWJ1dGVzPWV4dGVuZCh7cGF0aDpcIi9cIn0sYXBpLmRlZmF1bHRzLGF0dHJpYnV0ZXMpKS5leHBpcmVzKXt2YXIgZXhwaXJlcz1uZXcgRGF0ZTtleHBpcmVzLnNldE1pbGxpc2Vjb25kcyhleHBpcmVzLmdldE1pbGxpc2Vjb25kcygpKzg2NGU1KmF0dHJpYnV0ZXMuZXhwaXJlcyksYXR0cmlidXRlcy5leHBpcmVzPWV4cGlyZXN9YXR0cmlidXRlcy5leHBpcmVzPWF0dHJpYnV0ZXMuZXhwaXJlcz9hdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKTpcIlwiO3RyeXtyZXN1bHQ9SlNPTi5zdHJpbmdpZnkodmFsdWUpLC9eW1xce1xcW10vLnRlc3QocmVzdWx0KSYmKHZhbHVlPXJlc3VsdCl9Y2F0Y2goZSl7fXZhbHVlPWNvbnZlcnRlci53cml0ZT9jb252ZXJ0ZXIud3JpdGUodmFsdWUsa2V5KTplbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHZhbHVlKSkucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZyxkZWNvZGVVUklDb21wb25lbnQpLGtleT0oa2V5PShrZXk9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhrZXkpKSkucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZyxkZWNvZGVVUklDb21wb25lbnQpKS5yZXBsYWNlKC9bXFwoXFwpXS9nLGVzY2FwZSk7dmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcz1cIlwiO2Zvcih2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0mJihzdHJpbmdpZmllZEF0dHJpYnV0ZXMrPVwiOyBcIithdHRyaWJ1dGVOYW1lLCEwIT09YXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSYmKHN0cmluZ2lmaWVkQXR0cmlidXRlcys9XCI9XCIrYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkpO3JldHVybiBkb2N1bWVudC5jb29raWU9a2V5K1wiPVwiK3ZhbHVlK3N0cmluZ2lmaWVkQXR0cmlidXRlc31rZXl8fChyZXN1bHQ9e30pO2Zvcih2YXIgY29va2llcz1kb2N1bWVudC5jb29raWU/ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIik6W10scmRlY29kZT0vKCVbMC05QS1aXXsyfSkrL2csaT0wO2k8Y29va2llcy5sZW5ndGg7aSsrKXt2YXIgcGFydHM9Y29va2llc1tpXS5zcGxpdChcIj1cIiksY29va2llPXBhcnRzLnNsaWNlKDEpLmpvaW4oXCI9XCIpO3RoaXMuanNvbnx8J1wiJyE9PWNvb2tpZS5jaGFyQXQoMCl8fChjb29raWU9Y29va2llLnNsaWNlKDEsLTEpKTt0cnl7dmFyIG5hbWU9cGFydHNbMF0ucmVwbGFjZShyZGVjb2RlLGRlY29kZVVSSUNvbXBvbmVudCk7aWYoY29va2llPWNvbnZlcnRlci5yZWFkP2NvbnZlcnRlci5yZWFkKGNvb2tpZSxuYW1lKTpjb252ZXJ0ZXIoY29va2llLG5hbWUpfHxjb29raWUucmVwbGFjZShyZGVjb2RlLGRlY29kZVVSSUNvbXBvbmVudCksdGhpcy5qc29uKXRyeXtjb29raWU9SlNPTi5wYXJzZShjb29raWUpfWNhdGNoKGUpe31pZihrZXk9PT1uYW1lKXtyZXN1bHQ9Y29va2llO2JyZWFrfWtleXx8KHJlc3VsdFtuYW1lXT1jb29raWUpfWNhdGNoKGUpe319cmV0dXJuIHJlc3VsdH19cmV0dXJuIGFwaS5zZXQ9YXBpLGFwaS5nZXQ9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gYXBpLmNhbGwoYXBpLGtleSl9LGFwaS5nZXRKU09OPWZ1bmN0aW9uKCl7cmV0dXJuIGFwaS5hcHBseSh7anNvbjohMH0sW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKX0sYXBpLmRlZmF1bHRzPXt9LGFwaS5yZW1vdmU9ZnVuY3Rpb24oa2V5LGF0dHJpYnV0ZXMpe2FwaShrZXksXCJcIixleHRlbmQoYXR0cmlidXRlcyx7ZXhwaXJlczotMX0pKX0sYXBpLndpdGhDb252ZXJ0ZXI9aW5pdCxhcGl9KGZ1bmN0aW9uKCl7fSl9KX0pO2Z1bmN0aW9uIENvb2tpZVN0b3JhZ2UoKXt9ZnVuY3Rpb24gV2FybihvcHRpb25zKXt0aGlzLmRpc2FibGVXYXJuaW5ncz1vcHRpb25zLmRpc2FibGVXYXJuaW5nc31mdW5jdGlvbiBTdG9yYWdlSGFuZGxlcihvcHRpb25zKXtpZih0aGlzLndhcm49bmV3IFdhcm4oe30pLHRoaXMuc3RvcmFnZT1uZXcgQ29va2llU3RvcmFnZSwhMD09PW9wdGlvbnMuX190cnlMb2NhbFN0b3JhZ2VGaXJzdCl0cnl7dmFyIGxvY2FsU3RvcmFnZT13aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLmxvY2FsU3RvcmFnZTtsb2NhbFN0b3JhZ2UmJih0aGlzLnN0b3JhZ2U9bG9jYWxTdG9yYWdlKX1jYXRjaChlKXt0aGlzLndhcm4ud2FybmluZyhlKSx0aGlzLndhcm4ud2FybmluZyhcIkNhbid0IHVzZSBsb2NhbFN0b3JhZ2UuIFVzaW5nIENvb2tpZVN0b3JhZ2UgaW5zdGVhZC5cIil9fWZ1bmN0aW9uIFN0b3JhZ2Uob3B0aW9ucyl7dGhpcy5oYW5kbGVyPW5ldyBTdG9yYWdlSGFuZGxlcihvcHRpb25zKX1mdW5jdGlvbiBTU09EYXRhU3RvcmFnZShvcHRpb25zKXt0aGlzLnN0b3JhZ2U9bmV3IFN0b3JhZ2Uob3B0aW9ucyl9ZnVuY3Rpb24gYnVpbGRSZXNwb25zZShlcnJvcixkZXNjcmlwdGlvbil7cmV0dXJue2Vycm9yOmVycm9yLGVycm9yRGVzY3JpcHRpb246ZGVzY3JpcHRpb259fWZ1bmN0aW9uIGludmFsaWRUb2tlbihkZXNjcmlwdGlvbil7cmV0dXJuIGJ1aWxkUmVzcG9uc2UoXCJpbnZhbGlkX3Rva2VuXCIsZGVzY3JpcHRpb24pfUNvb2tpZVN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oa2V5KXtyZXR1cm4ganNfY29va2llLmdldChrZXkpfSxDb29raWVTdG9yYWdlLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKGtleSl7anNfY29va2llLnJlbW92ZShrZXkpfSxDb29raWVTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKGtleSx2YWx1ZSxvcHRpb25zKXt2YXIgcGFyYW1zPW9iamVjdEhlbHBlci5leHRlbmQoe2V4cGlyZXM6MX0sb3B0aW9ucyk7anNfY29va2llLnNldChrZXksdmFsdWUscGFyYW1zKX0sV2Fybi5wcm90b3R5cGUud2FybmluZz1mdW5jdGlvbihtZXNzYWdlKXt0aGlzLmRpc2FibGVXYXJuaW5nc3x8Y29uc29sZS53YXJuKG1lc3NhZ2UpfSxTdG9yYWdlSGFuZGxlci5wcm90b3R5cGUuZmFpbG92ZXI9ZnVuY3Rpb24oKXt0aGlzLnN0b3JhZ2UgaW5zdGFuY2VvZiBEdW1teVN0b3JhZ2U/dGhpcy53YXJuLndhcm5pbmcoXCJEdW1teVN0b3JhZ2U6IGlnbm9yZSBmYWlsb3ZlclwiKTp0aGlzLnN0b3JhZ2UgaW5zdGFuY2VvZiBDb29raWVTdG9yYWdlPyh0aGlzLndhcm4ud2FybmluZyhcIkNvb2tpZVN0b3JhZ2U6IGZhaWxpbmcgb3ZlciBEdW1teVN0b3JhZ2VcIiksdGhpcy5zdG9yYWdlPW5ldyBEdW1teVN0b3JhZ2UpOih0aGlzLndhcm4ud2FybmluZyhcIkxvY2FsU3RvcmFnZTogZmFpbGluZyBvdmVyIENvb2tpZVN0b3JhZ2VcIiksdGhpcy5zdG9yYWdlPW5ldyBDb29raWVTdG9yYWdlKX0sU3RvcmFnZUhhbmRsZXIucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oa2V5KXt0cnl7cmV0dXJuIHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMud2Fybi53YXJuaW5nKGUpLHRoaXMuZmFpbG92ZXIoKSx0aGlzLmdldEl0ZW0oa2V5KX19LFN0b3JhZ2VIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKGtleSl7dHJ5e3JldHVybiB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpfWNhdGNoKGUpe3JldHVybiB0aGlzLndhcm4ud2FybmluZyhlKSx0aGlzLmZhaWxvdmVyKCksdGhpcy5yZW1vdmVJdGVtKGtleSl9fSxTdG9yYWdlSGFuZGxlci5wcm90b3R5cGUuc2V0SXRlbT1mdW5jdGlvbihrZXksdmFsdWUsb3B0aW9ucyl7dHJ5e3JldHVybiB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShrZXksdmFsdWUsb3B0aW9ucyl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMud2Fybi53YXJuaW5nKGUpLHRoaXMuZmFpbG92ZXIoKSx0aGlzLnNldEl0ZW0oa2V5LHZhbHVlLG9wdGlvbnMpfX0sU3RvcmFnZS5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihrZXkpe3ZhciB2YWx1ZT10aGlzLmhhbmRsZXIuZ2V0SXRlbShrZXkpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSl9Y2F0Y2goXyl7cmV0dXJuIHZhbHVlfX0sU3RvcmFnZS5wcm90b3R5cGUucmVtb3ZlSXRlbT1mdW5jdGlvbihrZXkpe3JldHVybiB0aGlzLmhhbmRsZXIucmVtb3ZlSXRlbShrZXkpfSxTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKGtleSx2YWx1ZSxvcHRpb25zKXt2YXIganNvbj1KU09OLnN0cmluZ2lmeSh2YWx1ZSk7cmV0dXJuIHRoaXMuaGFuZGxlci5zZXRJdGVtKGtleSxqc29uLG9wdGlvbnMpfSxTU09EYXRhU3RvcmFnZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGNvbm5lY3Rpb24sc3ViKXt2YXIgc3NvZGF0YT17bGFzdFVzZWRDb25uZWN0aW9uOmNvbm5lY3Rpb24sbGFzdFVzZWRTdWI6c3VifTt0aGlzLnN0b3JhZ2Uuc2V0SXRlbShcImF1dGgwLnNzb2RhdGFcIixKU09OLnN0cmluZ2lmeShzc29kYXRhKSl9LFNTT0RhdGFTdG9yYWdlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgc3NvZGF0YT10aGlzLnN0b3JhZ2UuZ2V0SXRlbShcImF1dGgwLnNzb2RhdGFcIik7aWYoc3NvZGF0YSlyZXR1cm4gSlNPTi5wYXJzZShzc29kYXRhKX07dmFyIGVycm9yPXtidWlsZFJlc3BvbnNlOmJ1aWxkUmVzcG9uc2UsaW52YWxpZFRva2VuOmludmFsaWRUb2tlbn07ZnVuY3Rpb24gd3JhcENhbGxiYWNrKGNiLG9wdGlvbnMpe3JldHVybihvcHRpb25zPW9wdGlvbnN8fHt9KS5pZ25vcmVDYXNpbmc9ISFvcHRpb25zLmlnbm9yZUNhc2luZyYmb3B0aW9ucy5pZ25vcmVDYXNpbmcsZnVuY3Rpb24oZXJyLGRhdGEpe3ZhciBlcnJPYmo7cmV0dXJuIGVycnx8ZGF0YT8oIWVyciYmZGF0YS5lcnImJihlcnI9ZGF0YS5lcnIsZGF0YT1udWxsKSwhZXJyJiZkYXRhLmVycm9yJiYoZXJyPWRhdGEsZGF0YT1udWxsKSxlcnI/KGVyck9iaj17b3JpZ2luYWw6ZXJyfSxlcnIucmVzcG9uc2UmJmVyci5yZXNwb25zZS5zdGF0dXNDb2RlJiYoZXJyT2JqLnN0YXR1c0NvZGU9ZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUpLGVyci5yZXNwb25zZSYmZXJyLnJlc3BvbnNlLnN0YXR1c1RleHQmJihlcnJPYmouc3RhdHVzVGV4dD1lcnIucmVzcG9uc2Uuc3RhdHVzVGV4dCksZXJyLnJlc3BvbnNlJiZlcnIucmVzcG9uc2UuYm9keSYmKGVycj1lcnIucmVzcG9uc2UuYm9keSksZXJyLmVyciYmKGVycj1lcnIuZXJyKSxlcnJPYmouY29kZT1lcnIuY29kZXx8ZXJyLmVycm9yfHxlcnIuZXJyb3JfY29kZXx8ZXJyLnN0YXR1c3x8bnVsbCxlcnJPYmouZGVzY3JpcHRpb249ZXJyLmVycm9yRGVzY3JpcHRpb258fGVyci5lcnJvcl9kZXNjcmlwdGlvbnx8ZXJyLmRlc2NyaXB0aW9ufHxlcnIuZXJyb3J8fGVyci5kZXRhaWxzfHxlcnIuZXJyfHxudWxsLG9wdGlvbnMuZm9yY2VMZWdhY3lFcnJvciYmKGVyck9iai5lcnJvcj1lcnJPYmouY29kZSxlcnJPYmouZXJyb3JfZGVzY3JpcHRpb249ZXJyT2JqLmRlc2NyaXB0aW9uKSxlcnIubmFtZSYmKGVyck9iai5uYW1lPWVyci5uYW1lKSxlcnIucG9saWN5JiYoZXJyT2JqLnBvbGljeT1lcnIucG9saWN5KSxjYihlcnJPYmopKTohZGF0YS50eXBlfHxcInRleHQvaHRtbFwiIT09ZGF0YS50eXBlJiZcInRleHQvcGxhaW5cIiE9PWRhdGEudHlwZT9vcHRpb25zLmlnbm9yZUNhc2luZz9jYihudWxsLGRhdGEuYm9keXx8ZGF0YSk6Y2IobnVsbCxvYmplY3RIZWxwZXIudG9DYW1lbENhc2UoZGF0YS5ib2R5fHxkYXRhLFtdLHtrZWVwT3JpZ2luYWw6b3B0aW9ucy5rZWVwT3JpZ2luYWxDYXNpbmd9KSk6Y2IobnVsbCxkYXRhLnRleHQpKTpjYihlcnJvci5idWlsZFJlc3BvbnNlKFwiZ2VuZXJpY19lcnJvclwiLFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIikpfX12YXIgdG9rZW5QYXJhbXM9W1wicmVhbG1cIixcImF1ZGllbmNlXCIsXCJjbGllbnRfaWRcIixcImNsaWVudF9zZWNyZXRcIixcInJlZGlyZWN0X3VyaVwiLFwic2NvcGVcIixcImNvZGVcIixcImdyYW50X3R5cGVcIixcInVzZXJuYW1lXCIsXCJwYXNzd29yZFwiLFwicmVmcmVzaF90b2tlblwiLFwiYXNzZXJ0aW9uXCIsXCJjbGllbnRfYXNzZXJ0aW9uXCIsXCJjbGllbnRfYXNzZXJ0aW9uX3R5cGVcIixcImNvZGVfdmVyaWZpZXJcIl0sYXV0aG9yaXplUGFyYW1zPVtcImNvbm5lY3Rpb25cIixcImNvbm5lY3Rpb25fc2NvcGVcIixcImF1dGgwQ2xpZW50XCIsXCJvd3BcIixcImRldmljZVwiLFwicmVhbG1cIixcInByb3RvY29sXCIsXCJfY3NyZlwiLFwiX2ludHN0YXRlXCIsXCJsb2dpbl90aWNrZXRcIixcImNsaWVudF9pZFwiLFwicmVzcG9uc2VfdHlwZVwiLFwicmVzcG9uc2VfbW9kZVwiLFwicmVkaXJlY3RfdXJpXCIsXCJhdWRpZW5jZVwiLFwic2NvcGVcIixcInN0YXRlXCIsXCJub25jZVwiLFwiZGlzcGxheVwiLFwicHJvbXB0XCIsXCJtYXhfYWdlXCIsXCJ1aV9sb2NhbGVzXCIsXCJjbGFpbXNfbG9jYWxlc1wiLFwiaWRfdG9rZW5faGludFwiLFwibG9naW5faGludFwiLFwiYWNyX3ZhbHVlc1wiLFwiY2xhaW1zXCIsXCJyZWdpc3RyYXRpb25cIixcInJlcXVlc3RcIixcInJlcXVlc3RfdXJpXCIsXCJjb2RlX2NoYWxsZW5nZVwiLFwiY29kZV9jaGFsbGVuZ2VfbWV0aG9kXCIsXCJhY2Nlc3NfdHlwZVwiLFwiZGlzcGxheVwiXTtmdW5jdGlvbiBvYXV0aEF1dGhvcml6ZVBhcmFtcyh3YXJuLHBhcmFtcyl7dmFyIG5vdEFsbG93ZWQ9b2JqZWN0SGVscGVyLmdldEtleXNOb3RJbihwYXJhbXMsYXV0aG9yaXplUGFyYW1zKTtyZXR1cm4gbm90QWxsb3dlZC5sZW5ndGg+MCYmd2Fybi53YXJuaW5nKFwiRm9sbG93aW5nIHBhcmFtZXRlcnMgYXJlIG5vdCBhbGxvd2VkIG9uIHRoZSBgL2F1dGhvcml6ZWAgZW5kcG9pbnQ6IFtcIitub3RBbGxvd2VkLmpvaW4oXCIsXCIpK1wiXVwiKSxwYXJhbXN9ZnVuY3Rpb24gb2F1dGhUb2tlblBhcmFtcyh3YXJuLHBhcmFtcyl7cmV0dXJuIG9iamVjdEhlbHBlci5waWNrKHBhcmFtcyx0b2tlblBhcmFtcyl9dmFyIHBhcmFtZXRlcnNXaGl0ZWxpc3Q9e29hdXRoVG9rZW5QYXJhbXM6b2F1dGhUb2tlblBhcmFtcyxvYXV0aEF1dGhvcml6ZVBhcmFtczpvYXV0aEF1dGhvcml6ZVBhcmFtc30sY29yZT1jcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENyeXB0b0pTO21vZHVsZS5leHBvcnRzPShDcnlwdG9KUz1DcnlwdG9KU3x8ZnVuY3Rpb24oTWF0aCx1bmRlZmluZWQpe3ZhciBjcmVhdGU9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oKXtmdW5jdGlvbiBGKCl7fXJldHVybiBmdW5jdGlvbihvYmope3ZhciBzdWJ0eXBlO3JldHVybiBGLnByb3RvdHlwZT1vYmosc3VidHlwZT1uZXcgRixGLnByb3RvdHlwZT1udWxsLHN1YnR5cGV9fSgpLEM9e30sQ19saWI9Qy5saWI9e30sQmFzZT1DX2xpYi5CYXNlPXtleHRlbmQ6ZnVuY3Rpb24ob3ZlcnJpZGVzKXt2YXIgc3VidHlwZT1jcmVhdGUodGhpcyk7cmV0dXJuIG92ZXJyaWRlcyYmc3VidHlwZS5taXhJbihvdmVycmlkZXMpLHN1YnR5cGUuaGFzT3duUHJvcGVydHkoXCJpbml0XCIpJiZ0aGlzLmluaXQhPT1zdWJ0eXBlLmluaXR8fChzdWJ0eXBlLmluaXQ9ZnVuY3Rpb24oKXtzdWJ0eXBlLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHN1YnR5cGUuaW5pdC5wcm90b3R5cGU9c3VidHlwZSxzdWJ0eXBlLiRzdXBlcj10aGlzLHN1YnR5cGV9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBpbnN0YW5jZT10aGlzLmV4dGVuZCgpO3JldHVybiBpbnN0YW5jZS5pbml0LmFwcGx5KGluc3RhbmNlLGFyZ3VtZW50cyksaW5zdGFuY2V9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKHByb3BlcnRpZXMpe2Zvcih2YXIgcHJvcGVydHlOYW1lIGluIHByb3BlcnRpZXMpcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpJiYodGhpc1twcm9wZXJ0eU5hbWVdPXByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSk7cHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcInRvU3RyaW5nXCIpJiYodGhpcy50b1N0cmluZz1wcm9wZXJ0aWVzLnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fSxXb3JkQXJyYXk9Q19saWIuV29yZEFycmF5PUJhc2UuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHdvcmRzLHNpZ0J5dGVzKXt3b3Jkcz10aGlzLndvcmRzPXdvcmRzfHxbXSx0aGlzLnNpZ0J5dGVzPW51bGwhPXNpZ0J5dGVzP3NpZ0J5dGVzOjQqd29yZHMubGVuZ3RofSx0b1N0cmluZzpmdW5jdGlvbihlbmNvZGVyKXtyZXR1cm4oZW5jb2Rlcnx8SGV4KS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbih3b3JkQXJyYXkpe3ZhciB0aGlzV29yZHM9dGhpcy53b3Jkcyx0aGF0V29yZHM9d29yZEFycmF5LndvcmRzLHRoaXNTaWdCeXRlcz10aGlzLnNpZ0J5dGVzLHRoYXRTaWdCeXRlcz13b3JkQXJyYXkuc2lnQnl0ZXM7aWYodGhpcy5jbGFtcCgpLHRoaXNTaWdCeXRlcyU0KWZvcih2YXIgaT0wO2k8dGhhdFNpZ0J5dGVzO2krKyl7dmFyIHRoYXRCeXRlPXRoYXRXb3Jkc1tpPj4+Ml0+Pj4yNC1pJTQqOCYyNTU7dGhpc1dvcmRzW3RoaXNTaWdCeXRlcytpPj4+Ml18PXRoYXRCeXRlPDwyNC0odGhpc1NpZ0J5dGVzK2kpJTQqOH1lbHNlIGZvcih2YXIgaT0wO2k8dGhhdFNpZ0J5dGVzO2krPTQpdGhpc1dvcmRzW3RoaXNTaWdCeXRlcytpPj4+Ml09dGhhdFdvcmRzW2k+Pj4yXTtyZXR1cm4gdGhpcy5zaWdCeXRlcys9dGhhdFNpZ0J5dGVzLHRoaXN9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIHdvcmRzPXRoaXMud29yZHMsc2lnQnl0ZXM9dGhpcy5zaWdCeXRlczt3b3Jkc1tzaWdCeXRlcz4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1zaWdCeXRlcyU0Kjgsd29yZHMubGVuZ3RoPU1hdGguY2VpbChzaWdCeXRlcy80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9QmFzZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBjbG9uZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGNsb25lfSxyYW5kb206ZnVuY3Rpb24obkJ5dGVzKXtmb3IodmFyIHJjYWNoZSx3b3Jkcz1bXSxyPWZ1bmN0aW9uKG1fdyl7dmFyIG1fdz1tX3csbV96PTk4NzY1NDMyMSxtYXNrPTQyOTQ5NjcyOTU7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHJlc3VsdD0oKG1fej0zNjk2OSooNjU1MzUmbV96KSsobV96Pj4xNikmbWFzayk8PDE2KSsobV93PTE4ZTMqKDY1NTM1Jm1fdykrKG1fdz4+MTYpJm1hc2spJm1hc2s7cmV0dXJuIHJlc3VsdC89NDI5NDk2NzI5NiwocmVzdWx0Kz0uNSkqKE1hdGgucmFuZG9tKCk+LjU/MTotMSl9fSxpPTA7aTxuQnl0ZXM7aSs9NCl7dmFyIF9yPXIoNDI5NDk2NzI5NioocmNhY2hlfHxNYXRoLnJhbmRvbSgpKSk7cmNhY2hlPTk4NzY1NDA3MSpfcigpLHdvcmRzLnB1c2goNDI5NDk2NzI5NipfcigpfDApfXJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsbkJ5dGVzKX19KSxDX2VuYz1DLmVuYz17fSxIZXg9Q19lbmMuSGV4PXtzdHJpbmdpZnk6ZnVuY3Rpb24od29yZEFycmF5KXtmb3IodmFyIHdvcmRzPXdvcmRBcnJheS53b3JkcyxzaWdCeXRlcz13b3JkQXJyYXkuc2lnQnl0ZXMsaGV4Q2hhcnM9W10saT0wO2k8c2lnQnl0ZXM7aSsrKXt2YXIgYml0ZT13b3Jkc1tpPj4+Ml0+Pj4yNC1pJTQqOCYyNTU7aGV4Q2hhcnMucHVzaCgoYml0ZT4+PjQpLnRvU3RyaW5nKDE2KSksaGV4Q2hhcnMucHVzaCgoMTUmYml0ZSkudG9TdHJpbmcoMTYpKX1yZXR1cm4gaGV4Q2hhcnMuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24oaGV4U3RyKXtmb3IodmFyIGhleFN0ckxlbmd0aD1oZXhTdHIubGVuZ3RoLHdvcmRzPVtdLGk9MDtpPGhleFN0ckxlbmd0aDtpKz0yKXdvcmRzW2k+Pj4zXXw9cGFyc2VJbnQoaGV4U3RyLnN1YnN0cihpLDIpLDE2KTw8MjQtaSU4KjQ7cmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdCh3b3JkcyxoZXhTdHJMZW5ndGgvMil9fSxMYXRpbjE9Q19lbmMuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24od29yZEFycmF5KXtmb3IodmFyIHdvcmRzPXdvcmRBcnJheS53b3JkcyxzaWdCeXRlcz13b3JkQXJyYXkuc2lnQnl0ZXMsbGF0aW4xQ2hhcnM9W10saT0wO2k8c2lnQnl0ZXM7aSsrKXt2YXIgYml0ZT13b3Jkc1tpPj4+Ml0+Pj4yNC1pJTQqOCYyNTU7bGF0aW4xQ2hhcnMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJpdGUpKX1yZXR1cm4gbGF0aW4xQ2hhcnMuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24obGF0aW4xU3RyKXtmb3IodmFyIGxhdGluMVN0ckxlbmd0aD1sYXRpbjFTdHIubGVuZ3RoLHdvcmRzPVtdLGk9MDtpPGxhdGluMVN0ckxlbmd0aDtpKyspd29yZHNbaT4+PjJdfD0oMjU1JmxhdGluMVN0ci5jaGFyQ29kZUF0KGkpKTw8MjQtaSU0Kjg7cmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdCh3b3JkcyxsYXRpbjFTdHJMZW5ndGgpfX0sVXRmOD1DX2VuYy5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24od29yZEFycmF5KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFVURi04IGRhdGFcIil9fSxwYXJzZTpmdW5jdGlvbih1dGY4U3RyKXtyZXR1cm4gTGF0aW4xLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh1dGY4U3RyKSkpfX0sQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1DX2xpYi5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtPUJhc2UuZXh0ZW5kKHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RhdGE9bmV3IFdvcmRBcnJheS5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbihkYXRhKXtcInN0cmluZ1wiPT10eXBlb2YgZGF0YSYmKGRhdGE9VXRmOC5wYXJzZShkYXRhKSksdGhpcy5fZGF0YS5jb25jYXQoZGF0YSksdGhpcy5fbkRhdGFCeXRlcys9ZGF0YS5zaWdCeXRlc30sX3Byb2Nlc3M6ZnVuY3Rpb24oZG9GbHVzaCl7dmFyIGRhdGE9dGhpcy5fZGF0YSxkYXRhV29yZHM9ZGF0YS53b3JkcyxkYXRhU2lnQnl0ZXM9ZGF0YS5zaWdCeXRlcyxibG9ja1NpemU9dGhpcy5ibG9ja1NpemUsYmxvY2tTaXplQnl0ZXM9NCpibG9ja1NpemUsbkJsb2Nrc1JlYWR5PWRhdGFTaWdCeXRlcy9ibG9ja1NpemVCeXRlcyxuV29yZHNSZWFkeT0obkJsb2Nrc1JlYWR5PWRvRmx1c2g/TWF0aC5jZWlsKG5CbG9ja3NSZWFkeSk6TWF0aC5tYXgoKDB8bkJsb2Nrc1JlYWR5KS10aGlzLl9taW5CdWZmZXJTaXplLDApKSpibG9ja1NpemUsbkJ5dGVzUmVhZHk9TWF0aC5taW4oNCpuV29yZHNSZWFkeSxkYXRhU2lnQnl0ZXMpO2lmKG5Xb3Jkc1JlYWR5KXtmb3IodmFyIG9mZnNldD0wO29mZnNldDxuV29yZHNSZWFkeTtvZmZzZXQrPWJsb2NrU2l6ZSl0aGlzLl9kb1Byb2Nlc3NCbG9jayhkYXRhV29yZHMsb2Zmc2V0KTt2YXIgcHJvY2Vzc2VkV29yZHM9ZGF0YVdvcmRzLnNwbGljZSgwLG5Xb3Jkc1JlYWR5KTtkYXRhLnNpZ0J5dGVzLT1uQnl0ZXNSZWFkeX1yZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHByb2Nlc3NlZFdvcmRzLG5CeXRlc1JlYWR5KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9QmFzZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBjbG9uZS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksY2xvbmV9LF9taW5CdWZmZXJTaXplOjB9KSxDX2FsZ289KENfbGliLkhhc2hlcj1CdWZmZXJlZEJsb2NrQWxnb3JpdGhtLmV4dGVuZCh7Y2ZnOkJhc2UuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihjZmcpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChjZmcpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSx1cGRhdGU6ZnVuY3Rpb24obWVzc2FnZVVwZGF0ZSl7cmV0dXJuIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKSx0aGlzLl9wcm9jZXNzKCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24obWVzc2FnZVVwZGF0ZSl7bWVzc2FnZVVwZGF0ZSYmdGhpcy5fYXBwZW5kKG1lc3NhZ2VVcGRhdGUpO3ZhciBoYXNoPXRoaXMuX2RvRmluYWxpemUoKTtyZXR1cm4gaGFzaH0sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oaGFzaGVyKXtyZXR1cm4gZnVuY3Rpb24obWVzc2FnZSxjZmcpe3JldHVybiBuZXcgaGFzaGVyLmluaXQoY2ZnKS5maW5hbGl6ZShtZXNzYWdlKX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGhhc2hlcil7cmV0dXJuIGZ1bmN0aW9uKG1lc3NhZ2Usa2V5KXtyZXR1cm4gbmV3IENfYWxnby5ITUFDLmluaXQoaGFzaGVyLGtleSkuZmluYWxpemUobWVzc2FnZSl9fX0pLEMuYWxnbz17fSk7cmV0dXJuIEN9KE1hdGgpLENyeXB0b0pTKX0pLHNoYTI1Nj1jcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENyeXB0b0pTO21vZHVsZS5leHBvcnRzPShDcnlwdG9KUz1jb3JlLGZ1bmN0aW9uKE1hdGgpe3ZhciBDPUNyeXB0b0pTLENfbGliPUMubGliLFdvcmRBcnJheT1DX2xpYi5Xb3JkQXJyYXksSGFzaGVyPUNfbGliLkhhc2hlcixDX2FsZ289Qy5hbGdvLEg9W10sSz1bXTshZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1ByaW1lKG4pe2Zvcih2YXIgc3FydE49TWF0aC5zcXJ0KG4pLGZhY3Rvcj0yO2ZhY3Rvcjw9c3FydE47ZmFjdG9yKyspaWYoIShuJWZhY3RvcikpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZ2V0RnJhY3Rpb25hbEJpdHMobil7cmV0dXJuIDQyOTQ5NjcyOTYqKG4tKDB8bikpfDB9Zm9yKHZhciBuPTIsblByaW1lPTA7blByaW1lPDY0Oylpc1ByaW1lKG4pJiYoblByaW1lPDgmJihIW25QcmltZV09Z2V0RnJhY3Rpb25hbEJpdHMoTWF0aC5wb3cobiwuNSkpKSxLW25QcmltZV09Z2V0RnJhY3Rpb25hbEJpdHMoTWF0aC5wb3cobiwxLzMpKSxuUHJpbWUrKyksbisrfSgpO3ZhciBXPVtdLFNIQTI1Nj1DX2FsZ28uU0hBMjU2PUhhc2hlci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgV29yZEFycmF5LmluaXQoSC5zbGljZSgwKSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihNLG9mZnNldCl7Zm9yKHZhciBIPXRoaXMuX2hhc2gud29yZHMsYT1IWzBdLGI9SFsxXSxjPUhbMl0sZD1IWzNdLGU9SFs0XSxmPUhbNV0sZz1IWzZdLGg9SFs3XSxpPTA7aTw2NDtpKyspe2lmKGk8MTYpV1tpXT0wfE1bb2Zmc2V0K2ldO2Vsc2V7dmFyIGdhbW1hMHg9V1tpLTE1XSxnYW1tYTA9KGdhbW1hMHg8PDI1fGdhbW1hMHg+Pj43KV4oZ2FtbWEweDw8MTR8Z2FtbWEweD4+PjE4KV5nYW1tYTB4Pj4+MyxnYW1tYTF4PVdbaS0yXSxnYW1tYTE9KGdhbW1hMXg8PDE1fGdhbW1hMXg+Pj4xNyleKGdhbW1hMXg8PDEzfGdhbW1hMXg+Pj4xOSleZ2FtbWExeD4+PjEwO1dbaV09Z2FtbWEwK1dbaS03XStnYW1tYTErV1tpLTE2XX12YXIgbWFqPWEmYl5hJmNeYiZjLHNpZ21hMD0oYTw8MzB8YT4+PjIpXihhPDwxOXxhPj4+MTMpXihhPDwxMHxhPj4+MjIpLHQxPWgrKChlPDwyNnxlPj4+NileKGU8PDIxfGU+Pj4xMSleKGU8PDd8ZT4+PjI1KSkrKGUmZl5+ZSZnKStLW2ldK1dbaV07aD1nLGc9ZixmPWUsZT1kK3QxfDAsZD1jLGM9YixiPWEsYT10MSsoc2lnbWEwK21hail8MH1IWzBdPUhbMF0rYXwwLEhbMV09SFsxXStifDAsSFsyXT1IWzJdK2N8MCxIWzNdPUhbM10rZHwwLEhbNF09SFs0XStlfDAsSFs1XT1IWzVdK2Z8MCxIWzZdPUhbNl0rZ3wwLEhbN109SFs3XStofDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGRhdGE9dGhpcy5fZGF0YSxkYXRhV29yZHM9ZGF0YS53b3JkcyxuQml0c1RvdGFsPTgqdGhpcy5fbkRhdGFCeXRlcyxuQml0c0xlZnQ9OCpkYXRhLnNpZ0J5dGVzO3JldHVybiBkYXRhV29yZHNbbkJpdHNMZWZ0Pj4+NV18PTEyODw8MjQtbkJpdHNMZWZ0JTMyLGRhdGFXb3Jkc1sxNCsobkJpdHNMZWZ0KzY0Pj4+OTw8NCldPU1hdGguZmxvb3IobkJpdHNUb3RhbC80Mjk0OTY3Mjk2KSxkYXRhV29yZHNbMTUrKG5CaXRzTGVmdCs2ND4+Pjk8PDQpXT1uQml0c1RvdGFsLGRhdGEuc2lnQnl0ZXM9NCpkYXRhV29yZHMubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNofSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1IYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gY2xvbmUuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGNsb25lfX0pO0MuU0hBMjU2PUhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTI1NiksQy5IbWFjU0hBMjU2PUhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihTSEEyNTYpfShNYXRoKSxDcnlwdG9KUy5TSEEyNTYpfSksZW5jQmFzZTY0PWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ3J5cHRvSlMsQyxXb3JkQXJyYXk7bW9kdWxlLmV4cG9ydHM9KFdvcmRBcnJheT0oQz1DcnlwdG9KUz1jb3JlKS5saWIuV29yZEFycmF5LEMuZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHdvcmRzPXdvcmRBcnJheS53b3JkcyxzaWdCeXRlcz13b3JkQXJyYXkuc2lnQnl0ZXMsbWFwPXRoaXMuX21hcDt3b3JkQXJyYXkuY2xhbXAoKTtmb3IodmFyIGJhc2U2NENoYXJzPVtdLGk9MDtpPHNpZ0J5dGVzO2krPTMpZm9yKHZhciB0cmlwbGV0PSh3b3Jkc1tpPj4+Ml0+Pj4yNC1pJTQqOCYyNTUpPDwxNnwod29yZHNbaSsxPj4+Ml0+Pj4yNC0oaSsxKSU0KjgmMjU1KTw8OHx3b3Jkc1tpKzI+Pj4yXT4+PjI0LShpKzIpJTQqOCYyNTUsaj0wO2o8NCYmaSsuNzUqajxzaWdCeXRlcztqKyspYmFzZTY0Q2hhcnMucHVzaChtYXAuY2hhckF0KHRyaXBsZXQ+Pj42KigzLWopJjYzKSk7dmFyIHBhZGRpbmdDaGFyPW1hcC5jaGFyQXQoNjQpO2lmKHBhZGRpbmdDaGFyKWZvcig7YmFzZTY0Q2hhcnMubGVuZ3RoJTQ7KWJhc2U2NENoYXJzLnB1c2gocGFkZGluZ0NoYXIpO3JldHVybiBiYXNlNjRDaGFycy5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbihiYXNlNjRTdHIpe3ZhciBiYXNlNjRTdHJMZW5ndGg9YmFzZTY0U3RyLmxlbmd0aCxtYXA9dGhpcy5fbWFwLHJldmVyc2VNYXA9dGhpcy5fcmV2ZXJzZU1hcDtpZighcmV2ZXJzZU1hcCl7cmV2ZXJzZU1hcD10aGlzLl9yZXZlcnNlTWFwPVtdO2Zvcih2YXIgaj0wO2o8bWFwLmxlbmd0aDtqKyspcmV2ZXJzZU1hcFttYXAuY2hhckNvZGVBdChqKV09an12YXIgcGFkZGluZ0NoYXI9bWFwLmNoYXJBdCg2NCk7aWYocGFkZGluZ0NoYXIpe3ZhciBwYWRkaW5nSW5kZXg9YmFzZTY0U3RyLmluZGV4T2YocGFkZGluZ0NoYXIpOy0xIT09cGFkZGluZ0luZGV4JiYoYmFzZTY0U3RyTGVuZ3RoPXBhZGRpbmdJbmRleCl9cmV0dXJuIGZ1bmN0aW9uKGJhc2U2NFN0cixiYXNlNjRTdHJMZW5ndGgscmV2ZXJzZU1hcCl7Zm9yKHZhciB3b3Jkcz1bXSxuQnl0ZXM9MCxpPTA7aTxiYXNlNjRTdHJMZW5ndGg7aSsrKWlmKGklNCl7dmFyIGJpdHMxPXJldmVyc2VNYXBbYmFzZTY0U3RyLmNoYXJDb2RlQXQoaS0xKV08PGklNCoyLGJpdHMyPXJldmVyc2VNYXBbYmFzZTY0U3RyLmNoYXJDb2RlQXQoaSldPj4+Ni1pJTQqMjt3b3Jkc1tuQnl0ZXM+Pj4yXXw9KGJpdHMxfGJpdHMyKTw8MjQtbkJ5dGVzJTQqOCxuQnl0ZXMrK31yZXR1cm4gV29yZEFycmF5LmNyZWF0ZSh3b3JkcyxuQnl0ZXMpfShiYXNlNjRTdHIsYmFzZTY0U3RyTGVuZ3RoLHJldmVyc2VNYXApfSxfbWFwOlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIn0sQ3J5cHRvSlMuZW5jLkJhc2U2NCl9KSxlbmNIZXg9Y3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWNvcmUuZW5jLkhleH0pLGpzYm49Y3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbigpe3ZhciBkYml0cztmdW5jdGlvbiBCaWdJbnRlZ2VyKGEsYixjKXtudWxsIT1hJiYoXCJudW1iZXJcIj09dHlwZW9mIGE/dGhpcy5mcm9tTnVtYmVyKGEsYixjKTpudWxsPT1iJiZcInN0cmluZ1wiIT10eXBlb2YgYT90aGlzLmZyb21TdHJpbmcoYSwyNTYpOnRoaXMuZnJvbVN0cmluZyhhLGIpKX1mdW5jdGlvbiBuYmkoKXtyZXR1cm4gbmV3IEJpZ0ludGVnZXIobnVsbCl9dmFyIGluQnJvd3Nlcj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yO2luQnJvd3NlciYmXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09bmF2aWdhdG9yLmFwcE5hbWU/KEJpZ0ludGVnZXIucHJvdG90eXBlLmFtPWZ1bmN0aW9uKGkseCx3LGosYyxuKXtmb3IodmFyIHhsPTMyNzY3JngseGg9eD4+MTU7LS1uPj0wOyl7dmFyIGw9MzI3NjcmdGhpc1tpXSxoPXRoaXNbaSsrXT4+MTUsbT14aCpsK2gqeGw7Yz0oKGw9eGwqbCsoKDMyNzY3Jm0pPDwxNSkrd1tqXSsoMTA3Mzc0MTgyMyZjKSk+Pj4zMCkrKG0+Pj4xNSkreGgqaCsoYz4+PjMwKSx3W2orK109MTA3Mzc0MTgyMyZsfXJldHVybiBjfSxkYml0cz0zMCk6aW5Ccm93c2VyJiZcIk5ldHNjYXBlXCIhPW5hdmlnYXRvci5hcHBOYW1lPyhCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbT1mdW5jdGlvbihpLHgsdyxqLGMsbil7Zm9yKDstLW4+PTA7KXt2YXIgdj14KnRoaXNbaSsrXSt3W2pdK2M7Yz1NYXRoLmZsb29yKHYvNjcxMDg4NjQpLHdbaisrXT02NzEwODg2MyZ2fXJldHVybiBjfSxkYml0cz0yNik6KEJpZ0ludGVnZXIucHJvdG90eXBlLmFtPWZ1bmN0aW9uKGkseCx3LGosYyxuKXtmb3IodmFyIHhsPTE2MzgzJngseGg9eD4+MTQ7LS1uPj0wOyl7dmFyIGw9MTYzODMmdGhpc1tpXSxoPXRoaXNbaSsrXT4+MTQsbT14aCpsK2gqeGw7Yz0oKGw9eGwqbCsoKDE2MzgzJm0pPDwxNCkrd1tqXStjKT4+MjgpKyhtPj4xNCkreGgqaCx3W2orK109MjY4NDM1NDU1Jmx9cmV0dXJuIGN9LGRiaXRzPTI4KSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5EQj1kYml0cyxCaWdJbnRlZ2VyLnByb3RvdHlwZS5ETT0oMTw8ZGJpdHMpLTEsQmlnSW50ZWdlci5wcm90b3R5cGUuRFY9MTw8ZGJpdHM7QmlnSW50ZWdlci5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1MiksQmlnSW50ZWdlci5wcm90b3R5cGUuRjE9NTItZGJpdHMsQmlnSW50ZWdlci5wcm90b3R5cGUuRjI9MipkYml0cy01Mjt2YXIgcnIsdnYsQklfUk09XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixCSV9SQz1uZXcgQXJyYXk7Zm9yKHJyPVwiMFwiLmNoYXJDb2RlQXQoMCksdnY9MDt2djw9OTsrK3Z2KUJJX1JDW3JyKytdPXZ2O2Zvcihycj1cImFcIi5jaGFyQ29kZUF0KDApLHZ2PTEwO3Z2PDM2OysrdnYpQklfUkNbcnIrK109dnY7Zm9yKHJyPVwiQVwiLmNoYXJDb2RlQXQoMCksdnY9MTA7dnY8MzY7Kyt2dilCSV9SQ1tycisrXT12djtmdW5jdGlvbiBpbnQyY2hhcihuKXtyZXR1cm4gQklfUk0uY2hhckF0KG4pfWZ1bmN0aW9uIGludEF0KHMsaSl7dmFyIGM9QklfUkNbcy5jaGFyQ29kZUF0KGkpXTtyZXR1cm4gbnVsbD09Yz8tMTpjfWZ1bmN0aW9uIG5idihpKXt2YXIgcj1uYmkoKTtyZXR1cm4gci5mcm9tSW50KGkpLHJ9ZnVuY3Rpb24gbmJpdHMoeCl7dmFyIHQscj0xO3JldHVybiAwIT0odD14Pj4+MTYpJiYoeD10LHIrPTE2KSwwIT0odD14Pj44KSYmKHg9dCxyKz04KSwwIT0odD14Pj40KSYmKHg9dCxyKz00KSwwIT0odD14Pj4yKSYmKHg9dCxyKz0yKSwwIT0odD14Pj4xKSYmKHg9dCxyKz0xKSxyfWZ1bmN0aW9uIENsYXNzaWMobSl7dGhpcy5tPW19ZnVuY3Rpb24gTW9udGdvbWVyeShtKXt0aGlzLm09bSx0aGlzLm1wPW0uaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PG0uREItMTUpLTEsdGhpcy5tdDI9MiptLnR9ZnVuY3Rpb24gb3BfYW5kKHgseSl7cmV0dXJuIHgmeX1mdW5jdGlvbiBvcF9vcih4LHkpe3JldHVybiB4fHl9ZnVuY3Rpb24gb3BfeG9yKHgseSl7cmV0dXJuIHheeX1mdW5jdGlvbiBvcF9hbmRub3QoeCx5KXtyZXR1cm4geCZ+eX1mdW5jdGlvbiBsYml0KHgpe2lmKDA9PXgpcmV0dXJuLTE7dmFyIHI9MDtyZXR1cm4gMD09KDY1NTM1JngpJiYoeD4+PTE2LHIrPTE2KSwwPT0oMjU1JngpJiYoeD4+PTgscis9OCksMD09KDE1JngpJiYoeD4+PTQscis9NCksMD09KDMmeCkmJih4Pj49MixyKz0yKSwwPT0oMSZ4KSYmKytyLHJ9ZnVuY3Rpb24gY2JpdCh4KXtmb3IodmFyIHI9MDswIT14Oyl4Jj14LTEsKytyO3JldHVybiByfWZ1bmN0aW9uIE51bGxFeHAoKXt9ZnVuY3Rpb24gbk5vcCh4KXtyZXR1cm4geH1mdW5jdGlvbiBCYXJyZXR0KG0pe3RoaXMucjI9bmJpKCksdGhpcy5xMz1uYmkoKSxCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oMiptLnQsdGhpcy5yMiksdGhpcy5tdT10aGlzLnIyLmRpdmlkZShtKSx0aGlzLm09bX1DbGFzc2ljLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHgpe3JldHVybiB4LnM8MHx8eC5jb21wYXJlVG8odGhpcy5tKT49MD94Lm1vZCh0aGlzLm0pOnh9LENsYXNzaWMucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih4KXtyZXR1cm4geH0sQ2xhc3NpYy5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHgpe3guZGl2UmVtVG8odGhpcy5tLG51bGwseCl9LENsYXNzaWMucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHgseSxyKXt4Lm11bHRpcGx5VG8oeSxyKSx0aGlzLnJlZHVjZShyKX0sQ2xhc3NpYy5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24oeCxyKXt4LnNxdWFyZVRvKHIpLHRoaXMucmVkdWNlKHIpfSxNb250Z29tZXJ5LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHgpe3ZhciByPW5iaSgpO3JldHVybiB4LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCxyKSxyLmRpdlJlbVRvKHRoaXMubSxudWxsLHIpLHguczwwJiZyLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pPjAmJnRoaXMubS5zdWJUbyhyLHIpLHJ9LE1vbnRnb21lcnkucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih4KXt2YXIgcj1uYmkoKTtyZXR1cm4geC5jb3B5VG8ociksdGhpcy5yZWR1Y2Uocikscn0sTW9udGdvbWVyeS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHgpe2Zvcig7eC50PD10aGlzLm10MjspeFt4LnQrK109MDtmb3IodmFyIGk9MDtpPHRoaXMubS50OysraSl7dmFyIGo9MzI3NjcmeFtpXSx1MD1qKnRoaXMubXBsKygoaip0aGlzLm1waCsoeFtpXT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmeC5ETTtmb3IoeFtqPWkrdGhpcy5tLnRdKz10aGlzLm0uYW0oMCx1MCx4LGksMCx0aGlzLm0udCk7eFtqXT49eC5EVjspeFtqXS09eC5EVix4Wysral0rK314LmNsYW1wKCkseC5kclNoaWZ0VG8odGhpcy5tLnQseCkseC5jb21wYXJlVG8odGhpcy5tKT49MCYmeC5zdWJUbyh0aGlzLm0seCl9LE1vbnRnb21lcnkucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHgseSxyKXt4Lm11bHRpcGx5VG8oeSxyKSx0aGlzLnJlZHVjZShyKX0sTW9udGdvbWVyeS5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24oeCxyKXt4LnNxdWFyZVRvKHIpLHRoaXMucmVkdWNlKHIpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24ocil7Zm9yKHZhciBpPXRoaXMudC0xO2k+PTA7LS1pKXJbaV09dGhpc1tpXTtyLnQ9dGhpcy50LHIucz10aGlzLnN9LEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21JbnQ9ZnVuY3Rpb24oeCl7dGhpcy50PTEsdGhpcy5zPXg8MD8tMTowLHg+MD90aGlzWzBdPXg6eDwtMT90aGlzWzBdPXgrdGhpcy5EVjp0aGlzLnQ9MH0sQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVN0cmluZz1mdW5jdGlvbihzLGIpe3ZhciBrO2lmKDE2PT1iKWs9NDtlbHNlIGlmKDg9PWIpaz0zO2Vsc2UgaWYoMjU2PT1iKWs9ODtlbHNlIGlmKDI9PWIpaz0xO2Vsc2UgaWYoMzI9PWIpaz01O2Vsc2V7aWYoNCE9YilyZXR1cm4gdm9pZCB0aGlzLmZyb21SYWRpeChzLGIpO2s9Mn10aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIGk9cy5sZW5ndGgsbWk9ITEsc2g9MDstLWk+PTA7KXt2YXIgeD04PT1rPzI1NSZzW2ldOmludEF0KHMsaSk7eDwwP1wiLVwiPT1zLmNoYXJBdChpKSYmKG1pPSEwKToobWk9ITEsMD09c2g/dGhpc1t0aGlzLnQrK109eDpzaCtrPnRoaXMuREI/KHRoaXNbdGhpcy50LTFdfD0oeCYoMTw8dGhpcy5EQi1zaCktMSk8PHNoLHRoaXNbdGhpcy50KytdPXg+PnRoaXMuREItc2gpOnRoaXNbdGhpcy50LTFdfD14PDxzaCwoc2grPWspPj10aGlzLkRCJiYoc2gtPXRoaXMuREIpKX04PT1rJiYwIT0oMTI4JnNbMF0pJiYodGhpcy5zPS0xLHNoPjAmJih0aGlzW3RoaXMudC0xXXw9KDE8PHRoaXMuREItc2gpLTE8PHNoKSksdGhpcy5jbGFtcCgpLG1pJiZCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcyx0aGlzKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuY2xhbXA9ZnVuY3Rpb24oKXtmb3IodmFyIGM9dGhpcy5zJnRoaXMuRE07dGhpcy50PjAmJnRoaXNbdGhpcy50LTFdPT1jOyktLXRoaXMudH0sQmlnSW50ZWdlci5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uKG4scil7dmFyIGk7Zm9yKGk9dGhpcy50LTE7aT49MDstLWkpcltpK25dPXRoaXNbaV07Zm9yKGk9bi0xO2k+PTA7LS1pKXJbaV09MDtyLnQ9dGhpcy50K24sci5zPXRoaXMuc30sQmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvPWZ1bmN0aW9uKG4scil7Zm9yKHZhciBpPW47aTx0aGlzLnQ7KytpKXJbaS1uXT10aGlzW2ldO3IudD1NYXRoLm1heCh0aGlzLnQtbiwwKSxyLnM9dGhpcy5zfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5sU2hpZnRUbz1mdW5jdGlvbihuLHIpe3ZhciBpLGJzPW4ldGhpcy5EQixjYnM9dGhpcy5EQi1icyxibT0oMTw8Y2JzKS0xLGRzPU1hdGguZmxvb3Iobi90aGlzLkRCKSxjPXRoaXMuczw8YnMmdGhpcy5ETTtmb3IoaT10aGlzLnQtMTtpPj0wOy0taSlyW2krZHMrMV09dGhpc1tpXT4+Y2JzfGMsYz0odGhpc1tpXSZibSk8PGJzO2ZvcihpPWRzLTE7aT49MDstLWkpcltpXT0wO3JbZHNdPWMsci50PXRoaXMudCtkcysxLHIucz10aGlzLnMsci5jbGFtcCgpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbz1mdW5jdGlvbihuLHIpe3Iucz10aGlzLnM7dmFyIGRzPU1hdGguZmxvb3Iobi90aGlzLkRCKTtpZihkcz49dGhpcy50KXIudD0wO2Vsc2V7dmFyIGJzPW4ldGhpcy5EQixjYnM9dGhpcy5EQi1icyxibT0oMTw8YnMpLTE7clswXT10aGlzW2RzXT4+YnM7Zm9yKHZhciBpPWRzKzE7aTx0aGlzLnQ7KytpKXJbaS1kcy0xXXw9KHRoaXNbaV0mYm0pPDxjYnMscltpLWRzXT10aGlzW2ldPj5iczticz4wJiYoclt0aGlzLnQtZHMtMV18PSh0aGlzLnMmYm0pPDxjYnMpLHIudD10aGlzLnQtZHMsci5jbGFtcCgpfX0sQmlnSW50ZWdlci5wcm90b3R5cGUuc3ViVG89ZnVuY3Rpb24oYSxyKXtmb3IodmFyIGk9MCxjPTAsbT1NYXRoLm1pbihhLnQsdGhpcy50KTtpPG07KWMrPXRoaXNbaV0tYVtpXSxyW2krK109YyZ0aGlzLkRNLGM+Pj10aGlzLkRCO2lmKGEudDx0aGlzLnQpe2ZvcihjLT1hLnM7aTx0aGlzLnQ7KWMrPXRoaXNbaV0scltpKytdPWMmdGhpcy5ETSxjPj49dGhpcy5EQjtjKz10aGlzLnN9ZWxzZXtmb3IoYys9dGhpcy5zO2k8YS50OyljLT1hW2ldLHJbaSsrXT1jJnRoaXMuRE0sYz4+PXRoaXMuREI7Yy09YS5zfXIucz1jPDA/LTE6MCxjPC0xP3JbaSsrXT10aGlzLkRWK2M6Yz4wJiYocltpKytdPWMpLHIudD1pLHIuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlUbz1mdW5jdGlvbihhLHIpe3ZhciB4PXRoaXMuYWJzKCkseT1hLmFicygpLGk9eC50O2ZvcihyLnQ9aSt5LnQ7LS1pPj0wOylyW2ldPTA7Zm9yKGk9MDtpPHkudDsrK2kpcltpK3gudF09eC5hbSgwLHlbaV0scixpLDAseC50KTtyLnM9MCxyLmNsYW1wKCksdGhpcy5zIT1hLnMmJkJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLHIpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmVUbz1mdW5jdGlvbihyKXtmb3IodmFyIHg9dGhpcy5hYnMoKSxpPXIudD0yKngudDstLWk+PTA7KXJbaV09MDtmb3IoaT0wO2k8eC50LTE7KytpKXt2YXIgYz14LmFtKGkseFtpXSxyLDIqaSwwLDEpOyhyW2kreC50XSs9eC5hbShpKzEsMip4W2ldLHIsMippKzEsYyx4LnQtaS0xKSk+PXguRFYmJihyW2kreC50XS09eC5EVixyW2kreC50KzFdPTEpfXIudD4wJiYocltyLnQtMV0rPXguYW0oaSx4W2ldLHIsMippLDAsMSkpLHIucz0wLHIuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24obSxxLHIpe3ZhciBwbT1tLmFicygpO2lmKCEocG0udDw9MCkpe3ZhciBwdD10aGlzLmFicygpO2lmKHB0LnQ8cG0udClyZXR1cm4gbnVsbCE9cSYmcS5mcm9tSW50KDApLHZvaWQobnVsbCE9ciYmdGhpcy5jb3B5VG8ocikpO251bGw9PXImJihyPW5iaSgpKTt2YXIgeT1uYmkoKSx0cz10aGlzLnMsbXM9bS5zLG5zaD10aGlzLkRCLW5iaXRzKHBtW3BtLnQtMV0pO25zaD4wPyhwbS5sU2hpZnRUbyhuc2gseSkscHQubFNoaWZ0VG8obnNoLHIpKToocG0uY29weVRvKHkpLHB0LmNvcHlUbyhyKSk7dmFyIHlzPXkudCx5MD15W3lzLTFdO2lmKDAhPXkwKXt2YXIgeXQ9eTAqKDE8PHRoaXMuRjEpKyh5cz4xP3lbeXMtMl0+PnRoaXMuRjI6MCksZDE9dGhpcy5GVi95dCxkMj0oMTw8dGhpcy5GMSkveXQsZT0xPDx0aGlzLkYyLGk9ci50LGo9aS15cyx0PW51bGw9PXE/bmJpKCk6cTtmb3IoeS5kbFNoaWZ0VG8oaix0KSxyLmNvbXBhcmVUbyh0KT49MCYmKHJbci50KytdPTEsci5zdWJUbyh0LHIpKSxCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oeXMsdCksdC5zdWJUbyh5LHkpO3kudDx5czspeVt5LnQrK109MDtmb3IoOy0taj49MDspe3ZhciBxZD1yWy0taV09PXkwP3RoaXMuRE06TWF0aC5mbG9vcihyW2ldKmQxKyhyW2ktMV0rZSkqZDIpO2lmKChyW2ldKz15LmFtKDAscWQscixqLDAseXMpKTxxZClmb3IoeS5kbFNoaWZ0VG8oaix0KSxyLnN1YlRvKHQscik7cltpXTwtLXFkOylyLnN1YlRvKHQscil9bnVsbCE9cSYmKHIuZHJTaGlmdFRvKHlzLHEpLHRzIT1tcyYmQmlnSW50ZWdlci5aRVJPLnN1YlRvKHEscSkpLHIudD15cyxyLmNsYW1wKCksbnNoPjAmJnIuclNoaWZ0VG8obnNoLHIpLHRzPDAmJkJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLHIpfX19LEJpZ0ludGVnZXIucHJvdG90eXBlLmludkRpZ2l0PWZ1bmN0aW9uKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIHg9dGhpc1swXTtpZigwPT0oMSZ4KSlyZXR1cm4gMDt2YXIgeT0zJng7cmV0dXJuKHk9KHk9KHk9KHk9eSooMi0oMTUmeCkqeSkmMTUpKigyLSgyNTUmeCkqeSkmMjU1KSooMi0oKDY1NTM1JngpKnkmNjU1MzUpKSY2NTUzNSkqKDIteCp5JXRoaXMuRFYpJXRoaXMuRFYpPjA/dGhpcy5EVi15Oi15fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KHRoaXMudD4wPzEmdGhpc1swXTp0aGlzLnMpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5leHA9ZnVuY3Rpb24oZSx6KXtpZihlPjQyOTQ5NjcyOTV8fGU8MSlyZXR1cm4gQmlnSW50ZWdlci5PTkU7dmFyIHI9bmJpKCkscjI9bmJpKCksZz16LmNvbnZlcnQodGhpcyksaT1uYml0cyhlKS0xO2ZvcihnLmNvcHlUbyhyKTstLWk+PTA7KWlmKHouc3FyVG8ocixyMiksKGUmMTw8aSk+MCl6Lm11bFRvKHIyLGcscik7ZWxzZXt2YXIgdD1yO3I9cjIscjI9dH1yZXR1cm4gei5yZXZlcnQocil9LEJpZ0ludGVnZXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGIpe2lmKHRoaXMuczwwKXJldHVyblwiLVwiK3RoaXMubmVnYXRlKCkudG9TdHJpbmcoYik7dmFyIGs7aWYoMTY9PWIpaz00O2Vsc2UgaWYoOD09YilrPTM7ZWxzZSBpZigyPT1iKWs9MTtlbHNlIGlmKDMyPT1iKWs9NTtlbHNle2lmKDQhPWIpcmV0dXJuIHRoaXMudG9SYWRpeChiKTtrPTJ9dmFyIGQsa209KDE8PGspLTEsbT0hMSxyPVwiXCIsaT10aGlzLnQscD10aGlzLkRCLWkqdGhpcy5EQiVrO2lmKGktLSA+MClmb3IocDx0aGlzLkRCJiYoZD10aGlzW2ldPj5wKT4wJiYobT0hMCxyPWludDJjaGFyKGQpKTtpPj0wOylwPGs/KGQ9KHRoaXNbaV0mKDE8PHApLTEpPDxrLXAsZHw9dGhpc1stLWldPj4ocCs9dGhpcy5EQi1rKSk6KGQ9dGhpc1tpXT4+KHAtPWspJmttLHA8PTAmJihwKz10aGlzLkRCLC0taSkpLGQ+MCYmKG09ITApLG0mJihyKz1pbnQyY2hhcihkKSk7cmV0dXJuIG0/cjpcIjBcIn0sQmlnSW50ZWdlci5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIHI9bmJpKCk7cmV0dXJuIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLHIpLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLmFicz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXN9LEJpZ0ludGVnZXIucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbihhKXt2YXIgcj10aGlzLnMtYS5zO2lmKDAhPXIpcmV0dXJuIHI7dmFyIGk9dGhpcy50O2lmKDAhPShyPWktYS50KSlyZXR1cm4gdGhpcy5zPDA/LXI6cjtmb3IoOy0taT49MDspaWYoMCE9KHI9dGhpc1tpXS1hW2ldKSlyZXR1cm4gcjtyZXR1cm4gMH0sQmlnSW50ZWdlci5wcm90b3R5cGUuYml0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudDw9MD8wOnRoaXMuREIqKHRoaXMudC0xKStuYml0cyh0aGlzW3RoaXMudC0xXV50aGlzLnMmdGhpcy5ETSl9LEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZD1mdW5jdGlvbihhKXt2YXIgcj1uYmkoKTtyZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1UbyhhLG51bGwsciksdGhpcy5zPDAmJnIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTyk+MCYmYS5zdWJUbyhyLHIpLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZFBvd0ludD1mdW5jdGlvbihlLG0pe3ZhciB6O3JldHVybiB6PWU8MjU2fHxtLmlzRXZlbigpP25ldyBDbGFzc2ljKG0pOm5ldyBNb250Z29tZXJ5KG0pLHRoaXMuZXhwKGUseil9LEJpZ0ludGVnZXIuWkVSTz1uYnYoMCksQmlnSW50ZWdlci5PTkU9bmJ2KDEpLE51bGxFeHAucHJvdG90eXBlLmNvbnZlcnQ9bk5vcCxOdWxsRXhwLnByb3RvdHlwZS5yZXZlcnQ9bk5vcCxOdWxsRXhwLnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih4LHkscil7eC5tdWx0aXBseVRvKHkscil9LE51bGxFeHAucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHgscil7eC5zcXVhcmVUbyhyKX0sQmFycmV0dC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih4KXtpZih4LnM8MHx8eC50PjIqdGhpcy5tLnQpcmV0dXJuIHgubW9kKHRoaXMubSk7aWYoeC5jb21wYXJlVG8odGhpcy5tKTwwKXJldHVybiB4O3ZhciByPW5iaSgpO3JldHVybiB4LmNvcHlUbyhyKSx0aGlzLnJlZHVjZShyKSxyfSxCYXJyZXR0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24oeCl7cmV0dXJuIHh9LEJhcnJldHQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih4KXtmb3IoeC5kclNoaWZ0VG8odGhpcy5tLnQtMSx0aGlzLnIyKSx4LnQ+dGhpcy5tLnQrMSYmKHgudD10aGlzLm0udCsxLHguY2xhbXAoKSksdGhpcy5tdS5tdWx0aXBseVVwcGVyVG8odGhpcy5yMix0aGlzLm0udCsxLHRoaXMucTMpLHRoaXMubS5tdWx0aXBseUxvd2VyVG8odGhpcy5xMyx0aGlzLm0udCsxLHRoaXMucjIpO3guY29tcGFyZVRvKHRoaXMucjIpPDA7KXguZEFkZE9mZnNldCgxLHRoaXMubS50KzEpO2Zvcih4LnN1YlRvKHRoaXMucjIseCk7eC5jb21wYXJlVG8odGhpcy5tKT49MDspeC5zdWJUbyh0aGlzLm0seCl9LEJhcnJldHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHgseSxyKXt4Lm11bHRpcGx5VG8oeSxyKSx0aGlzLnJlZHVjZShyKX0sQmFycmV0dC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24oeCxyKXt4LnNxdWFyZVRvKHIpLHRoaXMucmVkdWNlKHIpfTt2YXIgcm5nX3N0YXRlLHJuZ19wb29sLHJuZ19wcHRyLGxvd3ByaW1lcz1bMiwzLDUsNywxMSwxMywxNywxOSwyMywyOSwzMSwzNyw0MSw0Myw0Nyw1Myw1OSw2MSw2Nyw3MSw3Myw3OSw4Myw4OSw5NywxMDEsMTAzLDEwNywxMDksMTEzLDEyNywxMzEsMTM3LDEzOSwxNDksMTUxLDE1NywxNjMsMTY3LDE3MywxNzksMTgxLDE5MSwxOTMsMTk3LDE5OSwyMTEsMjIzLDIyNywyMjksMjMzLDIzOSwyNDEsMjUxLDI1NywyNjMsMjY5LDI3MSwyNzcsMjgxLDI4MywyOTMsMzA3LDMxMSwzMTMsMzE3LDMzMSwzMzcsMzQ3LDM0OSwzNTMsMzU5LDM2NywzNzMsMzc5LDM4MywzODksMzk3LDQwMSw0MDksNDE5LDQyMSw0MzEsNDMzLDQzOSw0NDMsNDQ5LDQ1Nyw0NjEsNDYzLDQ2Nyw0NzksNDg3LDQ5MSw0OTksNTAzLDUwOSw1MjEsNTIzLDU0MSw1NDcsNTU3LDU2Myw1NjksNTcxLDU3Nyw1ODcsNTkzLDU5OSw2MDEsNjA3LDYxMyw2MTcsNjE5LDYzMSw2NDEsNjQzLDY0Nyw2NTMsNjU5LDY2MSw2NzMsNjc3LDY4Myw2OTEsNzAxLDcwOSw3MTksNzI3LDczMyw3MzksNzQzLDc1MSw3NTcsNzYxLDc2OSw3NzMsNzg3LDc5Nyw4MDksODExLDgyMSw4MjMsODI3LDgyOSw4MzksODUzLDg1Nyw4NTksODYzLDg3Nyw4ODEsODgzLDg4Nyw5MDcsOTExLDkxOSw5MjksOTM3LDk0MSw5NDcsOTUzLDk2Nyw5NzEsOTc3LDk4Myw5OTEsOTk3XSxscGxpbT0oMTw8MjYpL2xvd3ByaW1lc1tsb3dwcmltZXMubGVuZ3RoLTFdO2Z1bmN0aW9uIHJuZ19zZWVkX3RpbWUoKXt2YXIgeDt4PShuZXcgRGF0ZSkuZ2V0VGltZSgpLHJuZ19wb29sW3JuZ19wcHRyKytdXj0yNTUmeCxybmdfcG9vbFtybmdfcHB0cisrXV49eD4+OCYyNTUscm5nX3Bvb2xbcm5nX3BwdHIrK11ePXg+PjE2JjI1NSxybmdfcG9vbFtybmdfcHB0cisrXV49eD4+MjQmMjU1LHJuZ19wcHRyPj1ybmdfcHNpemUmJihybmdfcHB0ci09cm5nX3BzaXplKX1pZihCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaHVua1NpemU9ZnVuY3Rpb24ocil7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5MTjIqdGhpcy5EQi9NYXRoLmxvZyhyKSl9LEJpZ0ludGVnZXIucHJvdG90eXBlLnRvUmFkaXg9ZnVuY3Rpb24oYil7aWYobnVsbD09YiYmKGI9MTApLDA9PXRoaXMuc2lnbnVtKCl8fGI8Mnx8Yj4zNilyZXR1cm5cIjBcIjt2YXIgY3M9dGhpcy5jaHVua1NpemUoYiksYT1NYXRoLnBvdyhiLGNzKSxkPW5idihhKSx5PW5iaSgpLHo9bmJpKCkscj1cIlwiO2Zvcih0aGlzLmRpdlJlbVRvKGQseSx6KTt5LnNpZ251bSgpPjA7KXI9KGErei5pbnRWYWx1ZSgpKS50b1N0cmluZyhiKS5zdWJzdHIoMSkrcix5LmRpdlJlbVRvKGQseSx6KTtyZXR1cm4gei5pbnRWYWx1ZSgpLnRvU3RyaW5nKGIpK3J9LEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21SYWRpeD1mdW5jdGlvbihzLGIpe3RoaXMuZnJvbUludCgwKSxudWxsPT1iJiYoYj0xMCk7Zm9yKHZhciBjcz10aGlzLmNodW5rU2l6ZShiKSxkPU1hdGgucG93KGIsY3MpLG1pPSExLGo9MCx3PTAsaT0wO2k8cy5sZW5ndGg7KytpKXt2YXIgeD1pbnRBdChzLGkpO3g8MD9cIi1cIj09cy5jaGFyQXQoaSkmJjA9PXRoaXMuc2lnbnVtKCkmJihtaT0hMCk6KHc9Yip3K3gsKytqPj1jcyYmKHRoaXMuZE11bHRpcGx5KGQpLHRoaXMuZEFkZE9mZnNldCh3LDApLGo9MCx3PTApKX1qPjAmJih0aGlzLmRNdWx0aXBseShNYXRoLnBvdyhiLGopKSx0aGlzLmRBZGRPZmZzZXQodywwKSksbWkmJkJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tTnVtYmVyPWZ1bmN0aW9uKGEsYixjKXtpZihcIm51bWJlclwiPT10eXBlb2YgYilpZihhPDIpdGhpcy5mcm9tSW50KDEpO2Vsc2UgZm9yKHRoaXMuZnJvbU51bWJlcihhLGMpLHRoaXMudGVzdEJpdChhLTEpfHx0aGlzLmJpdHdpc2VUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYS0xKSxvcF9vcix0aGlzKSx0aGlzLmlzRXZlbigpJiZ0aGlzLmRBZGRPZmZzZXQoMSwwKTshdGhpcy5pc1Byb2JhYmxlUHJpbWUoYik7KXRoaXMuZEFkZE9mZnNldCgyLDApLHRoaXMuYml0TGVuZ3RoKCk+YSYmdGhpcy5zdWJUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYS0xKSx0aGlzKTtlbHNle3ZhciB4PW5ldyBBcnJheSx0PTcmYTt4Lmxlbmd0aD0xKyhhPj4zKSxiLm5leHRCeXRlcyh4KSx0PjA/eFswXSY9KDE8PHQpLTE6eFswXT0wLHRoaXMuZnJvbVN0cmluZyh4LDI1Nil9fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5iaXR3aXNlVG89ZnVuY3Rpb24oYSxvcCxyKXt2YXIgaSxmLG09TWF0aC5taW4oYS50LHRoaXMudCk7Zm9yKGk9MDtpPG07KytpKXJbaV09b3AodGhpc1tpXSxhW2ldKTtpZihhLnQ8dGhpcy50KXtmb3IoZj1hLnMmdGhpcy5ETSxpPW07aTx0aGlzLnQ7KytpKXJbaV09b3AodGhpc1tpXSxmKTtyLnQ9dGhpcy50fWVsc2V7Zm9yKGY9dGhpcy5zJnRoaXMuRE0saT1tO2k8YS50OysraSlyW2ldPW9wKGYsYVtpXSk7ci50PWEudH1yLnM9b3AodGhpcy5zLGEucyksci5jbGFtcCgpfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaGFuZ2VCaXQ9ZnVuY3Rpb24obixvcCl7dmFyIHI9QmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KG4pO3JldHVybiB0aGlzLmJpdHdpc2VUbyhyLG9wLHIpLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLmFkZFRvPWZ1bmN0aW9uKGEscil7Zm9yKHZhciBpPTAsYz0wLG09TWF0aC5taW4oYS50LHRoaXMudCk7aTxtOyljKz10aGlzW2ldK2FbaV0scltpKytdPWMmdGhpcy5ETSxjPj49dGhpcy5EQjtpZihhLnQ8dGhpcy50KXtmb3IoYys9YS5zO2k8dGhpcy50OyljKz10aGlzW2ldLHJbaSsrXT1jJnRoaXMuRE0sYz4+PXRoaXMuREI7Yys9dGhpcy5zfWVsc2V7Zm9yKGMrPXRoaXMucztpPGEudDspYys9YVtpXSxyW2krK109YyZ0aGlzLkRNLGM+Pj10aGlzLkRCO2MrPWEuc31yLnM9YzwwPy0xOjAsYz4wP3JbaSsrXT1jOmM8LTEmJihyW2krK109dGhpcy5EVitjKSxyLnQ9aSxyLmNsYW1wKCl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmRNdWx0aXBseT1mdW5jdGlvbihuKXt0aGlzW3RoaXMudF09dGhpcy5hbSgwLG4tMSx0aGlzLDAsMCx0aGlzLnQpLCsrdGhpcy50LHRoaXMuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuZEFkZE9mZnNldD1mdW5jdGlvbihuLHcpe2lmKDAhPW4pe2Zvcig7dGhpcy50PD13Oyl0aGlzW3RoaXMudCsrXT0wO2Zvcih0aGlzW3ddKz1uO3RoaXNbd10+PXRoaXMuRFY7KXRoaXNbd10tPXRoaXMuRFYsKyt3Pj10aGlzLnQmJih0aGlzW3RoaXMudCsrXT0wKSwrK3RoaXNbd119fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseUxvd2VyVG89ZnVuY3Rpb24oYSxuLHIpe3ZhciBqLGk9TWF0aC5taW4odGhpcy50K2EudCxuKTtmb3Ioci5zPTAsci50PWk7aT4wOylyWy0taV09MDtmb3Ioaj1yLnQtdGhpcy50O2k8ajsrK2kpcltpK3RoaXMudF09dGhpcy5hbSgwLGFbaV0scixpLDAsdGhpcy50KTtmb3Ioaj1NYXRoLm1pbihhLnQsbik7aTxqOysraSl0aGlzLmFtKDAsYVtpXSxyLGksMCxuLWkpO3IuY2xhbXAoKX0sQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlVcHBlclRvPWZ1bmN0aW9uKGEsbixyKXstLW47dmFyIGk9ci50PXRoaXMudCthLnQtbjtmb3Ioci5zPTA7LS1pPj0wOylyW2ldPTA7Zm9yKGk9TWF0aC5tYXgobi10aGlzLnQsMCk7aTxhLnQ7KytpKXJbdGhpcy50K2ktbl09dGhpcy5hbShuLWksYVtpXSxyLDAsMCx0aGlzLnQraS1uKTtyLmNsYW1wKCksci5kclNoaWZ0VG8oMSxyKX0sQmlnSW50ZWdlci5wcm90b3R5cGUubW9kSW50PWZ1bmN0aW9uKG4pe2lmKG48PTApcmV0dXJuIDA7dmFyIGQ9dGhpcy5EViVuLHI9dGhpcy5zPDA/bi0xOjA7aWYodGhpcy50PjApaWYoMD09ZClyPXRoaXNbMF0lbjtlbHNlIGZvcih2YXIgaT10aGlzLnQtMTtpPj0wOy0taSlyPShkKnIrdGhpc1tpXSklbjtyZXR1cm4gcn0sQmlnSW50ZWdlci5wcm90b3R5cGUubWlsbGVyUmFiaW49ZnVuY3Rpb24odCl7dmFyIG4xPXRoaXMuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpLGs9bjEuZ2V0TG93ZXN0U2V0Qml0KCk7aWYoazw9MClyZXR1cm4hMTt2YXIgcj1uMS5zaGlmdFJpZ2h0KGspOyh0PXQrMT4+MSk+bG93cHJpbWVzLmxlbmd0aCYmKHQ9bG93cHJpbWVzLmxlbmd0aCk7Zm9yKHZhciBhPW5iaSgpLGk9MDtpPHQ7KytpKXthLmZyb21JbnQobG93cHJpbWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsb3dwcmltZXMubGVuZ3RoKV0pO3ZhciB5PWEubW9kUG93KHIsdGhpcyk7aWYoMCE9eS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpJiYwIT15LmNvbXBhcmVUbyhuMSkpe2Zvcih2YXIgaj0xO2orKzxrJiYwIT15LmNvbXBhcmVUbyhuMSk7KWlmKDA9PSh5PXkubW9kUG93SW50KDIsdGhpcykpLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSkpcmV0dXJuITE7aWYoMCE9eS5jb21wYXJlVG8objEpKXJldHVybiExfX1yZXR1cm4hMH0sQmlnSW50ZWdlci5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgcj1uYmkoKTtyZXR1cm4gdGhpcy5jb3B5VG8ocikscn0sQmlnSW50ZWdlci5wcm90b3R5cGUuaW50VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MCl7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdLXRoaXMuRFY7aWYoMD09dGhpcy50KXJldHVybi0xfWVsc2V7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdO2lmKDA9PXRoaXMudClyZXR1cm4gMH1yZXR1cm4odGhpc1sxXSYoMTw8MzItdGhpcy5EQiktMSk8PHRoaXMuREJ8dGhpc1swXX0sQmlnSW50ZWdlci5wcm90b3R5cGUuYnl0ZVZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MjQ+PjI0fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaG9ydFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MTY+PjE2fSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaWdudW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/LTE6dGhpcy50PD0wfHwxPT10aGlzLnQmJnRoaXNbMF08PTA/MDoxfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS50b0J5dGVBcnJheT1mdW5jdGlvbigpe3ZhciBpPXRoaXMudCxyPW5ldyBBcnJheTtyWzBdPXRoaXMuczt2YXIgZCxwPXRoaXMuREItaSp0aGlzLkRCJTgsaz0wO2lmKGktLSA+MClmb3IocDx0aGlzLkRCJiYoZD10aGlzW2ldPj5wKSE9KHRoaXMucyZ0aGlzLkRNKT4+cCYmKHJbaysrXT1kfHRoaXMuczw8dGhpcy5EQi1wKTtpPj0wOylwPDg/KGQ9KHRoaXNbaV0mKDE8PHApLTEpPDw4LXAsZHw9dGhpc1stLWldPj4ocCs9dGhpcy5EQi04KSk6KGQ9dGhpc1tpXT4+KHAtPTgpJjI1NSxwPD0wJiYocCs9dGhpcy5EQiwtLWkpKSwwIT0oMTI4JmQpJiYoZHw9LTI1NiksMD09ayYmKDEyOCZ0aGlzLnMpIT0oMTI4JmQpJiYrK2ssKGs+MHx8ZCE9dGhpcy5zKSYmKHJbaysrXT1kKTtyZXR1cm4gcn0sQmlnSW50ZWdlci5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEpe3JldHVybiAwPT10aGlzLmNvbXBhcmVUbyhhKX0sQmlnSW50ZWdlci5wcm90b3R5cGUubWluPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbXBhcmVUbyhhKTwwP3RoaXM6YX0sQmlnSW50ZWdlci5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbXBhcmVUbyhhKT4wP3RoaXM6YX0sQmlnSW50ZWdlci5wcm90b3R5cGUuYW5kPWZ1bmN0aW9uKGEpe3ZhciByPW5iaSgpO3JldHVybiB0aGlzLmJpdHdpc2VUbyhhLG9wX2FuZCxyKSxyfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5vcj1mdW5jdGlvbihhKXt2YXIgcj1uYmkoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oYSxvcF9vcixyKSxyfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS54b3I9ZnVuY3Rpb24oYSl7dmFyIHI9bmJpKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKGEsb3BfeG9yLHIpLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZE5vdD1mdW5jdGlvbihhKXt2YXIgcj1uYmkoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oYSxvcF9hbmRub3Qscikscn0sQmlnSW50ZWdlci5wcm90b3R5cGUubm90PWZ1bmN0aW9uKCl7Zm9yKHZhciByPW5iaSgpLGk9MDtpPHRoaXMudDsrK2kpcltpXT10aGlzLkRNJn50aGlzW2ldO3JldHVybiByLnQ9dGhpcy50LHIucz1+dGhpcy5zLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0TGVmdD1mdW5jdGlvbihuKXt2YXIgcj1uYmkoKTtyZXR1cm4gbjwwP3RoaXMuclNoaWZ0VG8oLW4scik6dGhpcy5sU2hpZnRUbyhuLHIpLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0UmlnaHQ9ZnVuY3Rpb24obil7dmFyIHI9bmJpKCk7cmV0dXJuIG48MD90aGlzLmxTaGlmdFRvKC1uLHIpOnRoaXMuclNoaWZ0VG8obixyKSxyfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5nZXRMb3dlc3RTZXRCaXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGk9MDtpPHRoaXMudDsrK2kpaWYoMCE9dGhpc1tpXSlyZXR1cm4gaSp0aGlzLkRCK2xiaXQodGhpc1tpXSk7cmV0dXJuIHRoaXMuczwwP3RoaXMudCp0aGlzLkRCOi0xfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5iaXRDb3VudD1mdW5jdGlvbigpe2Zvcih2YXIgcj0wLHg9dGhpcy5zJnRoaXMuRE0saT0wO2k8dGhpcy50OysraSlyKz1jYml0KHRoaXNbaV1eeCk7cmV0dXJuIHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLnRlc3RCaXQ9ZnVuY3Rpb24obil7dmFyIGo9TWF0aC5mbG9vcihuL3RoaXMuREIpO3JldHVybiBqPj10aGlzLnQ/MCE9dGhpcy5zOjAhPSh0aGlzW2pdJjE8PG4ldGhpcy5EQil9LEJpZ0ludGVnZXIucHJvdG90eXBlLnNldEJpdD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQobixvcF9vcil9LEJpZ0ludGVnZXIucHJvdG90eXBlLmNsZWFyQml0PWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmNoYW5nZUJpdChuLG9wX2FuZG5vdCl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmZsaXBCaXQ9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuY2hhbmdlQml0KG4sb3BfeG9yKX0sQmlnSW50ZWdlci5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3ZhciByPW5iaSgpO3JldHVybiB0aGlzLmFkZFRvKGEscikscn0sQmlnSW50ZWdlci5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oYSl7dmFyIHI9bmJpKCk7cmV0dXJuIHRoaXMuc3ViVG8oYSxyKSxyfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihhKXt2YXIgcj1uYmkoKTtyZXR1cm4gdGhpcy5tdWx0aXBseVRvKGEscikscn0sQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKGEpe3ZhciByPW5iaSgpO3JldHVybiB0aGlzLmRpdlJlbVRvKGEscixudWxsKSxyfSxCaWdJbnRlZ2VyLnByb3RvdHlwZS5yZW1haW5kZXI9ZnVuY3Rpb24oYSl7dmFyIHI9bmJpKCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8oYSxudWxsLHIpLHJ9LEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdmlkZUFuZFJlbWFpbmRlcj1mdW5jdGlvbihhKXt2YXIgcT1uYmkoKSxyPW5iaSgpO3JldHVybiB0aGlzLmRpdlJlbVRvKGEscSxyKSxuZXcgQXJyYXkocSxyKX0sQmlnSW50ZWdlci5wcm90b3R5cGUubW9kUG93PWZ1bmN0aW9uKGUsbSl7dmFyIGsseixpPWUuYml0TGVuZ3RoKCkscj1uYnYoMSk7aWYoaTw9MClyZXR1cm4gcjtrPWk8MTg/MTppPDQ4PzM6aTwxNDQ/NDppPDc2OD81OjYsej1pPDg/bmV3IENsYXNzaWMobSk6bS5pc0V2ZW4oKT9uZXcgQmFycmV0dChtKTpuZXcgTW9udGdvbWVyeShtKTt2YXIgZz1uZXcgQXJyYXksbj0zLGsxPWstMSxrbT0oMTw8ayktMTtpZihnWzFdPXouY29udmVydCh0aGlzKSxrPjEpe3ZhciBnMj1uYmkoKTtmb3Ioei5zcXJUbyhnWzFdLGcyKTtuPD1rbTspZ1tuXT1uYmkoKSx6Lm11bFRvKGcyLGdbbi0yXSxnW25dKSxuKz0yfXZhciB3LHQsaj1lLnQtMSxpczE9ITAscjI9bmJpKCk7Zm9yKGk9bmJpdHMoZVtqXSktMTtqPj0wOyl7Zm9yKGk+PWsxP3c9ZVtqXT4+aS1rMSZrbToodz0oZVtqXSYoMTw8aSsxKS0xKTw8azEtaSxqPjAmJih3fD1lW2otMV0+PnRoaXMuREIraS1rMSkpLG49azswPT0oMSZ3KTspdz4+PTEsLS1uO2lmKChpLT1uKTwwJiYoaSs9dGhpcy5EQiwtLWopLGlzMSlnW3ddLmNvcHlUbyhyKSxpczE9ITE7ZWxzZXtmb3IoO24+MTspei5zcXJUbyhyLHIyKSx6LnNxclRvKHIyLHIpLG4tPTI7bj4wP3ouc3FyVG8ocixyMik6KHQ9cixyPXIyLHIyPXQpLHoubXVsVG8ocjIsZ1t3XSxyKX1mb3IoO2o+PTAmJjA9PShlW2pdJjE8PGkpOyl6LnNxclRvKHIscjIpLHQ9cixyPXIyLHIyPXQsLS1pPDAmJihpPXRoaXMuREItMSwtLWopfXJldHVybiB6LnJldmVydChyKX0sQmlnSW50ZWdlci5wcm90b3R5cGUubW9kSW52ZXJzZT1mdW5jdGlvbihtKXt2YXIgYWM9bS5pc0V2ZW4oKTtpZih0aGlzLmlzRXZlbigpJiZhY3x8MD09bS5zaWdudW0oKSlyZXR1cm4gQmlnSW50ZWdlci5aRVJPO2Zvcih2YXIgdT1tLmNsb25lKCksdj10aGlzLmNsb25lKCksYT1uYnYoMSksYj1uYnYoMCksYz1uYnYoMCksZD1uYnYoMSk7MCE9dS5zaWdudW0oKTspe2Zvcig7dS5pc0V2ZW4oKTspdS5yU2hpZnRUbygxLHUpLGFjPyhhLmlzRXZlbigpJiZiLmlzRXZlbigpfHwoYS5hZGRUbyh0aGlzLGEpLGIuc3ViVG8obSxiKSksYS5yU2hpZnRUbygxLGEpKTpiLmlzRXZlbigpfHxiLnN1YlRvKG0sYiksYi5yU2hpZnRUbygxLGIpO2Zvcig7di5pc0V2ZW4oKTspdi5yU2hpZnRUbygxLHYpLGFjPyhjLmlzRXZlbigpJiZkLmlzRXZlbigpfHwoYy5hZGRUbyh0aGlzLGMpLGQuc3ViVG8obSxkKSksYy5yU2hpZnRUbygxLGMpKTpkLmlzRXZlbigpfHxkLnN1YlRvKG0sZCksZC5yU2hpZnRUbygxLGQpO3UuY29tcGFyZVRvKHYpPj0wPyh1LnN1YlRvKHYsdSksYWMmJmEuc3ViVG8oYyxhKSxiLnN1YlRvKGQsYikpOih2LnN1YlRvKHUsdiksYWMmJmMuc3ViVG8oYSxjKSxkLnN1YlRvKGIsZCkpfXJldHVybiAwIT12LmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSk/QmlnSW50ZWdlci5aRVJPOmQuY29tcGFyZVRvKG0pPj0wP2Quc3VidHJhY3QobSk6ZC5zaWdudW0oKTwwPyhkLmFkZFRvKG0sZCksZC5zaWdudW0oKTwwP2QuYWRkKG0pOmQpOmR9LEJpZ0ludGVnZXIucHJvdG90eXBlLnBvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5leHAoZSxuZXcgTnVsbEV4cCl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmdjZD1mdW5jdGlvbihhKXt2YXIgeD10aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXMuY2xvbmUoKSx5PWEuczwwP2EubmVnYXRlKCk6YS5jbG9uZSgpO2lmKHguY29tcGFyZVRvKHkpPDApe3ZhciB0PXg7eD15LHk9dH12YXIgaT14LmdldExvd2VzdFNldEJpdCgpLGc9eS5nZXRMb3dlc3RTZXRCaXQoKTtpZihnPDApcmV0dXJuIHg7Zm9yKGk8ZyYmKGc9aSksZz4wJiYoeC5yU2hpZnRUbyhnLHgpLHkuclNoaWZ0VG8oZyx5KSk7eC5zaWdudW0oKT4wOykoaT14LmdldExvd2VzdFNldEJpdCgpKT4wJiZ4LnJTaGlmdFRvKGkseCksKGk9eS5nZXRMb3dlc3RTZXRCaXQoKSk+MCYmeS5yU2hpZnRUbyhpLHkpLHguY29tcGFyZVRvKHkpPj0wPyh4LnN1YlRvKHkseCkseC5yU2hpZnRUbygxLHgpKTooeS5zdWJUbyh4LHkpLHkuclNoaWZ0VG8oMSx5KSk7cmV0dXJuIGc+MCYmeS5sU2hpZnRUbyhnLHkpLHl9LEJpZ0ludGVnZXIucHJvdG90eXBlLmlzUHJvYmFibGVQcmltZT1mdW5jdGlvbih0KXt2YXIgaSx4PXRoaXMuYWJzKCk7aWYoMT09eC50JiZ4WzBdPD1sb3dwcmltZXNbbG93cHJpbWVzLmxlbmd0aC0xXSl7Zm9yKGk9MDtpPGxvd3ByaW1lcy5sZW5ndGg7KytpKWlmKHhbMF09PWxvd3ByaW1lc1tpXSlyZXR1cm4hMDtyZXR1cm4hMX1pZih4LmlzRXZlbigpKXJldHVybiExO2ZvcihpPTE7aTxsb3dwcmltZXMubGVuZ3RoOyl7Zm9yKHZhciBtPWxvd3ByaW1lc1tpXSxqPWkrMTtqPGxvd3ByaW1lcy5sZW5ndGgmJm08bHBsaW07KW0qPWxvd3ByaW1lc1tqKytdO2ZvcihtPXgubW9kSW50KG0pO2k8ajspaWYobSVsb3dwcmltZXNbaSsrXT09MClyZXR1cm4hMX1yZXR1cm4geC5taWxsZXJSYWJpbih0KX0sQmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlPWZ1bmN0aW9uKCl7dmFyIHI9bmJpKCk7cmV0dXJuIHRoaXMuc3F1YXJlVG8ocikscn0sQmlnSW50ZWdlci5wcm90b3R5cGUuQmFycmV0dD1CYXJyZXR0LG51bGw9PXJuZ19wb29sKXt2YXIgdDtpZihybmdfcG9vbD1uZXcgQXJyYXkscm5nX3BwdHI9MCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY3J5cHRvKWlmKHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKXt2YXIgdWE9bmV3IFVpbnQ4QXJyYXkoMzIpO2Zvcih3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh1YSksdD0wO3Q8MzI7Kyt0KXJuZ19wb29sW3JuZ19wcHRyKytdPXVhW3RdfWVsc2UgaWYoXCJOZXRzY2FwZVwiPT1uYXZpZ2F0b3IuYXBwTmFtZSYmbmF2aWdhdG9yLmFwcFZlcnNpb248XCI1XCIpe3ZhciB6PXdpbmRvdy5jcnlwdG8ucmFuZG9tKDMyKTtmb3IodD0wO3Q8ei5sZW5ndGg7Kyt0KXJuZ19wb29sW3JuZ19wcHRyKytdPTI1NSZ6LmNoYXJDb2RlQXQodCl9Zm9yKDtybmdfcHB0cjxybmdfcHNpemU7KXQ9TWF0aC5mbG9vcig2NTUzNipNYXRoLnJhbmRvbSgpKSxybmdfcG9vbFtybmdfcHB0cisrXT10Pj4+OCxybmdfcG9vbFtybmdfcHB0cisrXT0yNTUmdDtybmdfcHB0cj0wLHJuZ19zZWVkX3RpbWUoKX1mdW5jdGlvbiBybmdfZ2V0X2J5dGUoKXtpZihudWxsPT1ybmdfc3RhdGUpe2Zvcihybmdfc2VlZF90aW1lKCksKHJuZ19zdGF0ZT1uZXcgQXJjZm91cikuaW5pdChybmdfcG9vbCkscm5nX3BwdHI9MDtybmdfcHB0cjxybmdfcG9vbC5sZW5ndGg7KytybmdfcHB0cilybmdfcG9vbFtybmdfcHB0cl09MDtybmdfcHB0cj0wfXJldHVybiBybmdfc3RhdGUubmV4dCgpfWZ1bmN0aW9uIFNlY3VyZVJhbmRvbSgpe31mdW5jdGlvbiBBcmNmb3VyKCl7dGhpcy5pPTAsdGhpcy5qPTAsdGhpcy5TPW5ldyBBcnJheX1TZWN1cmVSYW5kb20ucHJvdG90eXBlLm5leHRCeXRlcz1mdW5jdGlvbihiYSl7dmFyIGk7Zm9yKGk9MDtpPGJhLmxlbmd0aDsrK2kpYmFbaV09cm5nX2dldF9ieXRlKCl9LEFyY2ZvdXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oa2V5KXt2YXIgaSxqLHQ7Zm9yKGk9MDtpPDI1NjsrK2kpdGhpcy5TW2ldPWk7Zm9yKGo9MCxpPTA7aTwyNTY7KytpKWo9ait0aGlzLlNbaV0ra2V5W2kla2V5Lmxlbmd0aF0mMjU1LHQ9dGhpcy5TW2ldLHRoaXMuU1tpXT10aGlzLlNbal0sdGhpcy5TW2pdPXQ7dGhpcy5pPTAsdGhpcy5qPTB9LEFyY2ZvdXIucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5pPXRoaXMuaSsxJjI1NSx0aGlzLmo9dGhpcy5qK3RoaXMuU1t0aGlzLmldJjI1NSx0PXRoaXMuU1t0aGlzLmldLHRoaXMuU1t0aGlzLmldPXRoaXMuU1t0aGlzLmpdLHRoaXMuU1t0aGlzLmpdPXQsdGhpcy5TW3QrdGhpcy5TW3RoaXMuaV0mMjU1XX07dmFyIHJuZ19wc2l6ZT0yNTY7QmlnSW50ZWdlci5TZWN1cmVSYW5kb209U2VjdXJlUmFuZG9tLEJpZ0ludGVnZXIuQmlnSW50ZWdlcj1CaWdJbnRlZ2VyLG1vZHVsZS5leHBvcnRzPUJpZ0ludGVnZXJ9KS5jYWxsKGNvbW1vbmpzR2xvYmFsKX0pLEJpZ0ludGVnZXI9anNibi5CaWdJbnRlZ2VyLERpZ2VzdEluZm9IZWFkPXtzaGExOlwiMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0XCIsc2hhMjI0OlwiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWNcIixzaGEyNTY6XCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMFwiLHNoYTM4NDpcIjMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwXCIsc2hhNTEyOlwiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDBcIixtZDI6XCIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjAyMDUwMDA0MTBcIixtZDU6XCIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjA1MDUwMDA0MTBcIixyaXBlbWQxNjA6XCIzMDIxMzAwOTA2MDUyYjI0MDMwMjAxMDUwMDA0MTRcIn0sRGlnZXN0QWxncz17c2hhMjU2OnNoYTI1Nn07ZnVuY3Rpb24gUlNBVmVyaWZpZXIobW9kdWx1cyxleHApe2lmKHRoaXMubj1udWxsLHRoaXMuZT0wLCEobnVsbCE9bW9kdWx1cyYmbnVsbCE9ZXhwJiZtb2R1bHVzLmxlbmd0aD4wJiZleHAubGVuZ3RoPjApKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQga2V5IGRhdGFcIik7dGhpcy5uPW5ldyBCaWdJbnRlZ2VyKG1vZHVsdXMsMTYpLHRoaXMuZT1wYXJzZUludChleHAsMTYpfWZ1bmN0aW9uIGdldEFsZ29yaXRobUZyb21EaWdlc3QoaERpZ2VzdEluZm8pe2Zvcih2YXIgYWxnTmFtZSBpbiBEaWdlc3RJbmZvSGVhZCl7dmFyIGhlYWQ9RGlnZXN0SW5mb0hlYWRbYWxnTmFtZV0sbGVuPWhlYWQubGVuZ3RoO2lmKGhEaWdlc3RJbmZvLnN1YnN0cmluZygwLGxlbik9PT1oZWFkKXJldHVybnthbGc6YWxnTmFtZSxoYXNoOmhEaWdlc3RJbmZvLnN1YnN0cmluZyhsZW4pfX1yZXR1cm5bXX1SU0FWZXJpZmllci5wcm90b3R5cGUudmVyaWZ5PWZ1bmN0aW9uKG1zZyxlbmNzaWcpe2VuY3NpZz1lbmNzaWcucmVwbGFjZSgvW14wLTlhLWZdfFtcXHNcXG5dXS9naSxcIlwiKTt2YXIgc2lnPW5ldyBCaWdJbnRlZ2VyKGVuY3NpZywxNik7aWYoc2lnLmJpdExlbmd0aCgpPnRoaXMubi5iaXRMZW5ndGgoKSl0aHJvdyBuZXcgRXJyb3IoXCJTaWduYXR1cmUgZG9lcyBub3QgbWF0Y2ggd2l0aCB0aGUga2V5IG1vZHVsdXMuXCIpO3ZhciBkaWdlc3RJbmZvPWdldEFsZ29yaXRobUZyb21EaWdlc3Qoc2lnLm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKSk7aWYoMD09PWRpZ2VzdEluZm8ubGVuZ3RoKXJldHVybiExO2lmKCFEaWdlc3RBbGdzLmhhc093blByb3BlcnR5KGRpZ2VzdEluZm8uYWxnKSl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoaW5nIGFsZ29yaXRobSBpcyBub3Qgc3VwcG9ydGVkLlwiKTt2YXIgbXNnSGFzaD1EaWdlc3RBbGdzW2RpZ2VzdEluZm8uYWxnXShtc2cpLnRvU3RyaW5nKCk7cmV0dXJuIGRpZ2VzdEluZm8uaGFzaD09PW1zZ0hhc2h9O3ZhciByc2FWZXJpZmllcj1SU0FWZXJpZmllcjtmdW5jdGlvbiBwYWRkaW5nJDEoc3RyKXt2YXIgbW9kPXN0ci5sZW5ndGglNDtyZXR1cm4gMD09PW1vZD9zdHI6c3RyK25ldyBBcnJheSgxKyg0LW1vZCkpLmpvaW4oXCI9XCIpfWZ1bmN0aW9uIGJ5dGVBcnJheVRvU3RyaW5nJDEoYXJyYXkpe2Zvcih2YXIgcmVzdWx0PVwiXCIsaT0wO2k8YXJyYXkubGVuZ3RoO2krKylyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoYXJyYXlbaV0pO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gc3RyaW5nVG9CeXRlQXJyYXkkMShzdHIpe2Zvcih2YXIgYXJyPW5ldyBBcnJheShzdHIubGVuZ3RoKSxhPTA7YTxzdHIubGVuZ3RoO2ErKylhcnJbYV09c3RyLmNoYXJDb2RlQXQoYSk7cmV0dXJuIGFycn1mdW5jdGlvbiBieXRlQXJyYXlUb0hleChyYXcpe2Zvcih2YXIgSEVYPVwiXCIsaT0wO2k8cmF3Lmxlbmd0aDtpKyspe3ZhciBfaGV4PXJhd1tpXS50b1N0cmluZygxNik7SEVYKz0yPT09X2hleC5sZW5ndGg/X2hleDpcIjBcIitfaGV4fXJldHVybiBIRVh9ZnVuY3Rpb24gZW5jb2RlU3RyaW5nKHN0cil7cmV0dXJuIGJhc2U2NEpzLmZyb21CeXRlQXJyYXkoc3RyaW5nVG9CeXRlQXJyYXkkMShlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLGZ1bmN0aW9uKG1hdGNoLHAxKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcIjB4XCIrcDEpfSkpKS5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXCJfXCIpfWZ1bmN0aW9uIGRlY29kZVRvU3RyaW5nKHN0cil7cmV0dXJuIHN0cj1wYWRkaW5nJDEoc3RyKS5yZXBsYWNlKC9cXC0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKSxkZWNvZGVVUklDb21wb25lbnQoYnl0ZUFycmF5VG9TdHJpbmckMShiYXNlNjRKcy50b0J5dGVBcnJheShzdHIpKS5zcGxpdChcIlwiKS5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuXCIlXCIrKFwiMDBcIitjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KS5qb2luKFwiXCIpKX1mdW5jdGlvbiBkZWNvZGVUb0hFWChzdHIpe3JldHVybiBieXRlQXJyYXlUb0hleChiYXNlNjRKcy50b0J5dGVBcnJheShwYWRkaW5nJDEoc3RyKSkpfWZ1bmN0aW9uIGJhc2U2NFRvQmFzZTY0VXJsKGJhc2U2NFN0cmluZyl7dmFyIFNBRkVfVVJMX0VOQ09ESU5HX01BUFBJTkc9e1wiK1wiOlwiLVwiLFwiL1wiOlwiX1wiLFwiPVwiOlwiXCJ9O3JldHVybiBiYXNlNjRTdHJpbmcucmVwbGFjZSgvWytcXC89XS9nLGZ1bmN0aW9uKG0pe3JldHVybiBTQUZFX1VSTF9FTkNPRElOR19NQVBQSU5HW21dfSl9dmFyIGJhc2U2NF8xPXtlbmNvZGVTdHJpbmc6ZW5jb2RlU3RyaW5nLGRlY29kZVRvU3RyaW5nOmRlY29kZVRvU3RyaW5nLGJ5dGVBcnJheVRvU3RyaW5nOmJ5dGVBcnJheVRvU3RyaW5nJDEsc3RyaW5nVG9CeXRlQXJyYXk6c3RyaW5nVG9CeXRlQXJyYXkkMSxwYWRkaW5nOnBhZGRpbmckMSxieXRlQXJyYXlUb0hleDpieXRlQXJyYXlUb0hleCxkZWNvZGVUb0hFWDpkZWNvZGVUb0hFWCxiYXNlNjRUb0Jhc2U2NFVybDpiYXNlNjRUb0Jhc2U2NFVybH0sdXJsSm9pbiQxPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSl7dmFyIGNvbnRleHQsZGVmaW5pdGlvbjtjb250ZXh0PWNvbW1vbmpzR2xvYmFsLGRlZmluaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaW5wdXQ9YXJndW1lbnRzO1wib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJihpbnB1dD1hcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKTt2YXIgam9pbmVkPVtdLnNsaWNlLmNhbGwoaW5wdXQsMCkuam9pbihcIi9cIik7cmV0dXJuIGpvaW5lZC5yZXBsYWNlKC86XFwvL2csXCI6Ly9cIikucmVwbGFjZSgvKFteOlxcc10pXFwvKy9nLFwiJDEvXCIpLnJlcGxhY2UoL1xcLyhcXD98JnwjW14hXSkvZyxcIiQxXCIpLnJlcGxhY2UoLyhcXD8uKylcXD8vZyxcIiQxJlwiKX19LG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWRlZmluaXRpb24oKTpjb250ZXh0LnVybGpvaW49ZGVmaW5pdGlvbigpfSk7ZnVuY3Rpb24gcHJvY2Vzcyhqd2tzKXtyZXR1cm57bW9kdWx1czpiYXNlNjRfMS5kZWNvZGVUb0hFWChqd2tzLm4pLGV4cDpiYXNlNjRfMS5kZWNvZGVUb0hFWChqd2tzLmUpfX1mdW5jdGlvbiBnZXRKV0tTKG9wdGlvbnMsY2Ipe3ZhciB1cmw9b3B0aW9ucy5qd2tzVVJJfHx1cmxKb2luJDEob3B0aW9ucy5pc3MsXCIud2VsbC1rbm93blwiLFwiandrcy5qc29uXCIpO3JldHVybiBjbGllbnQuZ2V0KHVybCkuZW5kKGZ1bmN0aW9uKGVycixkYXRhKXt2YXIgYSxrZXksbWF0Y2hpbmdLZXk9bnVsbDtpZihlcnIpcmV0dXJuIGNiKGVycik7Zm9yKGE9MDthPGRhdGEuYm9keS5rZXlzLmxlbmd0aCYmbnVsbD09PW1hdGNoaW5nS2V5O2ErKykoa2V5PWRhdGEuYm9keS5rZXlzW2FdKS5raWQ9PT1vcHRpb25zLmtpZCYmKG1hdGNoaW5nS2V5PWtleSk7cmV0dXJuIGNiKG51bGwscHJvY2VzcyhtYXRjaGluZ0tleSkpfSl9dmFyIGp3a3M9e3Byb2Nlc3M6cHJvY2VzcyxnZXRKV0tTOmdldEpXS1N9O2Z1bmN0aW9uIENvbmZpZ3VyYXRpb25FcnJvcihtZXNzYWdlKXt0aGlzLm5hbWU9XCJDb25maWd1cmF0aW9uRXJyb3JcIix0aGlzLm1lc3NhZ2U9bWVzc2FnZXx8XCJcIn1mdW5jdGlvbiBUb2tlblZhbGlkYXRpb25FcnJvcihtZXNzYWdlKXt0aGlzLm5hbWU9XCJUb2tlblZhbGlkYXRpb25FcnJvclwiLHRoaXMubWVzc2FnZT1tZXNzYWdlfHxcIlwifUNvbmZpZ3VyYXRpb25FcnJvci5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlLFRva2VuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGU7dmFyIGVycm9yJDE9e0NvbmZpZ3VyYXRpb25FcnJvcjpDb25maWd1cmF0aW9uRXJyb3IsVG9rZW5WYWxpZGF0aW9uRXJyb3I6VG9rZW5WYWxpZGF0aW9uRXJyb3J9O2Z1bmN0aW9uIER1bW15Q2FjaGUoKXt9RHVtbXlDYWNoZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LER1bW15Q2FjaGUucHJvdG90eXBlLmhhcz1mdW5jdGlvbigpe3JldHVybiExfSxEdW1teUNhY2hlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oKXt9O3ZhciBkdW1teUNhY2hlPUR1bW15Q2FjaGUsc3VwcG9ydGVkQWxncz1bXCJSUzI1NlwiXTtmdW5jdGlvbiBJZFRva2VuVmVyaWZpZXIocGFyYW1ldGVycyl7dmFyIG9wdGlvbnM9cGFyYW1ldGVyc3x8e307aWYodGhpcy5qd2tzQ2FjaGU9b3B0aW9ucy5qd2tzQ2FjaGV8fG5ldyBkdW1teUNhY2hlLHRoaXMuZXhwZWN0ZWRBbGc9b3B0aW9ucy5leHBlY3RlZEFsZ3x8XCJSUzI1NlwiLHRoaXMuaXNzdWVyPW9wdGlvbnMuaXNzdWVyLHRoaXMuYXVkaWVuY2U9b3B0aW9ucy5hdWRpZW5jZSx0aGlzLmxlZXdheT1vcHRpb25zLmxlZXdheXx8MCx0aGlzLl9fZGlzYWJsZUV4cGlyYXRpb25DaGVjaz1vcHRpb25zLl9fZGlzYWJsZUV4cGlyYXRpb25DaGVja3x8ITEsdGhpcy5qd2tzVVJJPW9wdGlvbnMuandrc1VSSSx0aGlzLmxlZXdheTwwfHx0aGlzLmxlZXdheT42MCl0aHJvdyBuZXcgZXJyb3IkMS5Db25maWd1cmF0aW9uRXJyb3IoXCJUaGUgbGVld2F5IHNob3VsZCBiZSBwb3NpdGl2ZSBhbmQgbG93ZXIgdGhhbiBhIG1pbnV0ZS5cIik7aWYoLTE9PT1zdXBwb3J0ZWRBbGdzLmluZGV4T2YodGhpcy5leHBlY3RlZEFsZykpdGhyb3cgbmV3IGVycm9yJDEuQ29uZmlndXJhdGlvbkVycm9yKFwiQWxnb3JpdGhtIFwiK3RoaXMuZXhwZWN0ZWRBbGcrXCIgaXMgbm90IHN1cHBvcnRlZC4gKEV4cGVjdGVkIGFsZ3M6IFtcIitzdXBwb3J0ZWRBbGdzLmpvaW4oXCIsXCIpK1wiXSlcIil9SWRUb2tlblZlcmlmaWVyLnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24odG9rZW4sbm9uY2UsY2Ipe3ZhciBqd3Q9dGhpcy5kZWNvZGUodG9rZW4pO2lmKGp3dCBpbnN0YW5jZW9mIEVycm9yKXJldHVybiBjYihqd3QsITEpO3ZhciBoZWFkQW5kUGF5bG9hZD1qd3QuZW5jb2RlZC5oZWFkZXIrXCIuXCIrand0LmVuY29kZWQucGF5bG9hZCxzaWduYXR1cmU9YmFzZTY0XzEuZGVjb2RlVG9IRVgoand0LmVuY29kZWQuc2lnbmF0dXJlKSxhbGc9and0LmhlYWRlci5hbGcsa2lkPWp3dC5oZWFkZXIua2lkLGF1ZD1qd3QucGF5bG9hZC5hdWQsaXNzPWp3dC5wYXlsb2FkLmlzcyxleHA9and0LnBheWxvYWQuZXhwLG5iZj1qd3QucGF5bG9hZC5uYmYsdG5vbmNlPWp3dC5wYXlsb2FkLm5vbmNlfHxudWxsO2lmKHRoaXMuaXNzdWVyIT09aXNzKXJldHVybiBjYihuZXcgZXJyb3IkMS5Ub2tlblZhbGlkYXRpb25FcnJvcihcIklzc3VlciBcIitpc3MrXCIgaXMgbm90IHZhbGlkLlwiKSwhMSk7aWYodGhpcy5hdWRpZW5jZSE9PWF1ZClyZXR1cm4gY2IobmV3IGVycm9yJDEuVG9rZW5WYWxpZGF0aW9uRXJyb3IoXCJBdWRpZW5jZSBcIithdWQrXCIgaXMgbm90IHZhbGlkLlwiKSwhMSk7aWYodGhpcy5leHBlY3RlZEFsZyE9PWFsZylyZXR1cm4gY2IobmV3IGVycm9yJDEuVG9rZW5WYWxpZGF0aW9uRXJyb3IoXCJBbGdvcml0aG0gXCIrYWxnK1wiIGlzIG5vdCBzdXBwb3J0ZWQuIChFeHBlY3RlZCBhbGdzOiBbXCIrc3VwcG9ydGVkQWxncy5qb2luKFwiLFwiKStcIl0pXCIpLCExKTtpZih0bm9uY2UhPT1ub25jZSlyZXR1cm4gY2IobmV3IGVycm9yJDEuVG9rZW5WYWxpZGF0aW9uRXJyb3IoXCJOb25jZSBkb2VzIG5vdCBtYXRjaC5cIiksITEpO3ZhciBleHBpcmF0aW9uRXJyb3I9dGhpcy52ZXJpZnlFeHBBbmROYmYoZXhwLG5iZik7cmV0dXJuIGV4cGlyYXRpb25FcnJvcj9jYihleHBpcmF0aW9uRXJyb3IsITEpOnRoaXMuZ2V0UnNhVmVyaWZpZXIoaXNzLGtpZCxmdW5jdGlvbihlcnIscnNhVmVyaWZpZXIkJDEpe3JldHVybiBlcnI/Y2IoZXJyKTpyc2FWZXJpZmllciQkMS52ZXJpZnkoaGVhZEFuZFBheWxvYWQsc2lnbmF0dXJlKT9jYihudWxsLGp3dC5wYXlsb2FkKTpjYihuZXcgZXJyb3IkMS5Ub2tlblZhbGlkYXRpb25FcnJvcihcIkludmFsaWQgc2lnbmF0dXJlLlwiKSl9KX0sSWRUb2tlblZlcmlmaWVyLnByb3RvdHlwZS52ZXJpZnlFeHBBbmROYmY9ZnVuY3Rpb24oZXhwLG5iZil7dmFyIG5vdz1uZXcgRGF0ZSxleHBEYXRlPW5ldyBEYXRlKDApLG5iZkRhdGU9bmV3IERhdGUoMCk7cmV0dXJuIHRoaXMuX19kaXNhYmxlRXhwaXJhdGlvbkNoZWNrP251bGw6KGV4cERhdGUuc2V0VVRDU2Vjb25kcyhleHArdGhpcy5sZWV3YXkpLG5vdz5leHBEYXRlP25ldyBlcnJvciQxLlRva2VuVmFsaWRhdGlvbkVycm9yKFwiRXhwaXJlZCB0b2tlbi5cIik6dm9pZCAwPT09bmJmP251bGw6KG5iZkRhdGUuc2V0VVRDU2Vjb25kcyhuYmYtdGhpcy5sZWV3YXkpLG5vdzxuYmZEYXRlP25ldyBlcnJvciQxLlRva2VuVmFsaWRhdGlvbkVycm9yKFwiVGhlIHRva2VuIGlzIG5vdCB2YWxpZCB1bnRpbCBsYXRlciBpbiB0aGUgZnV0dXJlLiBQbGVhc2UgY2hlY2sgeW91ciBjb21wdXRlZCBjbG9jay5cIik6bnVsbCkpfSxJZFRva2VuVmVyaWZpZXIucHJvdG90eXBlLnZlcmlmeUV4cEFuZElhdD1mdW5jdGlvbihleHAsaWF0KXt2YXIgbm93PW5ldyBEYXRlLGV4cERhdGU9bmV3IERhdGUoMCksaWF0RGF0ZT1uZXcgRGF0ZSgwKTtyZXR1cm4gdGhpcy5fX2Rpc2FibGVFeHBpcmF0aW9uQ2hlY2s/bnVsbDooZXhwRGF0ZS5zZXRVVENTZWNvbmRzKGV4cCt0aGlzLmxlZXdheSksbm93PmV4cERhdGU/bmV3IGVycm9yJDEuVG9rZW5WYWxpZGF0aW9uRXJyb3IoXCJFeHBpcmVkIHRva2VuLlwiKTooaWF0RGF0ZS5zZXRVVENTZWNvbmRzKGlhdC10aGlzLmxlZXdheSksbm93PGlhdERhdGU/bmV3IGVycm9yJDEuVG9rZW5WYWxpZGF0aW9uRXJyb3IoXCJUaGUgdG9rZW4gd2FzIGlzc3VlZCBpbiB0aGUgZnV0dXJlLiBQbGVhc2UgY2hlY2sgeW91ciBjb21wdXRlZCBjbG9jay5cIik6bnVsbCkpfSxJZFRva2VuVmVyaWZpZXIucHJvdG90eXBlLmdldFJzYVZlcmlmaWVyPWZ1bmN0aW9uKGlzcyxraWQsY2Ipe3ZhciBfdGhpcz10aGlzLGNhY2hla2V5PWlzcytraWQ7aWYodGhpcy5qd2tzQ2FjaGUuaGFzKGNhY2hla2V5KSl7dmFyIGtleUluZm89dGhpcy5qd2tzQ2FjaGUuZ2V0KGNhY2hla2V5KTtjYihudWxsLG5ldyByc2FWZXJpZmllcihrZXlJbmZvLm1vZHVsdXMsa2V5SW5mby5leHApKX1lbHNlIGp3a3MuZ2V0SldLUyh7andrc1VSSTp0aGlzLmp3a3NVUkksaXNzOmlzcyxraWQ6a2lkfSxmdW5jdGlvbihlcnIsa2V5SW5mbyl7cmV0dXJuIGVycj9jYihlcnIpOihfdGhpcy5qd2tzQ2FjaGUuc2V0KGNhY2hla2V5LGtleUluZm8pLGNiKG51bGwsbmV3IHJzYVZlcmlmaWVyKGtleUluZm8ubW9kdWx1cyxrZXlJbmZvLmV4cCkpKX0pfSxJZFRva2VuVmVyaWZpZXIucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbih0b2tlbil7dmFyIGhlYWRlcixwYXlsb2FkLHBhcnRzPXRva2VuLnNwbGl0KFwiLlwiKTtpZigzIT09cGFydHMubGVuZ3RoKXJldHVybiBuZXcgZXJyb3IkMS5Ub2tlblZhbGlkYXRpb25FcnJvcihcIkNhbm5vdCBkZWNvZGUgYSBtYWxmb3JtZWQgSldUXCIpO3RyeXtoZWFkZXI9SlNPTi5wYXJzZShiYXNlNjRfMS5kZWNvZGVUb1N0cmluZyhwYXJ0c1swXSkpLHBheWxvYWQ9SlNPTi5wYXJzZShiYXNlNjRfMS5kZWNvZGVUb1N0cmluZyhwYXJ0c1sxXSkpfWNhdGNoKGUpe3JldHVybiBuZXcgZXJyb3IkMS5Ub2tlblZhbGlkYXRpb25FcnJvcihcIlRva2VuIGhlYWRlciBvciBwYXlsb2FkIGlzIG5vdCB2YWxpZCBKU09OXCIpfXJldHVybntoZWFkZXI6aGVhZGVyLHBheWxvYWQ6cGF5bG9hZCxlbmNvZGVkOntoZWFkZXI6cGFydHNbMF0scGF5bG9hZDpwYXJ0c1sxXSxzaWduYXR1cmU6cGFydHNbMl19fX0sSWRUb2tlblZlcmlmaWVyLnByb3RvdHlwZS52YWxpZGF0ZUFjY2Vzc1Rva2VuPWZ1bmN0aW9uKGFjY2Vzc1Rva2VuLGFsZyxhdEhhc2gsY2Ipe2lmKHRoaXMuZXhwZWN0ZWRBbGchPT1hbGcpcmV0dXJuIGNiKG5ldyBlcnJvciQxLlRva2VuVmFsaWRhdGlvbkVycm9yKFwiQWxnb3JpdGhtIFwiK2FsZytcIiBpcyBub3Qgc3VwcG9ydGVkLiAoRXhwZWN0ZWQgYWxnOiBcIit0aGlzLmV4cGVjdGVkQWxnK1wiKVwiKSk7dmFyIHNoYTI1NkFjY2Vzc1Rva2VuPXNoYTI1NihhY2Nlc3NUb2tlbiksaGFzaFRvSGV4PWVuY0hleC5zdHJpbmdpZnkoc2hhMjU2QWNjZXNzVG9rZW4pLGhhc2hUb0hleEZpcnN0SGFsZj1oYXNoVG9IZXguc3Vic3RyaW5nKDAsaGFzaFRvSGV4Lmxlbmd0aC8yKSxoYXNoRmlyc3RIYWxmV29yZEFycmF5PWVuY0hleC5wYXJzZShoYXNoVG9IZXhGaXJzdEhhbGYpLGhhc2hGaXJzdEhhbGZCYXNlNjQ9ZW5jQmFzZTY0LnN0cmluZ2lmeShoYXNoRmlyc3RIYWxmV29yZEFycmF5KTtyZXR1cm4gY2IoYmFzZTY0XzEuYmFzZTY0VG9CYXNlNjRVcmwoaGFzaEZpcnN0SGFsZkJhc2U2NCkhPT1hdEhhc2g/bmV3IGVycm9yJDEuVG9rZW5WYWxpZGF0aW9uRXJyb3IoXCJJbnZhbGlkIGFjY2Vzc190b2tlblwiKTpudWxsKX07dmFyIHNyYz1JZFRva2VuVmVyaWZpZXI7ZnVuY3Rpb24gUGx1Z2luSGFuZGxlcih3ZWJBdXRoLHBsdWdpbnMpe3RoaXMucGx1Z2lucz1wbHVnaW5zO2Zvcih2YXIgYT0wO2E8dGhpcy5wbHVnaW5zLmxlbmd0aDthKyspe2lmKHRoaXMucGx1Z2luc1thXS52ZXJzaW9uIT09dmVyc2lvbi5yYXcpe3ZhciBwbHVnaW5OYW1lPVwiXCI7dGhyb3cgdGhpcy5wbHVnaW5zW2FdLmNvbnN0cnVjdG9yJiZ0aGlzLnBsdWdpbnNbYV0uY29uc3RydWN0b3IubmFtZSYmKHBsdWdpbk5hbWU9dGhpcy5wbHVnaW5zW2FdLmNvbnN0cnVjdG9yLm5hbWUpLG5ldyBFcnJvcihcIlBsdWdpbiBcIitwbHVnaW5OYW1lK1wiIHZlcnNpb24gKFwiK3RoaXMucGx1Z2luc1thXS52ZXJzaW9uK1wiKSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBTREsgdmVyc2lvbiAoXCIrdmVyc2lvbi5yYXcrXCIpXCIpfXRoaXMucGx1Z2luc1thXS5zZXRXZWJBdXRoKHdlYkF1dGgpfX1mdW5jdGlvbiByYW5kb21TdHJpbmcobGVuZ3RoKXt2YXIgYnl0ZXM9bmV3IFVpbnQ4QXJyYXkobGVuZ3RoKSxyZXN1bHQ9W10sY2hhcnNldD1cIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotLl9+XCIsY3J5cHRvT2JqPXdpbmRvd0hhbmRsZXIuZ2V0V2luZG93KCkuY3J5cHRvfHx3aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLm1zQ3J5cHRvO2lmKCFjcnlwdG9PYmopcmV0dXJuIG51bGw7Zm9yKHZhciByYW5kb209Y3J5cHRvT2JqLmdldFJhbmRvbVZhbHVlcyhieXRlcyksYT0wO2E8cmFuZG9tLmxlbmd0aDthKyspcmVzdWx0LnB1c2goY2hhcnNldFtyYW5kb21bYV0lY2hhcnNldC5sZW5ndGhdKTtyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIil9UGx1Z2luSGFuZGxlci5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGV4dGVuc2liaWxpdHlQb2ludCl7Zm9yKHZhciBhPTA7YTx0aGlzLnBsdWdpbnMubGVuZ3RoO2ErKylpZih0aGlzLnBsdWdpbnNbYV0uc3VwcG9ydHMoZXh0ZW5zaWJpbGl0eVBvaW50KSlyZXR1cm4gdGhpcy5wbHVnaW5zW2FdLmluaXQoKTtyZXR1cm4gbnVsbH07dmFyIHJhbmRvbT17cmFuZG9tU3RyaW5nOnJhbmRvbVN0cmluZ30sTUlOVVRFU18xNT0xLzk2LE1JTlVURVNfMzA9MS80OCxERUZBVUxUX05BTUVTUEFDRT1cImNvbS5hdXRoMC5hdXRoLlwiO2Z1bmN0aW9uIFRyYW5zYWN0aW9uTWFuYWdlcihvcHRpb25zKXt2YXIgdHJhbnNhY3Rpb249b3B0aW9ucy50cmFuc2FjdGlvbnx8e307dGhpcy5uYW1lc3BhY2U9dHJhbnNhY3Rpb24ubmFtZXNwYWNlfHxERUZBVUxUX05BTUVTUEFDRSx0aGlzLmtleUxlbmd0aD10cmFuc2FjdGlvbi5rZXlMZW5ndGh8fDMyLHRoaXMuc3RvcmFnZT1uZXcgU3RvcmFnZShvcHRpb25zKSx0aGlzLm9wdGlvbnM9b3B0aW9uc31mdW5jdGlvbiBJZnJhbWVIYW5kbGVyKG9wdGlvbnMpe2lmKHRoaXMudXJsPW9wdGlvbnMudXJsLHRoaXMuY2FsbGJhY2s9b3B0aW9ucy5jYWxsYmFjayx0aGlzLnRpbWVvdXQ9b3B0aW9ucy50aW1lb3V0fHw2ZTQsdGhpcy50aW1lb3V0Q2FsbGJhY2s9b3B0aW9ucy50aW1lb3V0Q2FsbGJhY2t8fG51bGwsdGhpcy5ldmVudExpc3RlbmVyVHlwZT1vcHRpb25zLmV2ZW50TGlzdGVuZXJUeXBlfHxcIm1lc3NhZ2VcIix0aGlzLmlmcmFtZT1udWxsLHRoaXMudGltZW91dEhhbmRsZT1udWxsLHRoaXMuX2Rlc3Ryb3lUaW1lb3V0PW51bGwsdGhpcy50cmFuc2llbnRNZXNzYWdlRXZlbnRMaXN0ZW5lcj1udWxsLHRoaXMucHJveHlFdmVudExpc3RlbmVyPW51bGwsdGhpcy5ldmVudFZhbGlkYXRvcj1vcHRpb25zLmV2ZW50VmFsaWRhdG9yfHx7aXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiEwfX0sXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5jYWxsYmFjayl0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBydW5XZWJNZXNzYWdlRmxvdyhhdXRob3JpemVVcmwsb3B0aW9ucyxjYWxsYmFjayl7bmV3IElmcmFtZUhhbmRsZXIoe3VybDphdXRob3JpemVVcmwsZXZlbnRMaXN0ZW5lclR5cGU6XCJtZXNzYWdlXCIsY2FsbGJhY2s6ZnVuY3Rpb24oZXZlbnREYXRhKXtjYWxsYmFjayhudWxsLGV2ZW50RGF0YSl9LHRpbWVvdXQ6b3B0aW9ucy50aW1lb3V0LGV2ZW50VmFsaWRhdG9yOntpc1ZhbGlkOmZ1bmN0aW9uKGV2ZW50RGF0YSl7cmV0dXJuXCJhdXRob3JpemF0aW9uX3Jlc3BvbnNlXCI9PT1ldmVudERhdGEuZXZlbnQuZGF0YS50eXBlJiZvcHRpb25zLnN0YXRlPT09ZXZlbnREYXRhLmV2ZW50LmRhdGEucmVzcG9uc2Uuc3RhdGV9fSx0aW1lb3V0Q2FsbGJhY2s6ZnVuY3Rpb24oKXtjYWxsYmFjayh7ZXJyb3I6XCJ0aW1lb3V0XCIsZXJyb3JfZGVzY3JpcHRpb246XCJUaW1lb3V0IGR1cmluZyBleGVjdXRpbmcgd2ViX21lc3NhZ2UgY29tbXVuaWNhdGlvblwiLHN0YXRlOm9wdGlvbnMuc3RhdGV9KX19KS5pbml0KCl9ZnVuY3Rpb24gV2ViTWVzc2FnZUhhbmRsZXIod2ViQXV0aCl7dGhpcy53ZWJBdXRoPXdlYkF1dGgsdGhpcy53YXJuPW5ldyBXYXJuKHdlYkF1dGguYmFzZU9wdGlvbnMpfWZ1bmN0aW9uIENyb3NzT3JpZ2luQXV0aGVudGljYXRpb24od2ViQXV0aCxvcHRpb25zKXt0aGlzLndlYkF1dGg9d2ViQXV0aCx0aGlzLmJhc2VPcHRpb25zPW9wdGlvbnMsdGhpcy5yZXF1ZXN0PW5ldyBSZXF1ZXN0QnVpbGRlcihvcHRpb25zKSx0aGlzLndlYk1lc3NhZ2VIYW5kbGVyPW5ldyBXZWJNZXNzYWdlSGFuZGxlcih3ZWJBdXRoKSx0aGlzLnN0b3JhZ2U9bmV3IFN0b3JhZ2Uob3B0aW9ucyl9ZnVuY3Rpb24gZ2V0RnJhZ21lbnQobmFtZSl7dmFyIHBhcnRzPShcIiZcIit3aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKS5zcGxpdChcIiZcIituYW1lK1wiPVwiKTtpZigyPT09cGFydHMubGVuZ3RoKXJldHVybiBwYXJ0cy5wb3AoKS5zcGxpdChcIiZcIikuc2hpZnQoKX1mdW5jdGlvbiBjcmVhdGVLZXkob3JpZ2luLGNvSWQpe3JldHVybltcImNvL3ZlcmlmaWVyXCIsZW5jb2RlVVJJQ29tcG9uZW50KG9yaWdpbiksZW5jb2RlVVJJQ29tcG9uZW50KGNvSWQpXS5qb2luKFwiL1wiKX1mdW5jdGlvbiB0cnlHZXRWZXJpZmllcihzdG9yYWdlLGtleSl7dHJ5e3ZhciB2ZXJpZmllcj1zdG9yYWdlLmdldEl0ZW0oa2V5KTtyZXR1cm4gc3RvcmFnZS5yZW1vdmVJdGVtKGtleSksdmVyaWZpZXJ8fFwiXCJ9Y2F0Y2goZSl7cmV0dXJuXCJcIn19ZnVuY3Rpb24gUmVkaXJlY3QoYXV0aDAsb3B0aW9ucyl7dGhpcy53ZWJBdXRoPWF1dGgwLHRoaXMuYmFzZU9wdGlvbnM9b3B0aW9ucyx0aGlzLmNyb3NzT3JpZ2luQXV0aGVudGljYXRpb249bmV3IENyb3NzT3JpZ2luQXV0aGVudGljYXRpb24oYXV0aDAsdGhpcy5iYXNlT3B0aW9ucyksdGhpcy53YXJuPW5ldyBXYXJuKHtkaXNhYmxlV2FybmluZ3M6ISFvcHRpb25zLl9kaXNhYmxlRGVwcmVjYXRpb25XYXJuaW5nc30pfVRyYW5zYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbihvcHRpb25zKXtpZighb3B0aW9ucy5yZXNwb25zZVR5cGUpdGhyb3cgbmV3IEVycm9yKFwicmVzcG9uc2VUeXBlIGlzIHJlcXVpcmVkXCIpO3ZhciBsYXN0VXNlZENvbm5lY3Rpb249b3B0aW9ucy5yZWFsbXx8b3B0aW9ucy5jb25uZWN0aW9uLHJlc3BvbnNlVHlwZUluY2x1ZGVzSWRUb2tlbj0tMSE9PW9wdGlvbnMucmVzcG9uc2VUeXBlLmluZGV4T2YoXCJpZF90b2tlblwiKSx0cmFuc2FjdGlvbj10aGlzLmdlbmVyYXRlVHJhbnNhY3Rpb24ob3B0aW9ucy5hcHBTdGF0ZSxvcHRpb25zLnN0YXRlLG9wdGlvbnMubm9uY2UsbGFzdFVzZWRDb25uZWN0aW9uLHJlc3BvbnNlVHlwZUluY2x1ZGVzSWRUb2tlbik7cmV0dXJuIG9wdGlvbnMuc3RhdGV8fChvcHRpb25zLnN0YXRlPXRyYW5zYWN0aW9uLnN0YXRlKSxyZXNwb25zZVR5cGVJbmNsdWRlc0lkVG9rZW4mJiFvcHRpb25zLm5vbmNlJiYob3B0aW9ucy5ub25jZT10cmFuc2FjdGlvbi5ub25jZSksb3B0aW9uc30sVHJhbnNhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5nZW5lcmF0ZVRyYW5zYWN0aW9uPWZ1bmN0aW9uKGFwcFN0YXRlLHN0YXRlLG5vbmNlLGxhc3RVc2VkQ29ubmVjdGlvbixnZW5lcmF0ZU5vbmNlKXtyZXR1cm4gc3RhdGU9c3RhdGV8fHJhbmRvbS5yYW5kb21TdHJpbmcodGhpcy5rZXlMZW5ndGgpLG5vbmNlPW5vbmNlfHwoZ2VuZXJhdGVOb25jZT9yYW5kb20ucmFuZG9tU3RyaW5nKHRoaXMua2V5TGVuZ3RoKTpudWxsKSx3aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLmxvY2F0aW9uLmhvc3Q9PT10aGlzLm9wdGlvbnMuZG9tYWlufHx0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm5hbWVzcGFjZStzdGF0ZSx7bm9uY2U6bm9uY2UsYXBwU3RhdGU6YXBwU3RhdGUsc3RhdGU6c3RhdGUsbGFzdFVzZWRDb25uZWN0aW9uOmxhc3RVc2VkQ29ubmVjdGlvbn0se2V4cGlyZXM6TUlOVVRFU18zMH0pLHtzdGF0ZTpzdGF0ZSxub25jZTpub25jZX19LFRyYW5zYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0U3RvcmVkVHJhbnNhY3Rpb249ZnVuY3Rpb24oc3RhdGUpe3ZhciB0cmFuc2FjdGlvbkRhdGE7cmV0dXJuIHRyYW5zYWN0aW9uRGF0YT10aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm5hbWVzcGFjZStzdGF0ZSksdGhpcy5jbGVhclRyYW5zYWN0aW9uKHN0YXRlKSx0cmFuc2FjdGlvbkRhdGF9LFRyYW5zYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY2xlYXJUcmFuc2FjdGlvbj1mdW5jdGlvbihzdGF0ZSl7dGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5uYW1lc3BhY2Urc3RhdGUpfSxJZnJhbWVIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXMsX3dpbmRvdz13aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpO3N3aXRjaCh0aGlzLmlmcmFtZT1fd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLnByb3h5RXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlKXtfdGhpcy5ldmVudExpc3RlbmVyKGUpfSx0aGlzLmV2ZW50TGlzdGVuZXJUeXBlKXtjYXNlXCJtZXNzYWdlXCI6dGhpcy5ldmVudFNvdXJjZU9iamVjdD1fd2luZG93O2JyZWFrO2Nhc2VcImxvYWRcIjp0aGlzLmV2ZW50U291cmNlT2JqZWN0PXRoaXMuaWZyYW1lO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZXZlbnQgbGlzdGVuZXIgdHlwZTogXCIrdGhpcy5ldmVudExpc3RlbmVyVHlwZSl9dGhpcy5ldmVudFNvdXJjZU9iamVjdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRMaXN0ZW5lclR5cGUsdGhpcy5wcm94eUV2ZW50TGlzdGVuZXIsITEpLF93aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmlmcmFtZSksdGhpcy5pZnJhbWUuc3JjPXRoaXMudXJsLHRoaXMudGltZW91dEhhbmRsZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7X3RoaXMudGltZW91dEhhbmRsZXIoKX0sdGhpcy50aW1lb3V0KX0sSWZyYW1lSGFuZGxlci5wcm90b3R5cGUuZXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudCl7dmFyIGV2ZW50RGF0YT17ZXZlbnQ6ZXZlbnQsc291cmNlT2JqZWN0OnRoaXMuZXZlbnRTb3VyY2VPYmplY3R9O3RoaXMuZXZlbnRWYWxpZGF0b3IuaXNWYWxpZChldmVudERhdGEpJiYodGhpcy5kZXN0cm95KCksdGhpcy5jYWxsYmFjayhldmVudERhdGEpKX0sSWZyYW1lSGFuZGxlci5wcm90b3R5cGUudGltZW91dEhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKSx0aGlzLnRpbWVvdXRDYWxsYmFjayYmdGhpcy50aW1lb3V0Q2FsbGJhY2soKX0sSWZyYW1lSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRIYW5kbGUpLHRoaXMuX2Rlc3Ryb3lUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtfdGhpcy5ldmVudFNvdXJjZU9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKF90aGlzLmV2ZW50TGlzdGVuZXJUeXBlLF90aGlzLnByb3h5RXZlbnRMaXN0ZW5lciwhMSksX3RoaXMuaWZyYW1lLnBhcmVudE5vZGUmJl90aGlzLmlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzLmlmcmFtZSl9LDApfSxXZWJNZXNzYWdlSGFuZGxlci5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3ZhciBfdGhpcz10aGlzO29wdGlvbnMucmVzcG9uc2VNb2RlPVwid2ViX21lc3NhZ2VcIixvcHRpb25zLnByb21wdD1cIm5vbmVcIjt2YXIgY3VycmVudE9yaWdpbj13aW5kb3dIYW5kbGVyLmdldE9yaWdpbigpLHJlZGlyZWN0VXJpT3JpZ2luPW9iamVjdEhlbHBlci5nZXRPcmlnaW5Gcm9tVXJsKG9wdGlvbnMucmVkaXJlY3RVcmkpO2lmKHJlZGlyZWN0VXJpT3JpZ2luJiZjdXJyZW50T3JpZ2luIT09cmVkaXJlY3RVcmlPcmlnaW4pcmV0dXJuIGNiKHtlcnJvcjpcIm9yaWdpbl9taXNtYXRjaFwiLGVycm9yX2Rlc2NyaXB0aW9uOlwiVGhlIHJlZGlyZWN0VXJpJ3Mgb3JpZ2luIChcIityZWRpcmVjdFVyaU9yaWdpbitcIikgc2hvdWxkIG1hdGNoIHRoZSB3aW5kb3cncyBvcmlnaW4gKFwiK2N1cnJlbnRPcmlnaW4rXCIpLlwifSk7cnVuV2ViTWVzc2FnZUZsb3codGhpcy53ZWJBdXRoLmNsaWVudC5idWlsZEF1dGhvcml6ZVVybChvcHRpb25zKSxvcHRpb25zLGZ1bmN0aW9uKGVycixldmVudERhdGEpe3ZhciBlcnJvcj1lcnI7aWYoIWVyciYmZXZlbnREYXRhLmV2ZW50LmRhdGEucmVzcG9uc2UuZXJyb3ImJihlcnJvcj1ldmVudERhdGEuZXZlbnQuZGF0YS5yZXNwb25zZSksIWVycm9yKXt2YXIgcGFyc2VkSGFzaD1ldmVudERhdGEuZXZlbnQuZGF0YS5yZXNwb25zZTtyZXR1cm4gX3RoaXMud2ViQXV0aC52YWxpZGF0ZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uob3B0aW9ucyxwYXJzZWRIYXNoLGNiKX1yZXR1cm5cImNvbnNlbnRfcmVxdWlyZWRcIj09PWVycm9yLmVycm9yJiZcImxvY2FsaG9zdFwiPT09d2luZG93SGFuZGxlci5nZXRXaW5kb3coKS5sb2NhdGlvbi5ob3N0bmFtZSYmX3RoaXMud2Fybi53YXJuaW5nKFwiQ29uc2VudCBSZXF1aXJlZC4gQ29uc2VudCBjYW4ndCBiZSBza2lwcGVkIG9uIGxvY2FsaG9zdC4gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vYXV0aDAuY29tL2RvY3MvYXBpLWF1dGgvdXNlci1jb25zZW50I3NraXBwaW5nLWNvbnNlbnQtZm9yLWZpcnN0LXBhcnR5LWNsaWVudHNcIiksX3RoaXMud2ViQXV0aC50cmFuc2FjdGlvbk1hbmFnZXIuY2xlYXJUcmFuc2FjdGlvbihlcnJvci5zdGF0ZSksY2Iob2JqZWN0SGVscGVyLnBpY2soZXJyb3IsW1wiZXJyb3JcIixcImVycm9yX2Rlc2NyaXB0aW9uXCJdKSl9KX0sQ3Jvc3NPcmlnaW5BdXRoZW50aWNhdGlvbi5wcm90b3R5cGUubG9naW49ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIF90aGlzPXRoaXMsdXJsPXVybEpvaW4odGhpcy5iYXNlT3B0aW9ucy5yb290VXJsLFwiL2NvL2F1dGhlbnRpY2F0ZVwiKTtvcHRpb25zLnVzZXJuYW1lPW9wdGlvbnMudXNlcm5hbWV8fG9wdGlvbnMuZW1haWwsZGVsZXRlIG9wdGlvbnMuZW1haWw7dmFyIGF1dGhlbnRpY2F0ZUJvZHk9e2NsaWVudF9pZDpvcHRpb25zLmNsaWVudElEfHx0aGlzLmJhc2VPcHRpb25zLmNsaWVudElELHVzZXJuYW1lOm9wdGlvbnMudXNlcm5hbWV9O29wdGlvbnMucGFzc3dvcmQmJihhdXRoZW50aWNhdGVCb2R5LnBhc3N3b3JkPW9wdGlvbnMucGFzc3dvcmQpLG9wdGlvbnMub3RwJiYoYXV0aGVudGljYXRlQm9keS5vdHA9b3B0aW9ucy5vdHApO3ZhciByZWFsbT1vcHRpb25zLnJlYWxtfHx0aGlzLmJhc2VPcHRpb25zLnJlYWxtO2lmKHJlYWxtKXt2YXIgY3JlZGVudGlhbFR5cGU9b3B0aW9ucy5jcmVkZW50aWFsVHlwZXx8dGhpcy5iYXNlT3B0aW9ucy5jcmVkZW50aWFsVHlwZXx8XCJodHRwOi8vYXV0aDAuY29tL29hdXRoL2dyYW50LXR5cGUvcGFzc3dvcmQtcmVhbG1cIjthdXRoZW50aWNhdGVCb2R5LnJlYWxtPXJlYWxtLGF1dGhlbnRpY2F0ZUJvZHkuY3JlZGVudGlhbF90eXBlPWNyZWRlbnRpYWxUeXBlfWVsc2UgYXV0aGVudGljYXRlQm9keS5jcmVkZW50aWFsX3R5cGU9XCJwYXNzd29yZFwiO3RoaXMucmVxdWVzdC5wb3N0KHVybCkud2l0aENyZWRlbnRpYWxzKCkuc2VuZChhdXRoZW50aWNhdGVCb2R5KS5lbmQoZnVuY3Rpb24oZXJyLGRhdGEpe2lmKGVycil7dmFyIGVycm9yT2JqZWN0PWVyci5yZXNwb25zZSYmZXJyLnJlc3BvbnNlLmJvZHl8fHtlcnJvcjpcInJlcXVlc3RfZXJyb3JcIixlcnJvcl9kZXNjcmlwdGlvbjpKU09OLnN0cmluZ2lmeShlcnIpfTtyZXR1cm4gd3JhcENhbGxiYWNrKGNiLHtmb3JjZUxlZ2FjeUVycm9yOiEwfSkoZXJyb3JPYmplY3QpfXZhciBwb3B1cE1vZGU9ITA9PT1vcHRpb25zLnBvcHVwO29wdGlvbnM9b2JqZWN0SGVscGVyLmJsYWNrbGlzdChvcHRpb25zLFtcInBhc3N3b3JkXCIsXCJjcmVkZW50aWFsVHlwZVwiLFwib3RwXCIsXCJwb3B1cFwiXSk7dmFyIGF1dGhvcml6ZU9wdGlvbnM9b2JqZWN0SGVscGVyLm1lcmdlKG9wdGlvbnMpLndpdGgoe2xvZ2luVGlja2V0OmRhdGEuYm9keS5sb2dpbl90aWNrZXR9KSxrZXk9Y3JlYXRlS2V5KF90aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsZGF0YS5ib2R5LmNvX2lkKTtfdGhpcy5zdG9yYWdlLnNldEl0ZW0oa2V5LGRhdGEuYm9keS5jb192ZXJpZmllcix7ZXhwaXJlczpNSU5VVEVTXzE1fSkscG9wdXBNb2RlP190aGlzLndlYk1lc3NhZ2VIYW5kbGVyLnJ1bihhdXRob3JpemVPcHRpb25zLHdyYXBDYWxsYmFjayhjYix7Zm9yY2VMZWdhY3lFcnJvcjohMH0pKTpfdGhpcy53ZWJBdXRoLmF1dGhvcml6ZShhdXRob3JpemVPcHRpb25zKX0pfSxDcm9zc09yaWdpbkF1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS5jYWxsYmFjaz1mdW5jdGlvbigpe3ZhciB0YXJnZXRPcmlnaW49ZGVjb2RlVVJJQ29tcG9uZW50KGdldEZyYWdtZW50KFwib3JpZ2luXCIpKSx0aGVXaW5kb3c9d2luZG93SGFuZGxlci5nZXRXaW5kb3coKSxfdGhpcz10aGlzO3RoZVdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGV2dCl7aWYoXCJjb192ZXJpZmllcl9yZXF1ZXN0XCI9PT1ldnQuZGF0YS50eXBlKXt2YXIga2V5PWNyZWF0ZUtleShldnQub3JpZ2luLGV2dC5kYXRhLnJlcXVlc3QuaWQpLHZlcmlmaWVyPXRyeUdldFZlcmlmaWVyKF90aGlzLnN0b3JhZ2Usa2V5KTtldnQuc291cmNlLnBvc3RNZXNzYWdlKHt0eXBlOlwiY29fdmVyaWZpZXJfcmVzcG9uc2VcIixyZXNwb25zZTp7dmVyaWZpZXI6dmVyaWZpZXJ9fSxldnQub3JpZ2luKX19KSx0aGVXaW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHt0eXBlOlwicmVhZHlcIn0sdGFyZ2V0T3JpZ2luKX0sUmVkaXJlY3QucHJvdG90eXBlLmxvZ2luV2l0aENyZWRlbnRpYWxzPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe29wdGlvbnMucmVhbG09b3B0aW9ucy5yZWFsbXx8b3B0aW9ucy5jb25uZWN0aW9uLGRlbGV0ZSBvcHRpb25zLmNvbm5lY3Rpb24sdGhpcy5jcm9zc09yaWdpbkF1dGhlbnRpY2F0aW9uLmxvZ2luKG9wdGlvbnMsY2IpfSxSZWRpcmVjdC5wcm90b3R5cGUuc2lnbnVwQW5kTG9naW49ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIF90aGlzPXRoaXM7cmV0dXJuIHRoaXMud2ViQXV0aC5jbGllbnQuZGJDb25uZWN0aW9uLnNpZ251cChvcHRpb25zLGZ1bmN0aW9uKGVycil7cmV0dXJuIGVycj9jYihlcnIpOihvcHRpb25zLnJlYWxtPW9wdGlvbnMucmVhbG18fG9wdGlvbnMuY29ubmVjdGlvbixkZWxldGUgb3B0aW9ucy5jb25uZWN0aW9uLF90aGlzLndlYkF1dGgubG9naW4ob3B0aW9ucyxjYikpfSl9O3ZhciB3aW5jaGFuPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSl7dmFyIFdpbkNoYW49ZnVuY3Rpb24oKXt2YXIgUkVMQVlfRlJBTUVfTkFNRT1cIl9fd2luY2hhbl9yZWxheV9mcmFtZVwiLENMT1NFX0NNRD1cImRpZVwiO2Z1bmN0aW9uIGFkZExpc3RlbmVyKHcsZXZlbnQsY2Ipe3cuYXR0YWNoRXZlbnQ/dy5hdHRhY2hFdmVudChcIm9uXCIrZXZlbnQsY2IpOncuYWRkRXZlbnRMaXN0ZW5lciYmdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LGNiLCExKX1mdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih3LGV2ZW50LGNiKXt3LmRldGFjaEV2ZW50P3cuZGV0YWNoRXZlbnQoXCJvblwiK2V2ZW50LGNiKTp3LnJlbW92ZUV2ZW50TGlzdGVuZXImJncucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCxjYiwhMSl9ZnVuY3Rpb24gZXh0cmFjdE9yaWdpbih1cmwpey9eaHR0cHM/OlxcL1xcLy8udGVzdCh1cmwpfHwodXJsPXdpbmRvdy5sb2NhdGlvbi5ocmVmKTt2YXIgbT0vXihodHRwcz86XFwvXFwvW1xcLV9hLXpBLVpcXC4wLTk6XSspLy5leGVjKHVybCk7cmV0dXJuIG0/bVsxXTp1cmx9dmFyIGlzSUU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yKXJldHVybiExO3ZhciBydj0tMSx1YT1uYXZpZ2F0b3IudXNlckFnZW50O1wiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PT1uYXZpZ2F0b3IuYXBwTmFtZT9udWxsIT1uZXcgUmVnRXhwKFwiTVNJRSAoWzAtOV17MSx9Wy4wLTldezAsfSlcIikuZXhlYyh1YSkmJihydj1wYXJzZUZsb2F0KFJlZ0V4cC4kMSkpOnVhLmluZGV4T2YoXCJUcmlkZW50XCIpPi0xJiZudWxsIT09bmV3IFJlZ0V4cChcInJ2OihbMC05XXsyLDJ9Wy4wLTldezAsfSlcIikuZXhlYyh1YSkmJihydj1wYXJzZUZsb2F0KFJlZ0V4cC4kMSkpO3JldHVybiBydj49OH0oKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuSlNPTiYmd2luZG93LkpTT04uc3RyaW5naWZ5JiZ3aW5kb3cuSlNPTi5wYXJzZSYmd2luZG93LnBvc3RNZXNzYWdlP3tvcGVuOmZ1bmN0aW9uKG9wdHMsY2Ipe2lmKCFjYil0aHJvd1wibWlzc2luZyByZXF1aXJlZCBjYWxsYmFjayBhcmd1bWVudFwiO3ZhciBlcnIsaWZyYW1lO29wdHMudXJsfHwoZXJyPVwibWlzc2luZyByZXF1aXJlZCAndXJsJyBwYXJhbWV0ZXJcIiksb3B0cy5yZWxheV91cmx8fChlcnI9XCJtaXNzaW5nIHJlcXVpcmVkICdyZWxheV91cmwnIHBhcmFtZXRlclwiKSxlcnImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjYihlcnIpfSwwKSxvcHRzLndpbmRvd19uYW1lfHwob3B0cy53aW5kb3dfbmFtZT1udWxsKSxvcHRzLndpbmRvd19mZWF0dXJlcyYmIWZ1bmN0aW9uKCl7dHJ5e3ZhciB1c2VyQWdlbnQ9bmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4tMSE9dXNlckFnZW50LmluZGV4T2YoXCJGZW5uZWMvXCIpfHwtMSE9dXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94L1wiKSYmLTEhPXVzZXJBZ2VudC5pbmRleE9mKFwiQW5kcm9pZFwiKX1jYXRjaChlKXt9cmV0dXJuITF9KCl8fChvcHRzLndpbmRvd19mZWF0dXJlcz12b2lkIDApO3ZhciBtZXNzYWdlVGFyZ2V0LG9yaWdpbj1vcHRzLm9yaWdpbnx8ZXh0cmFjdE9yaWdpbihvcHRzLnVybCk7aWYob3JpZ2luIT09ZXh0cmFjdE9yaWdpbihvcHRzLnJlbGF5X3VybCkpcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjYihcImludmFsaWQgYXJndW1lbnRzOiBvcmlnaW4gb2YgdXJsIGFuZCByZWxheV91cmwgbXVzdCBtYXRjaFwiKX0sMCk7aXNJRSYmKChpZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSkuc2V0QXR0cmlidXRlKFwic3JjXCIsb3B0cy5yZWxheV91cmwpLGlmcmFtZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsUkVMQVlfRlJBTUVfTkFNRSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpLG1lc3NhZ2VUYXJnZXQ9aWZyYW1lLmNvbnRlbnRXaW5kb3cpO3ZhciB3PW9wdHMucG9wdXB8fHdpbmRvdy5vcGVuKG9wdHMudXJsLG9wdHMud2luZG93X25hbWUsb3B0cy53aW5kb3dfZmVhdHVyZXMpO29wdHMucG9wdXAmJih3LmxvY2F0aW9uLmhyZWY9b3B0cy51cmwpLG1lc3NhZ2VUYXJnZXR8fChtZXNzYWdlVGFyZ2V0PXcpO3ZhciBjbG9zZUludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dyYmdy5jbG9zZWQmJihjbGVhbnVwKCksY2ImJihjYihcIlVzZXIgY2xvc2VkIHRoZSBwb3B1cCB3aW5kb3dcIiksY2I9bnVsbCkpfSw1MDApLHJlcT1KU09OLnN0cmluZ2lmeSh7YTpcInJlcXVlc3RcIixkOm9wdHMucGFyYW1zfSk7ZnVuY3Rpb24gY2xlYW51cCgpe2lmKGlmcmFtZSYmZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpLGlmcmFtZT12b2lkIDAsY2xvc2VJbnRlcnZhbCYmKGNsb3NlSW50ZXJ2YWw9Y2xlYXJJbnRlcnZhbChjbG9zZUludGVydmFsKSkscmVtb3ZlTGlzdGVuZXIod2luZG93LFwibWVzc2FnZVwiLG9uTWVzc2FnZSkscmVtb3ZlTGlzdGVuZXIod2luZG93LFwidW5sb2FkXCIsY2xlYW51cCksdyl0cnl7dy5jbG9zZSgpfWNhdGNoKHNlY3VyaXR5VmlvbGF0aW9uKXttZXNzYWdlVGFyZ2V0LnBvc3RNZXNzYWdlKENMT1NFX0NNRCxvcmlnaW4pfXc9bWVzc2FnZVRhcmdldD12b2lkIDB9ZnVuY3Rpb24gb25NZXNzYWdlKGUpe2lmKGUub3JpZ2luPT09b3JpZ2luKXt0cnl7dmFyIGQ9SlNPTi5wYXJzZShlLmRhdGEpfWNhdGNoKGVycil7aWYoY2IpcmV0dXJuIGNiKGVycik7dGhyb3cgZXJyfVwicmVhZHlcIj09PWQuYT9tZXNzYWdlVGFyZ2V0LnBvc3RNZXNzYWdlKHJlcSxvcmlnaW4pOlwiZXJyb3JcIj09PWQuYT8oY2xlYW51cCgpLGNiJiYoY2IoZC5kKSxjYj1udWxsKSk6XCJyZXNwb25zZVwiPT09ZC5hJiYoY2xlYW51cCgpLGNiJiYoY2IobnVsbCxkLmQpLGNiPW51bGwpKX19cmV0dXJuIGFkZExpc3RlbmVyKHdpbmRvdyxcInVubG9hZFwiLGNsZWFudXApLGFkZExpc3RlbmVyKHdpbmRvdyxcIm1lc3NhZ2VcIixvbk1lc3NhZ2UpLHtjbG9zZTpjbGVhbnVwLGZvY3VzOmZ1bmN0aW9uKCl7aWYodyl0cnl7dy5mb2N1cygpfWNhdGNoKGUpe319fX0sb25PcGVuOmZ1bmN0aW9uKGNiKXt2YXIgbz1cIipcIixtc2dUYXJnZXQ9aXNJRT9mdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbjtmb3IodmFyIGZyYW1lcz13aW5kb3cub3BlbmVyLmZyYW1lcyxpPWZyYW1lcy5sZW5ndGgtMTtpPj0wO2ktLSl0cnl7aWYoZnJhbWVzW2ldLmxvY2F0aW9uLnByb3RvY29sPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiZmcmFtZXNbaV0ubG9jYXRpb24uaG9zdD09PXdpbmRvdy5sb2NhdGlvbi5ob3N0JiZmcmFtZXNbaV0ubmFtZT09PVJFTEFZX0ZSQU1FX05BTUUpcmV0dXJuIGZyYW1lc1tpXX1jYXRjaChlKXt9fSgpOndpbmRvdy5vcGVuZXI7aWYoIW1zZ1RhcmdldCl0aHJvd1wiY2FuJ3QgZmluZCByZWxheSBmcmFtZVwiO2Z1bmN0aW9uIGRvUG9zdChtc2cpe21zZz1KU09OLnN0cmluZ2lmeShtc2cpLGlzSUU/bXNnVGFyZ2V0LmRvUG9zdChtc2csbyk6bXNnVGFyZ2V0LnBvc3RNZXNzYWdlKG1zZyxvKX1mdW5jdGlvbiBvbkRpZShlKXtpZihlLmRhdGE9PT1DTE9TRV9DTUQpdHJ5e3dpbmRvdy5jbG9zZSgpfWNhdGNoKG9fTyl7fX1hZGRMaXN0ZW5lcihpc0lFP21zZ1RhcmdldDp3aW5kb3csXCJtZXNzYWdlXCIsZnVuY3Rpb24gb25NZXNzYWdlKGUpe3ZhciBkO3RyeXtkPUpTT04ucGFyc2UoZS5kYXRhKX1jYXRjaChlcnIpe31kJiZcInJlcXVlc3RcIj09PWQuYSYmKHJlbW92ZUxpc3RlbmVyKHdpbmRvdyxcIm1lc3NhZ2VcIixvbk1lc3NhZ2UpLG89ZS5vcmlnaW4sY2ImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjYihvLGQuZCxmdW5jdGlvbihyKXtjYj12b2lkIDAsZG9Qb3N0KHthOlwicmVzcG9uc2VcIixkOnJ9KX0pfSwwKSl9KSxhZGRMaXN0ZW5lcihpc0lFP21zZ1RhcmdldDp3aW5kb3csXCJtZXNzYWdlXCIsb25EaWUpO3RyeXtkb1Bvc3Qoe2E6XCJyZWFkeVwifSl9Y2F0Y2goZSl7YWRkTGlzdGVuZXIobXNnVGFyZ2V0LFwibG9hZFwiLGZ1bmN0aW9uKGUpe2RvUG9zdCh7YTpcInJlYWR5XCJ9KX0pfXZhciBvblVubG9hZD1mdW5jdGlvbigpe3RyeXtyZW1vdmVMaXN0ZW5lcihpc0lFP21zZ1RhcmdldDp3aW5kb3csXCJtZXNzYWdlXCIsb25EaWUpfWNhdGNoKG9oV2VsbCl7fWNiJiZkb1Bvc3Qoe2E6XCJlcnJvclwiLGQ6XCJjbGllbnQgY2xvc2VkIHdpbmRvd1wifSksY2I9dm9pZCAwO3RyeXt3aW5kb3cuY2xvc2UoKX1jYXRjaChlKXt9fTtyZXR1cm4gYWRkTGlzdGVuZXIod2luZG93LFwidW5sb2FkXCIsb25VbmxvYWQpLHtkZXRhY2g6ZnVuY3Rpb24oKXtyZW1vdmVMaXN0ZW5lcih3aW5kb3csXCJ1bmxvYWRcIixvblVubG9hZCl9fX19OntvcGVuOmZ1bmN0aW9uKHVybCx3aW5vcHRzLGFyZyxjYil7c2V0VGltZW91dChmdW5jdGlvbigpe2NiKFwidW5zdXBwb3J0ZWQgYnJvd3NlclwiKX0sMCl9LG9uT3BlbjpmdW5jdGlvbihjYil7c2V0VGltZW91dChmdW5jdGlvbigpe2NiKFwidW5zdXBwb3J0ZWQgYnJvd3NlclwiKX0sMCl9fX0oKTttb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPVdpbkNoYW4pfSk7ZnVuY3Rpb24gZXh0cmFjdE9yaWdpbih1cmwpey9eaHR0cHM/OlxcL1xcLy8udGVzdCh1cmwpfHwodXJsPXdpbmRvdy5sb2NhdGlvbi5ocmVmKTt2YXIgbT0vXihodHRwcz86XFwvXFwvWy1fYS16QS1aLjAtOTpdKykvLmV4ZWModXJsKTtyZXR1cm4gbT9tWzFdOnVybH12YXIgdXJsSGVscGVyPXtleHRyYWN0T3JpZ2luOmV4dHJhY3RPcmlnaW59O2Z1bmN0aW9uIFBvcHVwSGFuZGxlcigpe3RoaXMuX2N1cnJlbnRfcG9wdXA9bnVsbH1mdW5jdGlvbiBQb3B1cCh3ZWJBdXRoLG9wdGlvbnMpe3RoaXMuYmFzZU9wdGlvbnM9b3B0aW9ucyx0aGlzLmJhc2VPcHRpb25zLnBvcHVwT3JpZ2luPW9wdGlvbnMucG9wdXBPcmlnaW4sdGhpcy5jbGllbnQ9d2ViQXV0aC5jbGllbnQsdGhpcy53ZWJBdXRoPXdlYkF1dGgsdGhpcy50cmFuc2FjdGlvbk1hbmFnZXI9bmV3IFRyYW5zYWN0aW9uTWFuYWdlcih0aGlzLmJhc2VPcHRpb25zKSx0aGlzLmNyb3NzT3JpZ2luQXV0aGVudGljYXRpb249bmV3IENyb3NzT3JpZ2luQXV0aGVudGljYXRpb24od2ViQXV0aCx0aGlzLmJhc2VPcHRpb25zKSx0aGlzLndhcm49bmV3IFdhcm4oe2Rpc2FibGVXYXJuaW5nczohIW9wdGlvbnMuX2Rpc2FibGVEZXByZWNhdGlvbldhcm5pbmdzfSl9ZnVuY3Rpb24gU2lsZW50QXV0aGVudGljYXRpb25IYW5kbGVyKG9wdGlvbnMpe3RoaXMuYXV0aGVudGljYXRpb25Vcmw9b3B0aW9ucy5hdXRoZW50aWNhdGlvblVybCx0aGlzLnRpbWVvdXQ9b3B0aW9ucy50aW1lb3V0fHw2ZTQsdGhpcy5oYW5kbGVyPW51bGwsdGhpcy5wb3N0TWVzc2FnZURhdGFUeXBlPW9wdGlvbnMucG9zdE1lc3NhZ2VEYXRhVHlwZXx8ITEsdGhpcy5wb3N0TWVzc2FnZU9yaWdpbj1vcHRpb25zLnBvc3RNZXNzYWdlT3JpZ2lufHx3aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLmxvY2F0aW9uLm9yaWdpbnx8d2luZG93SGFuZGxlci5nZXRXaW5kb3coKS5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrd2luZG93SGFuZGxlci5nZXRXaW5kb3coKS5sb2NhdGlvbi5ob3N0bmFtZSsod2luZG93SGFuZGxlci5nZXRXaW5kb3coKS5sb2NhdGlvbi5wb3J0P1wiOlwiK3dpbmRvd0hhbmRsZXIuZ2V0V2luZG93KCkubG9jYXRpb24ucG9ydDpcIlwiKX1mdW5jdGlvbiBVc2VybmFtZVBhc3N3b3JkKG9wdGlvbnMpe3RoaXMuYmFzZU9wdGlvbnM9b3B0aW9ucyx0aGlzLnJlcXVlc3Q9bmV3IFJlcXVlc3RCdWlsZGVyKG9wdGlvbnMpLHRoaXMudHJhbnNhY3Rpb25NYW5hZ2VyPW5ldyBUcmFuc2FjdGlvbk1hbmFnZXIodGhpcy5iYXNlT3B0aW9ucyl9ZnVuY3Rpb24gSG9zdGVkUGFnZXMoY2xpZW50LG9wdGlvbnMpe3RoaXMuYmFzZU9wdGlvbnM9b3B0aW9ucyx0aGlzLmNsaWVudD1jbGllbnQsdGhpcy5iYXNlT3B0aW9ucy51bml2ZXJzYWxMb2dpblBhZ2U9ITAsdGhpcy5yZXF1ZXN0PW5ldyBSZXF1ZXN0QnVpbGRlcih0aGlzLmJhc2VPcHRpb25zKSx0aGlzLndhcm49bmV3IFdhcm4oe2Rpc2FibGVXYXJuaW5nczohIW9wdGlvbnMuX2Rpc2FibGVEZXByZWNhdGlvbldhcm5pbmdzfSl9ZnVuY3Rpb24gV2ViQXV0aChvcHRpb25zKXthc3NlcnQuY2hlY2sob3B0aW9ucyx7dHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0se2RvbWFpbjp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJkb21haW4gb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LGNsaWVudElEOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImNsaWVudElEIG9wdGlvbiBpcyByZXF1aXJlZFwifSxyZXNwb25zZVR5cGU6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwicmVzcG9uc2VUeXBlIGlzIG5vdCB2YWxpZFwifSxyZXNwb25zZU1vZGU6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwicmVzcG9uc2VNb2RlIGlzIG5vdCB2YWxpZFwifSxyZWRpcmVjdFVyaTp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJyZWRpcmVjdFVyaSBpcyBub3QgdmFsaWRcIn0sc2NvcGU6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwic2NvcGUgaXMgbm90IHZhbGlkXCJ9LGF1ZGllbmNlOntvcHRpb25hbDohMCx0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImF1ZGllbmNlIGlzIG5vdCB2YWxpZFwifSxwb3B1cE9yaWdpbjp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJwb3B1cE9yaWdpbiBpcyBub3QgdmFsaWRcIn0sbGVld2F5OntvcHRpb25hbDohMCx0eXBlOlwibnVtYmVyXCIsbWVzc2FnZTpcImxlZXdheSBpcyBub3QgdmFsaWRcIn0scGx1Z2luczp7b3B0aW9uYWw6ITAsdHlwZTpcImFycmF5XCIsbWVzc2FnZTpcInBsdWdpbnMgaXMgbm90IHZhbGlkXCJ9LF9kaXNhYmxlRGVwcmVjYXRpb25XYXJuaW5nczp7b3B0aW9uYWw6ITAsdHlwZTpcImJvb2xlYW5cIixtZXNzYWdlOlwiX2Rpc2FibGVEZXByZWNhdGlvbldhcm5pbmdzIG9wdGlvbiBpcyBub3QgdmFsaWRcIn0sX3NlbmRUZWxlbWV0cnk6e29wdGlvbmFsOiEwLHR5cGU6XCJib29sZWFuXCIsbWVzc2FnZTpcIl9zZW5kVGVsZW1ldHJ5IG9wdGlvbiBpcyBub3QgdmFsaWRcIn0sX3RlbGVtZXRyeUluZm86e29wdGlvbmFsOiEwLHR5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwiX3RlbGVtZXRyeUluZm8gb3B0aW9uIGlzIG5vdCB2YWxpZFwifSxfdGltZXNUb1JldHJ5RmFpbGVkUmVxdWVzdHM6e29wdGlvbmFsOiEwLHR5cGU6XCJudW1iZXJcIixtZXNzYWdlOlwiX3RpbWVzVG9SZXRyeUZhaWxlZFJlcXVlc3RzIG9wdGlvbiBpcyBub3QgdmFsaWRcIn19KSxvcHRpb25zLm92ZXJyaWRlcyYmYXNzZXJ0LmNoZWNrKG9wdGlvbnMub3ZlcnJpZGVzLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm92ZXJyaWRlcyBvcHRpb24gaXMgbm90IHZhbGlkXCJ9LHtfX3RlbmFudDp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJfX3RlbmFudCBvcHRpb24gaXMgcmVxdWlyZWRcIn0sX190b2tlbl9pc3N1ZXI6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiX190b2tlbl9pc3N1ZXIgb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LF9fandrc191cmk6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiX19qd2tzX3VyaSBpcyByZXF1aXJlZFwifX0pLHRoaXMuYmFzZU9wdGlvbnM9b3B0aW9ucyx0aGlzLmJhc2VPcHRpb25zLnBsdWdpbnM9bmV3IFBsdWdpbkhhbmRsZXIodGhpcyx0aGlzLmJhc2VPcHRpb25zLnBsdWdpbnN8fFtdKSx0aGlzLmJhc2VPcHRpb25zLl9zZW5kVGVsZW1ldHJ5PSExIT09dGhpcy5iYXNlT3B0aW9ucy5fc2VuZFRlbGVtZXRyeXx8dGhpcy5iYXNlT3B0aW9ucy5fc2VuZFRlbGVtZXRyeSx0aGlzLmJhc2VPcHRpb25zLl90aW1lc1RvUmV0cnlGYWlsZWRSZXF1ZXN0cz1vcHRpb25zLl90aW1lc1RvUmV0cnlGYWlsZWRSZXF1ZXN0cz9wYXJzZUludChvcHRpb25zLl90aW1lc1RvUmV0cnlGYWlsZWRSZXF1ZXN0cywwKTowLHRoaXMuYmFzZU9wdGlvbnMudGVuYW50PXRoaXMuYmFzZU9wdGlvbnMub3ZlcnJpZGVzJiZ0aGlzLmJhc2VPcHRpb25zLm92ZXJyaWRlcy5fX3RlbmFudHx8dGhpcy5iYXNlT3B0aW9ucy5kb21haW4uc3BsaXQoXCIuXCIpWzBdLHRoaXMuYmFzZU9wdGlvbnMudG9rZW5faXNzdWVyPXRoaXMuYmFzZU9wdGlvbnMub3ZlcnJpZGVzJiZ0aGlzLmJhc2VPcHRpb25zLm92ZXJyaWRlcy5fX3Rva2VuX2lzc3Vlcnx8XCJodHRwczovL1wiK3RoaXMuYmFzZU9wdGlvbnMuZG9tYWluK1wiL1wiLHRoaXMuYmFzZU9wdGlvbnMuandrc1VSST10aGlzLmJhc2VPcHRpb25zLm92ZXJyaWRlcyYmdGhpcy5iYXNlT3B0aW9ucy5vdmVycmlkZXMuX19qd2tzX3VyaSx0aGlzLnRyYW5zYWN0aW9uTWFuYWdlcj1uZXcgVHJhbnNhY3Rpb25NYW5hZ2VyKHRoaXMuYmFzZU9wdGlvbnMpLHRoaXMuY2xpZW50PW5ldyBBdXRoZW50aWNhdGlvbih0aGlzLmJhc2VPcHRpb25zKSx0aGlzLnJlZGlyZWN0PW5ldyBSZWRpcmVjdCh0aGlzLHRoaXMuYmFzZU9wdGlvbnMpLHRoaXMucG9wdXA9bmV3IFBvcHVwKHRoaXMsdGhpcy5iYXNlT3B0aW9ucyksdGhpcy5jcm9zc09yaWdpbkF1dGhlbnRpY2F0aW9uPW5ldyBDcm9zc09yaWdpbkF1dGhlbnRpY2F0aW9uKHRoaXMsdGhpcy5iYXNlT3B0aW9ucyksdGhpcy53ZWJNZXNzYWdlSGFuZGxlcj1uZXcgV2ViTWVzc2FnZUhhbmRsZXIodGhpcyksdGhpcy5fdW5pdmVyc2FsTG9naW49bmV3IEhvc3RlZFBhZ2VzKHRoaXMsdGhpcy5iYXNlT3B0aW9ucyksdGhpcy5zc29kYXRhU3RvcmFnZT1uZXcgU1NPRGF0YVN0b3JhZ2UodGhpcy5iYXNlT3B0aW9ucyl9ZnVuY3Rpb24gYnVpbGRQYXJzZUhhc2hSZXNwb25zZShxc1BhcmFtcyxhcHBTdGF0ZSx0b2tlbil7cmV0dXJue2FjY2Vzc1Rva2VuOnFzUGFyYW1zLmFjY2Vzc190b2tlbnx8bnVsbCxpZFRva2VuOnFzUGFyYW1zLmlkX3Rva2VufHxudWxsLGlkVG9rZW5QYXlsb2FkOnRva2VufHxudWxsLGFwcFN0YXRlOmFwcFN0YXRlfHxudWxsLHJlZnJlc2hUb2tlbjpxc1BhcmFtcy5yZWZyZXNoX3Rva2VufHxudWxsLHN0YXRlOnFzUGFyYW1zLnN0YXRlfHxudWxsLGV4cGlyZXNJbjpxc1BhcmFtcy5leHBpcmVzX2luP3BhcnNlSW50KHFzUGFyYW1zLmV4cGlyZXNfaW4sMTApOm51bGwsdG9rZW5UeXBlOnFzUGFyYW1zLnRva2VuX3R5cGV8fG51bGwsc2NvcGU6cXNQYXJhbXMuc2NvcGV8fG51bGx9fWZ1bmN0aW9uIFBhc3N3b3JkbGVzc0F1dGhlbnRpY2F0aW9uKHJlcXVlc3Qsb3B0aW9ucyl7dGhpcy5iYXNlT3B0aW9ucz1vcHRpb25zLHRoaXMucmVxdWVzdD1yZXF1ZXN0fWZ1bmN0aW9uIERCQ29ubmVjdGlvbihyZXF1ZXN0LG9wdGlvbnMpe3RoaXMuYmFzZU9wdGlvbnM9b3B0aW9ucyx0aGlzLnJlcXVlc3Q9cmVxdWVzdH1mdW5jdGlvbiBBdXRoZW50aWNhdGlvbihhdXRoMCxvcHRpb25zKXsyPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmF1dGgwPWF1dGgwOm9wdGlvbnM9YXV0aDAsYXNzZXJ0LmNoZWNrKG9wdGlvbnMse3R5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwib3B0aW9ucyBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9LHtkb21haW46e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiZG9tYWluIG9wdGlvbiBpcyByZXF1aXJlZFwifSxjbGllbnRJRDp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJjbGllbnRJRCBvcHRpb24gaXMgcmVxdWlyZWRcIn0scmVzcG9uc2VUeXBlOntvcHRpb25hbDohMCx0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInJlc3BvbnNlVHlwZSBpcyBub3QgdmFsaWRcIn0scmVzcG9uc2VNb2RlOntvcHRpb25hbDohMCx0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInJlc3BvbnNlTW9kZSBpcyBub3QgdmFsaWRcIn0scmVkaXJlY3RVcmk6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwicmVkaXJlY3RVcmkgaXMgbm90IHZhbGlkXCJ9LHNjb3BlOntvcHRpb25hbDohMCx0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInNjb3BlIGlzIG5vdCB2YWxpZFwifSxhdWRpZW5jZTp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJhdWRpZW5jZSBpcyBub3QgdmFsaWRcIn0sX2Rpc2FibGVEZXByZWNhdGlvbldhcm5pbmdzOntvcHRpb25hbDohMCx0eXBlOlwiYm9vbGVhblwiLG1lc3NhZ2U6XCJfZGlzYWJsZURlcHJlY2F0aW9uV2FybmluZ3Mgb3B0aW9uIGlzIG5vdCB2YWxpZFwifSxfc2VuZFRlbGVtZXRyeTp7b3B0aW9uYWw6ITAsdHlwZTpcImJvb2xlYW5cIixtZXNzYWdlOlwiX3NlbmRUZWxlbWV0cnkgb3B0aW9uIGlzIG5vdCB2YWxpZFwifSxfdGVsZW1ldHJ5SW5mbzp7b3B0aW9uYWw6ITAsdHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJfdGVsZW1ldHJ5SW5mbyBvcHRpb24gaXMgbm90IHZhbGlkXCJ9fSksdGhpcy5iYXNlT3B0aW9ucz1vcHRpb25zLHRoaXMuYmFzZU9wdGlvbnMuX3NlbmRUZWxlbWV0cnk9ITEhPT10aGlzLmJhc2VPcHRpb25zLl9zZW5kVGVsZW1ldHJ5fHx0aGlzLmJhc2VPcHRpb25zLl9zZW5kVGVsZW1ldHJ5LHRoaXMuYmFzZU9wdGlvbnMucm9vdFVybD1cImh0dHBzOi8vXCIrdGhpcy5iYXNlT3B0aW9ucy5kb21haW4sdGhpcy5yZXF1ZXN0PW5ldyBSZXF1ZXN0QnVpbGRlcih0aGlzLmJhc2VPcHRpb25zKSx0aGlzLnBhc3N3b3JkbGVzcz1uZXcgUGFzc3dvcmRsZXNzQXV0aGVudGljYXRpb24odGhpcy5yZXF1ZXN0LHRoaXMuYmFzZU9wdGlvbnMpLHRoaXMuZGJDb25uZWN0aW9uPW5ldyBEQkNvbm5lY3Rpb24odGhpcy5yZXF1ZXN0LHRoaXMuYmFzZU9wdGlvbnMpLHRoaXMud2Fybj1uZXcgV2Fybih7ZGlzYWJsZVdhcm5pbmdzOiEhb3B0aW9ucy5fZGlzYWJsZURlcHJlY2F0aW9uV2FybmluZ3N9KSx0aGlzLnNzb2RhdGFTdG9yYWdlPW5ldyBTU09EYXRhU3RvcmFnZSh0aGlzLmJhc2VPcHRpb25zKX1mdW5jdGlvbiBNYW5hZ2VtZW50KG9wdGlvbnMpe2Fzc2VydC5jaGVjayhvcHRpb25zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSx7ZG9tYWluOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImRvbWFpbiBvcHRpb24gaXMgcmVxdWlyZWRcIn0sdG9rZW46e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwidG9rZW4gb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LF9zZW5kVGVsZW1ldHJ5OntvcHRpb25hbDohMCx0eXBlOlwiYm9vbGVhblwiLG1lc3NhZ2U6XCJfc2VuZFRlbGVtZXRyeSBvcHRpb24gaXMgbm90IHZhbGlkXCJ9LF90ZWxlbWV0cnlJbmZvOntvcHRpb25hbDohMCx0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIl90ZWxlbWV0cnlJbmZvIG9wdGlvbiBpcyBub3QgdmFsaWRcIn19KSx0aGlzLmJhc2VPcHRpb25zPW9wdGlvbnMsdGhpcy5iYXNlT3B0aW9ucy5oZWFkZXJzPXtBdXRob3JpemF0aW9uOlwiQmVhcmVyIFwiK3RoaXMuYmFzZU9wdGlvbnMudG9rZW59LHRoaXMucmVxdWVzdD1uZXcgUmVxdWVzdEJ1aWxkZXIodGhpcy5iYXNlT3B0aW9ucyksdGhpcy5iYXNlT3B0aW9ucy5yb290VXJsPXVybEpvaW4oXCJodHRwczovL1wiK3RoaXMuYmFzZU9wdGlvbnMuZG9tYWluLFwiYXBpXCIsXCJ2MlwiKX1Qb3B1cEhhbmRsZXIucHJvdG90eXBlLmNhbGN1bGF0ZVBvc2l0aW9uPWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciB3aWR0aD1vcHRpb25zLndpZHRofHw1MDAsaGVpZ2h0PW9wdGlvbnMuaGVpZ2h0fHw2MDAsX3dpbmRvdz13aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLHNjcmVlblg9dm9pZCAwIT09X3dpbmRvdy5zY3JlZW5YP193aW5kb3cuc2NyZWVuWDpfd2luZG93LnNjcmVlbkxlZnQsc2NyZWVuWT12b2lkIDAhPT1fd2luZG93LnNjcmVlblk/X3dpbmRvdy5zY3JlZW5ZOl93aW5kb3cuc2NyZWVuVG9wLG91dGVyV2lkdGg9dm9pZCAwIT09X3dpbmRvdy5vdXRlcldpZHRoP193aW5kb3cub3V0ZXJXaWR0aDpfd2luZG93LmRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsb3V0ZXJIZWlnaHQ9dm9pZCAwIT09X3dpbmRvdy5vdXRlckhlaWdodD9fd2luZG93Lm91dGVySGVpZ2h0Ol93aW5kb3cuZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7cmV0dXJue3dpZHRoOndpZHRoLGhlaWdodDpoZWlnaHQsbGVmdDpvcHRpb25zLmxlZnR8fHNjcmVlblgrKG91dGVyV2lkdGgtd2lkdGgpLzIsdG9wOm9wdGlvbnMudG9wfHxzY3JlZW5ZKyhvdXRlckhlaWdodC1oZWlnaHQpLzJ9fSxQb3B1cEhhbmRsZXIucHJvdG90eXBlLnByZWxvYWQ9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIF90aGlzPXRoaXMsX3dpbmRvdz13aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLHBvcHVwUG9zaXRpb249dGhpcy5jYWxjdWxhdGVQb3NpdGlvbihvcHRpb25zLnBvcHVwT3B0aW9uc3x8e30pLHBvcHVwT3B0aW9ucz1vYmplY3RIZWxwZXIubWVyZ2UocG9wdXBQb3NpdGlvbikud2l0aChvcHRpb25zLnBvcHVwT3B0aW9ucyksdXJsPW9wdGlvbnMudXJsfHxcImFib3V0OmJsYW5rXCIsd2luZG93RmVhdHVyZXM9bGliLnN0cmluZ2lmeShwb3B1cE9wdGlvbnMse2VuY29kZTohMSxkZWxpbWl0ZXI6XCIsXCJ9KTtyZXR1cm4gdGhpcy5fY3VycmVudF9wb3B1cCYmIXRoaXMuX2N1cnJlbnRfcG9wdXAuY2xvc2VkP3RoaXMuX2N1cnJlbnRfcG9wdXA6KHRoaXMuX2N1cnJlbnRfcG9wdXA9X3dpbmRvdy5vcGVuKHVybCxcImF1dGgwX3NpZ251cF9wb3B1cFwiLHdpbmRvd0ZlYXR1cmVzKSx0aGlzLl9jdXJyZW50X3BvcHVwLmtpbGw9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksX3RoaXMuX2N1cnJlbnRfcG9wdXA9bnVsbH0sdGhpcy5fY3VycmVudF9wb3B1cCl9LFBvcHVwSGFuZGxlci5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih1cmwscmVsYXlVcmwsb3B0aW9ucyxjYil7dmFyIF90aGlzPXRoaXMscG9wdXBQb3NpdGlvbj10aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKG9wdGlvbnMucG9wdXBPcHRpb25zfHx7fSkscG9wdXBPcHRpb25zPW9iamVjdEhlbHBlci5tZXJnZShwb3B1cFBvc2l0aW9uKS53aXRoKG9wdGlvbnMucG9wdXBPcHRpb25zKSx3aW5jaGFuT3B0aW9ucz1vYmplY3RIZWxwZXIubWVyZ2Uoe3VybDp1cmwscmVsYXlfdXJsOnJlbGF5VXJsLHdpbmRvd19mZWF0dXJlczpsaWIuc3RyaW5naWZ5KHBvcHVwT3B0aW9ucyx7ZGVsaW1pdGVyOlwiLFwiLGVuY29kZTohMX0pLHBvcHVwOnRoaXMuX2N1cnJlbnRfcG9wdXB9KS53aXRoKG9wdGlvbnMpLHBvcHVwPXdpbmNoYW4ub3Blbih3aW5jaGFuT3B0aW9ucyxmdW5jdGlvbihlcnIsZGF0YSl7cmV0dXJuIF90aGlzLl9jdXJyZW50X3BvcHVwPW51bGwsY2IoZXJyLGRhdGEpfSk7cmV0dXJuIHBvcHVwLmZvY3VzKCkscG9wdXB9LFBvcHVwLnByb3RvdHlwZS5idWlsZFBvcHVwSGFuZGxlcj1mdW5jdGlvbigpe3ZhciBwbHVnaW5IYW5kbGVyPXRoaXMuYmFzZU9wdGlvbnMucGx1Z2lucy5nZXQoXCJwb3B1cC5nZXRQb3B1cEhhbmRsZXJcIik7cmV0dXJuIHBsdWdpbkhhbmRsZXI/cGx1Z2luSGFuZGxlci5nZXRQb3B1cEhhbmRsZXIoKTpuZXcgUG9wdXBIYW5kbGVyfSxQb3B1cC5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbihvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBwb3B1cD10aGlzLmJ1aWxkUG9wdXBIYW5kbGVyKCk7cmV0dXJuIHBvcHVwLnByZWxvYWQob3B0aW9ucykscG9wdXB9LFBvcHVwLnByb3RvdHlwZS5nZXRQb3B1cEhhbmRsZXI9ZnVuY3Rpb24ob3B0aW9ucyxwcmVsb2FkKXtyZXR1cm4gb3B0aW9ucy5wb3B1cEhhbmRsZXI/b3B0aW9ucy5wb3B1cEhhbmRsZXI6cHJlbG9hZD90aGlzLnByZWxvYWQob3B0aW9ucyk6dGhpcy5idWlsZFBvcHVwSGFuZGxlcigpfSxQb3B1cC5wcm90b3R5cGUuY2FsbGJhY2s9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIF90aGlzPXRoaXMsdGhlV2luZG93PXdpbmRvd0hhbmRsZXIuZ2V0V2luZG93KCksb3JpZ2luVXJsPShvcHRpb25zPW9wdGlvbnN8fHt9KS5wb3B1cE9yaWdpbnx8dGhpcy5iYXNlT3B0aW9ucy5wb3B1cE9yaWdpbnx8d2luZG93SGFuZGxlci5nZXRPcmlnaW4oKTt0aGVXaW5kb3cub3BlbmVyP3dpbmNoYW4ub25PcGVuKGZ1bmN0aW9uKHBvcHVwT3JpZ2luLHIsY2Ipe2lmKHBvcHVwT3JpZ2luIT09b3JpZ2luVXJsKXJldHVybiBjYih7ZXJyb3I6XCJvcmlnaW5fbWlzbWF0Y2hcIixlcnJvcl9kZXNjcmlwdGlvbjpcIlRoZSBwb3B1cCdzIG9yaWdpbiAoXCIrcG9wdXBPcmlnaW4rXCIpIHNob3VsZCBtYXRjaCB0aGUgYHBvcHVwT3JpZ2luYCBwYXJhbWV0ZXIgKFwiK29yaWdpblVybCtcIikuXCJ9KTtfdGhpcy53ZWJBdXRoLnBhcnNlSGFzaChvcHRpb25zfHx7fSxmdW5jdGlvbihlcnIsZGF0YSl7cmV0dXJuIGNiKGVycnx8ZGF0YSl9KX0pOnRoZVdpbmRvdy5kb1Bvc3Q9ZnVuY3Rpb24obXNnKXt0aGVXaW5kb3cucGFyZW50JiZ0aGVXaW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKG1zZyxvcmlnaW5VcmwpfX0sUG9wdXAucHJvdG90eXBlLmF1dGhvcml6ZT1mdW5jdGlvbihvcHRpb25zLGNiKXt2YXIgdXJsLHJlbGF5VXJsLHBvcE9wdHM9e30scGx1Z2luSGFuZGxlcj10aGlzLmJhc2VPcHRpb25zLnBsdWdpbnMuZ2V0KFwicG9wdXAuYXV0aG9yaXplXCIpLHBhcmFtcz1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiLFwic2NvcGVcIixcImRvbWFpblwiLFwiYXVkaWVuY2VcIixcInRlbmFudFwiLFwicmVzcG9uc2VUeXBlXCIsXCJyZWRpcmVjdFVyaVwiLFwiX2NzcmZcIixcInN0YXRlXCIsXCJfaW50c3RhdGVcIixcIm5vbmNlXCJdKS53aXRoKG9iamVjdEhlbHBlci5ibGFja2xpc3Qob3B0aW9ucyxbXCJwb3B1cEhhbmRsZXJcIl0pKTtyZXR1cm4gYXNzZXJ0LmNoZWNrKHBhcmFtcyx7dHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0se3Jlc3BvbnNlVHlwZTp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJyZXNwb25zZVR5cGUgb3B0aW9uIGlzIHJlcXVpcmVkXCJ9fSkscmVsYXlVcmw9dXJsSm9pbih0aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsXCJyZWxheS5odG1sXCIpLG9wdGlvbnMub3dwP3BhcmFtcy5vd3A9ITA6KHBvcE9wdHMub3JpZ2luPXVybEhlbHBlci5leHRyYWN0T3JpZ2luKHBhcmFtcy5yZWRpcmVjdFVyaSkscmVsYXlVcmw9cGFyYW1zLnJlZGlyZWN0VXJpKSxvcHRpb25zLnBvcHVwT3B0aW9ucyYmKHBvcE9wdHMucG9wdXBPcHRpb25zPW9iamVjdEhlbHBlci5waWNrKG9wdGlvbnMucG9wdXBPcHRpb25zLFtcIndpZHRoXCIsXCJoZWlnaHRcIixcInRvcFwiLFwibGVmdFwiXSkpLHBsdWdpbkhhbmRsZXImJihwYXJhbXM9cGx1Z2luSGFuZGxlci5wcm9jZXNzUGFyYW1zKHBhcmFtcykpLChwYXJhbXM9dGhpcy50cmFuc2FjdGlvbk1hbmFnZXIucHJvY2VzcyhwYXJhbXMpKS5zY29wZT1wYXJhbXMuc2NvcGV8fFwib3BlbmlkIHByb2ZpbGUgZW1haWxcIixkZWxldGUgcGFyYW1zLmRvbWFpbix1cmw9dGhpcy5jbGllbnQuYnVpbGRBdXRob3JpemVVcmwocGFyYW1zKSx0aGlzLmdldFBvcHVwSGFuZGxlcihvcHRpb25zKS5sb2FkKHVybCxyZWxheVVybCxwb3BPcHRzLHdyYXBDYWxsYmFjayhjYix7a2VlcE9yaWdpbmFsQ2FzaW5nOiEwfSkpfSxQb3B1cC5wcm90b3R5cGUubG9naW5XaXRoQ3JlZGVudGlhbHM9ZnVuY3Rpb24ob3B0aW9ucyxjYil7b3B0aW9ucy5yZWFsbT1vcHRpb25zLnJlYWxtfHxvcHRpb25zLmNvbm5lY3Rpb24sb3B0aW9ucy5wb3B1cD0hMCxvcHRpb25zPW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcInJlZGlyZWN0VXJpXCIsXCJyZXNwb25zZVR5cGVcIixcInN0YXRlXCIsXCJub25jZVwiXSkud2l0aChvYmplY3RIZWxwZXIuYmxhY2tsaXN0KG9wdGlvbnMsW1wicG9wdXBIYW5kbGVyXCIsXCJjb25uZWN0aW9uXCJdKSksb3B0aW9ucz10aGlzLnRyYW5zYWN0aW9uTWFuYWdlci5wcm9jZXNzKG9wdGlvbnMpLHRoaXMuY3Jvc3NPcmlnaW5BdXRoZW50aWNhdGlvbi5sb2dpbihvcHRpb25zLGNiKX0sUG9wdXAucHJvdG90eXBlLnBhc3N3b3JkbGVzc1ZlcmlmeT1mdW5jdGlvbihvcHRpb25zLGNiKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gdGhpcy5jbGllbnQucGFzc3dvcmRsZXNzLnZlcmlmeShvYmplY3RIZWxwZXIuYmxhY2tsaXN0KG9wdGlvbnMsW1wicG9wdXBIYW5kbGVyXCJdKSxmdW5jdGlvbihlcnIpe2lmKGVycilyZXR1cm4gY2IoZXJyKTtvcHRpb25zLnVzZXJuYW1lPW9wdGlvbnMucGhvbmVOdW1iZXJ8fG9wdGlvbnMuZW1haWwsb3B0aW9ucy5wYXNzd29yZD1vcHRpb25zLnZlcmlmaWNhdGlvbkNvZGUsZGVsZXRlIG9wdGlvbnMuZW1haWwsZGVsZXRlIG9wdGlvbnMucGhvbmVOdW1iZXIsZGVsZXRlIG9wdGlvbnMudmVyaWZpY2F0aW9uQ29kZSxkZWxldGUgb3B0aW9ucy50eXBlLF90aGlzLmNsaWVudC5sb2dpbldpdGhSZXNvdXJjZU93bmVyKG9wdGlvbnMsY2IpfSl9LFBvcHVwLnByb3RvdHlwZS5zaWdudXBBbmRMb2dpbj1mdW5jdGlvbihvcHRpb25zLGNiKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gdGhpcy5jbGllbnQuZGJDb25uZWN0aW9uLnNpZ251cChvcHRpb25zLGZ1bmN0aW9uKGVycil7aWYoZXJyKXJldHVybiBjYihlcnIpO190aGlzLmxvZ2luV2l0aENyZWRlbnRpYWxzKG9wdGlvbnMsY2IpfSl9LFNpbGVudEF1dGhlbnRpY2F0aW9uSGFuZGxlci5jcmVhdGU9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIG5ldyBTaWxlbnRBdXRoZW50aWNhdGlvbkhhbmRsZXIob3B0aW9ucyl9LFNpbGVudEF1dGhlbnRpY2F0aW9uSGFuZGxlci5wcm90b3R5cGUubG9naW49ZnVuY3Rpb24odXNlUG9zdE1lc3NhZ2UsY2FsbGJhY2spe3RoaXMuaGFuZGxlcj1uZXcgSWZyYW1lSGFuZGxlcih7YXV0aDA6dGhpcy5hdXRoMCx1cmw6dGhpcy5hdXRoZW50aWNhdGlvblVybCxldmVudExpc3RlbmVyVHlwZTp1c2VQb3N0TWVzc2FnZT9cIm1lc3NhZ2VcIjpcImxvYWRcIixjYWxsYmFjazp0aGlzLmdldENhbGxiYWNrSGFuZGxlcihjYWxsYmFjayx1c2VQb3N0TWVzc2FnZSksdGltZW91dDp0aGlzLnRpbWVvdXQsZXZlbnRWYWxpZGF0b3I6dGhpcy5nZXRFdmVudFZhbGlkYXRvcigpLHRpbWVvdXRDYWxsYmFjazpmdW5jdGlvbigpe2NhbGxiYWNrKG51bGwsXCIjZXJyb3I9dGltZW91dCZlcnJvcl9kZXNjcmlwdGlvbj1UaW1lb3V0K2R1cmluZythdXRoZW50aWNhdGlvbityZW5ldy5cIil9LHVzZVBvc3RNZXNzYWdlOnVzZVBvc3RNZXNzYWdlfHwhMX0pLHRoaXMuaGFuZGxlci5pbml0KCl9LFNpbGVudEF1dGhlbnRpY2F0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0RXZlbnRWYWxpZGF0b3I9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm57aXNWYWxpZDpmdW5jdGlvbihldmVudERhdGEpe3N3aXRjaChldmVudERhdGEuZXZlbnQudHlwZSl7Y2FzZVwibWVzc2FnZVwiOnJldHVybiBldmVudERhdGEuZXZlbnQub3JpZ2luPT09X3RoaXMucG9zdE1lc3NhZ2VPcmlnaW4mJmV2ZW50RGF0YS5ldmVudC5zb3VyY2U9PT1fdGhpcy5oYW5kbGVyLmlmcmFtZS5jb250ZW50V2luZG93JiYoITE9PT1fdGhpcy5wb3N0TWVzc2FnZURhdGFUeXBlfHxldmVudERhdGEuZXZlbnQuZGF0YS50eXBlJiZldmVudERhdGEuZXZlbnQuZGF0YS50eXBlPT09X3RoaXMucG9zdE1lc3NhZ2VEYXRhVHlwZSk7Y2FzZVwibG9hZFwiOmlmKFwiYWJvdXQ6XCI9PT1ldmVudERhdGEuc291cmNlT2JqZWN0LmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucHJvdG9jb2wpcmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19fX0sU2lsZW50QXV0aGVudGljYXRpb25IYW5kbGVyLnByb3RvdHlwZS5nZXRDYWxsYmFja0hhbmRsZXI9ZnVuY3Rpb24oY2FsbGJhY2ssdXNlUG9zdE1lc3NhZ2Upe3JldHVybiBmdW5jdGlvbihldmVudERhdGEpe3ZhciBjYWxsYmFja1ZhbHVlO2NhbGxiYWNrVmFsdWU9dXNlUG9zdE1lc3NhZ2U/XCJvYmplY3RcIj09dHlwZW9mIGV2ZW50RGF0YS5ldmVudC5kYXRhJiZldmVudERhdGEuZXZlbnQuZGF0YS5oYXNoP2V2ZW50RGF0YS5ldmVudC5kYXRhLmhhc2g6ZXZlbnREYXRhLmV2ZW50LmRhdGE6ZXZlbnREYXRhLnNvdXJjZU9iamVjdC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhhc2gsY2FsbGJhY2sobnVsbCxjYWxsYmFja1ZhbHVlKX19LFVzZXJuYW1lUGFzc3dvcmQucHJvdG90eXBlLmxvZ2luPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3ZhciB1cmwsYm9keTtyZXR1cm4gdXJsPXVybEpvaW4odGhpcy5iYXNlT3B0aW9ucy5yb290VXJsLFwidXNlcm5hbWVwYXNzd29yZFwiLFwibG9naW5cIiksb3B0aW9ucy51c2VybmFtZT1vcHRpb25zLnVzZXJuYW1lfHxvcHRpb25zLmVtYWlsLG9wdGlvbnM9b2JqZWN0SGVscGVyLmJsYWNrbGlzdChvcHRpb25zLFtcImVtYWlsXCJdKSxib2R5PW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcImNsaWVudElEXCIsXCJyZWRpcmVjdFVyaVwiLFwidGVuYW50XCIsXCJyZXNwb25zZVR5cGVcIixcInJlc3BvbnNlTW9kZVwiLFwic2NvcGVcIixcImF1ZGllbmNlXCJdKS53aXRoKG9wdGlvbnMpLGJvZHk9dGhpcy50cmFuc2FjdGlvbk1hbmFnZXIucHJvY2Vzcyhib2R5KSxib2R5PW9iamVjdEhlbHBlci50b1NuYWtlQ2FzZShib2R5LFtcImF1dGgwQ2xpZW50XCJdKSx0aGlzLnJlcXVlc3QucG9zdCh1cmwpLnNlbmQoYm9keSkuZW5kKHdyYXBDYWxsYmFjayhjYikpfSxVc2VybmFtZVBhc3N3b3JkLnByb3RvdHlwZS5jYWxsYmFjaz1mdW5jdGlvbihmb3JtSHRtbCl7dmFyIGRpdixfZG9jdW1lbnQ9d2luZG93SGFuZGxlci5nZXREb2N1bWVudCgpOyhkaXY9X2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlubmVySFRNTD1mb3JtSHRtbCxfZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpLmNoaWxkcmVuWzBdLnN1Ym1pdCgpfSxIb3N0ZWRQYWdlcy5wcm90b3R5cGUubG9naW49ZnVuY3Rpb24ob3B0aW9ucyxjYil7aWYod2luZG93SGFuZGxlci5nZXRXaW5kb3coKS5sb2NhdGlvbi5ob3N0IT09dGhpcy5iYXNlT3B0aW9ucy5kb21haW4pdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgaXMgbWVhbnQgdG8gYmUgdXNlZCBvbmx5IGluc2lkZSB0aGUgVW5pdmVyc2FsIExvZ2luIFBhZ2UuXCIpO3ZhciB1c2VybmFtZVBhc3N3b3JkLHBhcmFtcz1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiLFwicmVkaXJlY3RVcmlcIixcInRlbmFudFwiLFwicmVzcG9uc2VUeXBlXCIsXCJyZXNwb25zZU1vZGVcIixcInNjb3BlXCIsXCJhdWRpZW5jZVwiLFwiX2NzcmZcIixcInN0YXRlXCIsXCJfaW50c3RhdGVcIixcIm5vbmNlXCJdKS53aXRoKG9wdGlvbnMpO3JldHVybiBhc3NlcnQuY2hlY2socGFyYW1zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSx7cmVzcG9uc2VUeXBlOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInJlc3BvbnNlVHlwZSBvcHRpb24gaXMgcmVxdWlyZWRcIn19KSwodXNlcm5hbWVQYXNzd29yZD1uZXcgVXNlcm5hbWVQYXNzd29yZCh0aGlzLmJhc2VPcHRpb25zKSkubG9naW4ocGFyYW1zLGZ1bmN0aW9uKGVycixkYXRhKXtyZXR1cm4gZXJyP2NiKGVycik6dXNlcm5hbWVQYXNzd29yZC5jYWxsYmFjayhkYXRhKX0pfSxIb3N0ZWRQYWdlcy5wcm90b3R5cGUuc2lnbnVwQW5kTG9naW49ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIF90aGlzPXRoaXM7cmV0dXJuIF90aGlzLmNsaWVudC5jbGllbnQuZGJDb25uZWN0aW9uLnNpZ251cChvcHRpb25zLGZ1bmN0aW9uKGVycil7cmV0dXJuIGVycj9jYihlcnIpOl90aGlzLmxvZ2luKG9wdGlvbnMsY2IpfSl9LEhvc3RlZFBhZ2VzLnByb3RvdHlwZS5nZXRTU09EYXRhPWZ1bmN0aW9uKHdpdGhBY3RpdmVEaXJlY3RvcmllcyxjYil7dmFyIHVybCxwYXJhbXM9XCJcIjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB3aXRoQWN0aXZlRGlyZWN0b3JpZXMmJihjYj13aXRoQWN0aXZlRGlyZWN0b3JpZXMsd2l0aEFjdGl2ZURpcmVjdG9yaWVzPSExKSxhc3NlcnQuY2hlY2sod2l0aEFjdGl2ZURpcmVjdG9yaWVzLHt0eXBlOlwiYm9vbGVhblwiLG1lc3NhZ2U6XCJ3aXRoQWN0aXZlRGlyZWN0b3JpZXMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksYXNzZXJ0LmNoZWNrKGNiLHt0eXBlOlwiZnVuY3Rpb25cIixtZXNzYWdlOlwiY2IgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksd2l0aEFjdGl2ZURpcmVjdG9yaWVzJiYocGFyYW1zPVwiP1wiK2xpYi5zdHJpbmdpZnkoe2xkYXBzOjEsY2xpZW50X2lkOnRoaXMuYmFzZU9wdGlvbnMuY2xpZW50SUR9KSksdXJsPXVybEpvaW4odGhpcy5iYXNlT3B0aW9ucy5yb290VXJsLFwidXNlclwiLFwic3NvZGF0YVwiLHBhcmFtcyksdGhpcy5yZXF1ZXN0LmdldCh1cmwse25vSGVhZGVyczohMH0pLndpdGhDcmVkZW50aWFscygpLmVuZCh3cmFwQ2FsbGJhY2soY2IpKX0sV2ViQXV0aC5wcm90b3R5cGUucGFyc2VIYXNoPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3ZhciBwYXJzZWRRcyxlcnI7Y2J8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIG9wdGlvbnM/b3B0aW9ucz1vcHRpb25zfHx7fTooY2I9b3B0aW9ucyxvcHRpb25zPXt9KTt2YXIgX3dpbmRvdz13aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLGhhc2hTdHI9dm9pZCAwPT09b3B0aW9ucy5oYXNoP193aW5kb3cubG9jYXRpb24uaGFzaDpvcHRpb25zLmhhc2g7aWYoaGFzaFN0cj1oYXNoU3RyLnJlcGxhY2UoL14jP1xcLz8vLFwiXCIpLChwYXJzZWRRcz1saWIucGFyc2UoaGFzaFN0cikpLmhhc093blByb3BlcnR5KFwiZXJyb3JcIikpcmV0dXJuIGVycj1lcnJvci5idWlsZFJlc3BvbnNlKHBhcnNlZFFzLmVycm9yLHBhcnNlZFFzLmVycm9yX2Rlc2NyaXB0aW9uKSxwYXJzZWRRcy5zdGF0ZSYmKGVyci5zdGF0ZT1wYXJzZWRRcy5zdGF0ZSksY2IoZXJyKTtpZighcGFyc2VkUXMuaGFzT3duUHJvcGVydHkoXCJhY2Nlc3NfdG9rZW5cIikmJiFwYXJzZWRRcy5oYXNPd25Qcm9wZXJ0eShcImlkX3Rva2VuXCIpJiYhcGFyc2VkUXMuaGFzT3duUHJvcGVydHkoXCJyZWZyZXNoX3Rva2VuXCIpKXJldHVybiBjYihudWxsLG51bGwpO3ZhciByZXNwb25zZVR5cGVzPSh0aGlzLmJhc2VPcHRpb25zLnJlc3BvbnNlVHlwZXx8b3B0aW9ucy5yZXNwb25zZVR5cGV8fFwiXCIpLnNwbGl0KFwiIFwiKTtyZXR1cm4gcmVzcG9uc2VUeXBlcy5sZW5ndGg+MCYmLTEhPT1yZXNwb25zZVR5cGVzLmluZGV4T2YoXCJ0b2tlblwiKSYmIXBhcnNlZFFzLmhhc093blByb3BlcnR5KFwiYWNjZXNzX3Rva2VuXCIpP2NiKGVycm9yLmJ1aWxkUmVzcG9uc2UoXCJpbnZhbGlkX2hhc2hcIixcInJlc3BvbnNlX3R5cGUgY29udGFpbnMgYHRva2VuYCwgYnV0IHRoZSBwYXJzZWQgaGFzaCBkb2VzIG5vdCBjb250YWluIGFuIGBhY2Nlc3NfdG9rZW5gIHByb3BlcnR5XCIpKTpyZXNwb25zZVR5cGVzLmxlbmd0aD4wJiYtMSE9PXJlc3BvbnNlVHlwZXMuaW5kZXhPZihcImlkX3Rva2VuXCIpJiYhcGFyc2VkUXMuaGFzT3duUHJvcGVydHkoXCJpZF90b2tlblwiKT9jYihlcnJvci5idWlsZFJlc3BvbnNlKFwiaW52YWxpZF9oYXNoXCIsXCJyZXNwb25zZV90eXBlIGNvbnRhaW5zIGBpZF90b2tlbmAsIGJ1dCB0aGUgcGFyc2VkIGhhc2ggZG9lcyBub3QgY29udGFpbiBhbiBgaWRfdG9rZW5gIHByb3BlcnR5XCIpKTp0aGlzLnZhbGlkYXRlQXV0aGVudGljYXRpb25SZXNwb25zZShvcHRpb25zLHBhcnNlZFFzLGNiKX0sV2ViQXV0aC5wcm90b3R5cGUudmFsaWRhdGVBdXRoZW50aWNhdGlvblJlc3BvbnNlPWZ1bmN0aW9uKG9wdGlvbnMscGFyc2VkSGFzaCxjYil7dmFyIF90aGlzPXRoaXM7b3B0aW9ucy5fX2VuYWJsZUlkUEluaXRpYXRlZExvZ2luPW9wdGlvbnMuX19lbmFibGVJZFBJbml0aWF0ZWRMb2dpbnx8b3B0aW9ucy5fX2VuYWJsZUltcGVyc29uYXRpb247dmFyIHN0YXRlPXBhcnNlZEhhc2guc3RhdGUsdHJhbnNhY3Rpb249dGhpcy50cmFuc2FjdGlvbk1hbmFnZXIuZ2V0U3RvcmVkVHJhbnNhY3Rpb24oc3RhdGUpLHRyYW5zYWN0aW9uU3RhdGU9b3B0aW9ucy5zdGF0ZXx8dHJhbnNhY3Rpb24mJnRyYW5zYWN0aW9uLnN0YXRlfHxudWxsLHRyYW5zYWN0aW9uU3RhdGVNYXRjaGVzU3RhdGU9dHJhbnNhY3Rpb25TdGF0ZT09PXN0YXRlO2lmKCEoIXN0YXRlJiYhdHJhbnNhY3Rpb25TdGF0ZSYmb3B0aW9ucy5fX2VuYWJsZUlkUEluaXRpYXRlZExvZ2luKSYmIXRyYW5zYWN0aW9uU3RhdGVNYXRjaGVzU3RhdGUpcmV0dXJuIGNiKHtlcnJvcjpcImludmFsaWRfdG9rZW5cIixlcnJvckRlc2NyaXB0aW9uOlwiYHN0YXRlYCBkb2VzIG5vdCBtYXRjaC5cIn0pO3ZhciB0cmFuc2FjdGlvbk5vbmNlPW9wdGlvbnMubm9uY2V8fHRyYW5zYWN0aW9uJiZ0cmFuc2FjdGlvbi5ub25jZXx8bnVsbCxhcHBTdGF0ZT1vcHRpb25zLnN0YXRlfHx0cmFuc2FjdGlvbiYmdHJhbnNhY3Rpb24uYXBwU3RhdGV8fG51bGwsY2FsbGJhY2s9ZnVuY3Rpb24oZXJyLHBheWxvYWQpe2lmKGVycilyZXR1cm4gY2IoZXJyKTt2YXIgc3ViO3RyYW5zYWN0aW9uJiZ0cmFuc2FjdGlvbi5sYXN0VXNlZENvbm5lY3Rpb24mJihwYXlsb2FkJiYoc3ViPXBheWxvYWQuc3ViKSxfdGhpcy5zc29kYXRhU3RvcmFnZS5zZXQodHJhbnNhY3Rpb24ubGFzdFVzZWRDb25uZWN0aW9uLHN1YikpO3JldHVybiBjYihudWxsLGJ1aWxkUGFyc2VIYXNoUmVzcG9uc2UocGFyc2VkSGFzaCxhcHBTdGF0ZSxwYXlsb2FkKSl9O3JldHVybiBwYXJzZWRIYXNoLmlkX3Rva2VuP3RoaXMudmFsaWRhdGVUb2tlbihwYXJzZWRIYXNoLmlkX3Rva2VuLHRyYW5zYWN0aW9uTm9uY2UsZnVuY3Rpb24odmFsaWRhdGlvbkVycm9yLHBheWxvYWQpe2lmKCF2YWxpZGF0aW9uRXJyb3IpcmV0dXJuIHBhcnNlZEhhc2guYWNjZXNzX3Rva2VuJiZwYXlsb2FkLmF0X2hhc2g/KG5ldyBzcmMpLnZhbGlkYXRlQWNjZXNzVG9rZW4ocGFyc2VkSGFzaC5hY2Nlc3NfdG9rZW4sXCJSUzI1NlwiLHBheWxvYWQuYXRfaGFzaCxmdW5jdGlvbihlcnIpe3JldHVybiBlcnI/Y2FsbGJhY2soZXJyb3IuaW52YWxpZFRva2VuKGVyci5tZXNzYWdlKSk6Y2FsbGJhY2sobnVsbCxwYXlsb2FkKX0pOmNhbGxiYWNrKG51bGwscGF5bG9hZCk7aWYoXCJpbnZhbGlkX3Rva2VuXCIhPT12YWxpZGF0aW9uRXJyb3IuZXJyb3J8fFwiTm9uY2UgZG9lcyBub3QgbWF0Y2guXCI9PT12YWxpZGF0aW9uRXJyb3IuZXJyb3JEZXNjcmlwdGlvbilyZXR1cm4gY2FsbGJhY2sodmFsaWRhdGlvbkVycm9yKTtpZihcIkhTMjU2XCIhPT0obmV3IHNyYykuZGVjb2RlKHBhcnNlZEhhc2guaWRfdG9rZW4pLmhlYWRlci5hbGcpcmV0dXJuIGNhbGxiYWNrKHZhbGlkYXRpb25FcnJvcik7aWYoIXBhcnNlZEhhc2guYWNjZXNzX3Rva2VuKXtyZXR1cm4gY2FsbGJhY2soe2Vycm9yOlwiaW52YWxpZF90b2tlblwiLGRlc2NyaXB0aW9uOlwiVGhlIGlkX3Rva2VuIGNhbm5vdCBiZSB2YWxpZGF0ZWQgYmVjYXVzZSBpdCB3YXMgc2lnbmVkIHdpdGggdGhlIEhTMjU2IGFsZ29yaXRobSBhbmQgcHVibGljIGNsaWVudHMgKGxpa2UgYSBicm93c2VyKSBjYW7igJl0IHN0b3JlIHNlY3JldHMuIFBsZWFzZSByZWFkIHRoZSBhc3NvY2lhdGVkIGRvYyBmb3IgcG9zc2libGUgd2F5cyB0byBmaXggdGhpcy4gUmVhZCBtb3JlOiBodHRwczovL2F1dGgwLmNvbS9kb2NzL2Vycm9ycy9saWJyYXJpZXMvYXV0aDAtanMvaW52YWxpZC10b2tlbiNwYXJzaW5nLWFuLWhzMjU2LXNpZ25lZC1pZC10b2tlbi13aXRob3V0LWFuLWFjY2Vzcy10b2tlblwifSl9cmV0dXJuIF90aGlzLmNsaWVudC51c2VySW5mbyhwYXJzZWRIYXNoLmFjY2Vzc190b2tlbixmdW5jdGlvbihlcnJVc2VySW5mbyxwcm9maWxlKXtyZXR1cm4gZXJyVXNlckluZm8/Y2FsbGJhY2soZXJyVXNlckluZm8pOmNhbGxiYWNrKG51bGwscHJvZmlsZSl9KX0pOmNhbGxiYWNrKG51bGwsbnVsbCl9LFdlYkF1dGgucHJvdG90eXBlLnZhbGlkYXRlVG9rZW49ZnVuY3Rpb24odG9rZW4sbm9uY2UsY2Ipe25ldyBzcmMoe2lzc3Vlcjp0aGlzLmJhc2VPcHRpb25zLnRva2VuX2lzc3Vlcixqd2tzVVJJOnRoaXMuYmFzZU9wdGlvbnMuandrc1VSSSxhdWRpZW5jZTp0aGlzLmJhc2VPcHRpb25zLmNsaWVudElELGxlZXdheTp0aGlzLmJhc2VPcHRpb25zLmxlZXdheXx8MCxfX2Rpc2FibGVFeHBpcmF0aW9uQ2hlY2s6dGhpcy5iYXNlT3B0aW9ucy5fX2Rpc2FibGVFeHBpcmF0aW9uQ2hlY2t9KS52ZXJpZnkodG9rZW4sbm9uY2UsZnVuY3Rpb24oZXJyLHBheWxvYWQpe2lmKGVycilyZXR1cm4gY2IoZXJyb3IuaW52YWxpZFRva2VuKGVyci5tZXNzYWdlKSk7Y2IobnVsbCxwYXlsb2FkKX0pfSxXZWJBdXRoLnByb3RvdHlwZS5yZW5ld0F1dGg9ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIHVzZVBvc3RNZXNzYWdlPSEhb3B0aW9ucy51c2VQb3N0TWVzc2FnZSxwb3N0TWVzc2FnZURhdGFUeXBlPW9wdGlvbnMucG9zdE1lc3NhZ2VEYXRhVHlwZXx8ITEscG9zdE1lc3NhZ2VPcmlnaW49b3B0aW9ucy5wb3N0TWVzc2FnZU9yaWdpbnx8d2luZG93SGFuZGxlci5nZXRXaW5kb3coKS5vcmlnaW4sdGltZW91dD1vcHRpb25zLnRpbWVvdXQsX3RoaXM9dGhpcyxwYXJhbXM9b2JqZWN0SGVscGVyLm1lcmdlKHRoaXMuYmFzZU9wdGlvbnMsW1wiY2xpZW50SURcIixcInJlZGlyZWN0VXJpXCIsXCJyZXNwb25zZVR5cGVcIixcInNjb3BlXCIsXCJhdWRpZW5jZVwiLFwiX2NzcmZcIixcInN0YXRlXCIsXCJfaW50c3RhdGVcIixcIm5vbmNlXCJdKS53aXRoKG9wdGlvbnMpO3BhcmFtcy5yZXNwb25zZVR5cGU9cGFyYW1zLnJlc3BvbnNlVHlwZXx8XCJ0b2tlblwiLHBhcmFtcy5yZXNwb25zZU1vZGU9cGFyYW1zLnJlc3BvbnNlTW9kZXx8XCJmcmFnbWVudFwiLHBhcmFtcz10aGlzLnRyYW5zYWN0aW9uTWFuYWdlci5wcm9jZXNzKHBhcmFtcyksYXNzZXJ0LmNoZWNrKHBhcmFtcyx7dHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLGFzc2VydC5jaGVjayhjYix7dHlwZTpcImZ1bmN0aW9uXCIsbWVzc2FnZTpcImNiIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLHBhcmFtcy5wcm9tcHQ9XCJub25lXCIscGFyYW1zPW9iamVjdEhlbHBlci5ibGFja2xpc3QocGFyYW1zLFtcInVzZVBvc3RNZXNzYWdlXCIsXCJ0ZW5hbnRcIixcInBvc3RNZXNzYWdlRGF0YVR5cGVcIixcInBvc3RNZXNzYWdlT3JpZ2luXCJdKSxTaWxlbnRBdXRoZW50aWNhdGlvbkhhbmRsZXIuY3JlYXRlKHthdXRoZW50aWNhdGlvblVybDp0aGlzLmNsaWVudC5idWlsZEF1dGhvcml6ZVVybChwYXJhbXMpLHBvc3RNZXNzYWdlRGF0YVR5cGU6cG9zdE1lc3NhZ2VEYXRhVHlwZSxwb3N0TWVzc2FnZU9yaWdpbjpwb3N0TWVzc2FnZU9yaWdpbix0aW1lb3V0OnRpbWVvdXR9KS5sb2dpbih1c2VQb3N0TWVzc2FnZSxmdW5jdGlvbihlcnIsaGFzaCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGhhc2gpcmV0dXJuIGNiKGVycixoYXNoKTtfdGhpcy5wYXJzZUhhc2goe2hhc2g6aGFzaH0sY2IpfSl9LFdlYkF1dGgucHJvdG90eXBlLmNoZWNrU2Vzc2lvbj1mdW5jdGlvbihvcHRpb25zLGNiKXt2YXIgcGFyYW1zPW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcImNsaWVudElEXCIsXCJyZXNwb25zZVR5cGVcIixcInJlZGlyZWN0VXJpXCIsXCJzY29wZVwiLFwiYXVkaWVuY2VcIixcIl9jc3JmXCIsXCJzdGF0ZVwiLFwiX2ludHN0YXRlXCIsXCJub25jZVwiXSkud2l0aChvcHRpb25zKTtyZXR1cm5cImNvZGVcIj09PXBhcmFtcy5yZXNwb25zZVR5cGU/Y2Ioe2Vycm9yOlwiZXJyb3JcIixlcnJvcl9kZXNjcmlwdGlvbjpcInJlc3BvbnNlVHlwZSBjYW4ndCBiZSBgY29kZWBcIn0pOihvcHRpb25zLm5vbmNlfHwocGFyYW1zPXRoaXMudHJhbnNhY3Rpb25NYW5hZ2VyLnByb2Nlc3MocGFyYW1zKSkscGFyYW1zLnJlZGlyZWN0VXJpPyhhc3NlcnQuY2hlY2socGFyYW1zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksYXNzZXJ0LmNoZWNrKGNiLHt0eXBlOlwiZnVuY3Rpb25cIixtZXNzYWdlOlwiY2IgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSkscGFyYW1zPW9iamVjdEhlbHBlci5ibGFja2xpc3QocGFyYW1zLFtcInVzZVBvc3RNZXNzYWdlXCIsXCJ0ZW5hbnRcIixcInBvc3RNZXNzYWdlRGF0YVR5cGVcIl0pLHZvaWQgdGhpcy53ZWJNZXNzYWdlSGFuZGxlci5ydW4ocGFyYW1zLHdyYXBDYWxsYmFjayhjYix7Zm9yY2VMZWdhY3lFcnJvcjohMCxpZ25vcmVDYXNpbmc6ITB9KSkpOmNiKHtlcnJvcjpcImVycm9yXCIsZXJyb3JfZGVzY3JpcHRpb246XCJyZWRpcmVjdFVyaSBjYW4ndCBiZSBlbXB0eVwifSkpfSxXZWJBdXRoLnByb3RvdHlwZS5jaGFuZ2VQYXNzd29yZD1mdW5jdGlvbihvcHRpb25zLGNiKXtyZXR1cm4gdGhpcy5jbGllbnQuZGJDb25uZWN0aW9uLmNoYW5nZVBhc3N3b3JkKG9wdGlvbnMsY2IpfSxXZWJBdXRoLnByb3RvdHlwZS5wYXNzd29yZGxlc3NTdGFydD1mdW5jdGlvbihvcHRpb25zLGNiKXt2YXIgYXV0aFBhcmFtcz1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJyZXNwb25zZVR5cGVcIixcInJlc3BvbnNlTW9kZVwiLFwicmVkaXJlY3RVcmlcIixcInNjb3BlXCIsXCJhdWRpZW5jZVwiLFwiX2NzcmZcIixcInN0YXRlXCIsXCJfaW50c3RhdGVcIixcIm5vbmNlXCJdKS53aXRoKG9wdGlvbnMuYXV0aFBhcmFtcyk7cmV0dXJuIG9wdGlvbnMuYXV0aFBhcmFtcz10aGlzLnRyYW5zYWN0aW9uTWFuYWdlci5wcm9jZXNzKGF1dGhQYXJhbXMpLHRoaXMuY2xpZW50LnBhc3N3b3JkbGVzcy5zdGFydChvcHRpb25zLGNiKX0sV2ViQXV0aC5wcm90b3R5cGUuc2lnbnVwPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3JldHVybiB0aGlzLmNsaWVudC5kYkNvbm5lY3Rpb24uc2lnbnVwKG9wdGlvbnMsY2IpfSxXZWJBdXRoLnByb3RvdHlwZS5hdXRob3JpemU9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIHBhcmFtcz1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiLFwicmVzcG9uc2VUeXBlXCIsXCJyZXNwb25zZU1vZGVcIixcInJlZGlyZWN0VXJpXCIsXCJzY29wZVwiLFwiYXVkaWVuY2VcIixcIl9jc3JmXCIsXCJzdGF0ZVwiLFwiX2ludHN0YXRlXCIsXCJub25jZVwiXSkud2l0aChvcHRpb25zKTthc3NlcnQuY2hlY2socGFyYW1zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSx7cmVzcG9uc2VUeXBlOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInJlc3BvbnNlVHlwZSBvcHRpb24gaXMgcmVxdWlyZWRcIn19KSwocGFyYW1zPXRoaXMudHJhbnNhY3Rpb25NYW5hZ2VyLnByb2Nlc3MocGFyYW1zKSkuc2NvcGU9cGFyYW1zLnNjb3BlfHxcIm9wZW5pZCBwcm9maWxlIGVtYWlsXCIsd2luZG93SGFuZGxlci5yZWRpcmVjdCh0aGlzLmNsaWVudC5idWlsZEF1dGhvcml6ZVVybChwYXJhbXMpKX0sV2ViQXV0aC5wcm90b3R5cGUuc2lnbnVwQW5kQXV0aG9yaXplPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3ZhciBfdGhpcz10aGlzO3JldHVybiB0aGlzLmNsaWVudC5kYkNvbm5lY3Rpb24uc2lnbnVwKG9iamVjdEhlbHBlci5ibGFja2xpc3Qob3B0aW9ucyxbXCJwb3B1cEhhbmRsZXJcIl0pLGZ1bmN0aW9uKGVycil7aWYoZXJyKXJldHVybiBjYihlcnIpO29wdGlvbnMucmVhbG09b3B0aW9ucy5jb25uZWN0aW9uLG9wdGlvbnMudXNlcm5hbWV8fChvcHRpb25zLnVzZXJuYW1lPW9wdGlvbnMuZW1haWwpLF90aGlzLmNsaWVudC5sb2dpbihvcHRpb25zLGNiKX0pfSxXZWJBdXRoLnByb3RvdHlwZS5sb2dpbj1mdW5jdGlvbihvcHRpb25zLGNiKXt2YXIgcGFyYW1zPW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcImNsaWVudElEXCIsXCJyZXNwb25zZVR5cGVcIixcInJlZGlyZWN0VXJpXCIsXCJzY29wZVwiLFwiYXVkaWVuY2VcIixcIl9jc3JmXCIsXCJzdGF0ZVwiLFwiX2ludHN0YXRlXCIsXCJub25jZVwiXSkud2l0aChvcHRpb25zKTtwYXJhbXM9dGhpcy50cmFuc2FjdGlvbk1hbmFnZXIucHJvY2VzcyhwYXJhbXMpLHdpbmRvd0hhbmRsZXIuZ2V0V2luZG93KCkubG9jYXRpb24uaG9zdD09PXRoaXMuYmFzZU9wdGlvbnMuZG9tYWluPyhwYXJhbXMuY29ubmVjdGlvbj1wYXJhbXMucmVhbG0sZGVsZXRlIHBhcmFtcy5yZWFsbSx0aGlzLl91bml2ZXJzYWxMb2dpbi5sb2dpbihwYXJhbXMsY2IpKTp0aGlzLmNyb3NzT3JpZ2luQXV0aGVudGljYXRpb24ubG9naW4ocGFyYW1zLGNiKX0sV2ViQXV0aC5wcm90b3R5cGUucGFzc3dvcmRsZXNzTG9naW49ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIHBhcmFtcz1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiLFwicmVzcG9uc2VUeXBlXCIsXCJyZWRpcmVjdFVyaVwiLFwic2NvcGVcIixcImF1ZGllbmNlXCIsXCJfY3NyZlwiLFwic3RhdGVcIixcIl9pbnRzdGF0ZVwiLFwibm9uY2VcIl0pLndpdGgob3B0aW9ucyk7aWYocGFyYW1zPXRoaXMudHJhbnNhY3Rpb25NYW5hZ2VyLnByb2Nlc3MocGFyYW1zKSx3aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLmxvY2F0aW9uLmhvc3Q9PT10aGlzLmJhc2VPcHRpb25zLmRvbWFpbil0aGlzLnBhc3N3b3JkbGVzc1ZlcmlmeShwYXJhbXMsY2IpO2Vsc2V7dmFyIGNyb3NzT3JpZ2luT3B0aW9ucz1vYmplY3RIZWxwZXIuZXh0ZW5kKHtjcmVkZW50aWFsVHlwZTpcImh0dHA6Ly9hdXRoMC5jb20vb2F1dGgvZ3JhbnQtdHlwZS9wYXNzd29yZGxlc3Mvb3RwXCIscmVhbG06cGFyYW1zLmNvbm5lY3Rpb24sdXNlcm5hbWU6cGFyYW1zLmVtYWlsfHxwYXJhbXMucGhvbmVOdW1iZXIsb3RwOnBhcmFtcy52ZXJpZmljYXRpb25Db2RlfSxvYmplY3RIZWxwZXIuYmxhY2tsaXN0KHBhcmFtcyxbXCJjb25uZWN0aW9uXCIsXCJlbWFpbFwiLFwicGhvbmVOdW1iZXJcIixcInZlcmlmaWNhdGlvbkNvZGVcIl0pKTt0aGlzLmNyb3NzT3JpZ2luQXV0aGVudGljYXRpb24ubG9naW4oY3Jvc3NPcmlnaW5PcHRpb25zLGNiKX19LFdlYkF1dGgucHJvdG90eXBlLmNyb3NzT3JpZ2luQXV0aGVudGljYXRpb25DYWxsYmFjaz1mdW5jdGlvbigpe3RoaXMuY3Jvc3NPcmlnaW5WZXJpZmljYXRpb24oKX0sV2ViQXV0aC5wcm90b3R5cGUuY3Jvc3NPcmlnaW5WZXJpZmljYXRpb249ZnVuY3Rpb24oKXt0aGlzLmNyb3NzT3JpZ2luQXV0aGVudGljYXRpb24uY2FsbGJhY2soKX0sV2ViQXV0aC5wcm90b3R5cGUubG9nb3V0PWZ1bmN0aW9uKG9wdGlvbnMpe3dpbmRvd0hhbmRsZXIucmVkaXJlY3QodGhpcy5jbGllbnQuYnVpbGRMb2dvdXRVcmwob3B0aW9ucykpfSxXZWJBdXRoLnByb3RvdHlwZS5wYXNzd29yZGxlc3NWZXJpZnk9ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIF90aGlzPXRoaXMscGFyYW1zPW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcImNsaWVudElEXCIsXCJyZXNwb25zZVR5cGVcIixcInJlc3BvbnNlTW9kZVwiLFwicmVkaXJlY3RVcmlcIixcInNjb3BlXCIsXCJhdWRpZW5jZVwiLFwiX2NzcmZcIixcInN0YXRlXCIsXCJfaW50c3RhdGVcIixcIm5vbmNlXCJdKS53aXRoKG9wdGlvbnMpO3JldHVybiBhc3NlcnQuY2hlY2socGFyYW1zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSx7cmVzcG9uc2VUeXBlOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInJlc3BvbnNlVHlwZSBvcHRpb24gaXMgcmVxdWlyZWRcIn19KSxwYXJhbXM9dGhpcy50cmFuc2FjdGlvbk1hbmFnZXIucHJvY2VzcyhwYXJhbXMpLHRoaXMuY2xpZW50LnBhc3N3b3JkbGVzcy52ZXJpZnkocGFyYW1zLGZ1bmN0aW9uKGVycil7cmV0dXJuIGVycj9jYihlcnIpOndpbmRvd0hhbmRsZXIucmVkaXJlY3QoX3RoaXMuY2xpZW50LnBhc3N3b3JkbGVzcy5idWlsZFZlcmlmeVVybChwYXJhbXMpKX0pfSxQYXNzd29yZGxlc3NBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuYnVpbGRWZXJpZnlVcmw9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIHBhcmFtcyxxU3RyaW5nO3JldHVybiBhc3NlcnQuY2hlY2sob3B0aW9ucyx7dHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0se2Nvbm5lY3Rpb246e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiY29ubmVjdGlvbiBvcHRpb24gaXMgcmVxdWlyZWRcIn0sdmVyaWZpY2F0aW9uQ29kZTp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJ2ZXJpZmljYXRpb25Db2RlIG9wdGlvbiBpcyByZXF1aXJlZFwifSxwaG9uZU51bWJlcjp7b3B0aW9uYWw6ITEsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJwaG9uZU51bWJlciBvcHRpb24gaXMgcmVxdWlyZWRcIixjb25kaXRpb246ZnVuY3Rpb24obyl7cmV0dXJuIW8uZW1haWx9fSxlbWFpbDp7b3B0aW9uYWw6ITEsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJlbWFpbCBvcHRpb24gaXMgcmVxdWlyZWRcIixjb25kaXRpb246ZnVuY3Rpb24obyl7cmV0dXJuIW8ucGhvbmVOdW1iZXJ9fX0pLHBhcmFtcz1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiLFwicmVzcG9uc2VUeXBlXCIsXCJyZXNwb25zZU1vZGVcIixcInJlZGlyZWN0VXJpXCIsXCJzY29wZVwiLFwiYXVkaWVuY2VcIixcIl9jc3JmXCIsXCJzdGF0ZVwiLFwiX2ludHN0YXRlXCIsXCJwcm90b2NvbFwiLFwibm9uY2VcIl0pLndpdGgob3B0aW9ucyksdGhpcy5iYXNlT3B0aW9ucy5fc2VuZFRlbGVtZXRyeSYmKHBhcmFtcy5hdXRoMENsaWVudD10aGlzLnJlcXVlc3QuZ2V0VGVsZW1ldHJ5RGF0YSgpKSxwYXJhbXM9b2JqZWN0SGVscGVyLnRvU25ha2VDYXNlKHBhcmFtcyxbXCJhdXRoMENsaWVudFwiXSkscVN0cmluZz1saWIuc3RyaW5naWZ5KHBhcmFtcyksdXJsSm9pbih0aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsXCJwYXNzd29yZGxlc3NcIixcInZlcmlmeV9yZWRpcmVjdFwiLFwiP1wiK3FTdHJpbmcpfSxQYXNzd29yZGxlc3NBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIHVybCxib2R5O3JldHVybiBhc3NlcnQuY2hlY2sob3B0aW9ucyx7dHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0se2Nvbm5lY3Rpb246e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiY29ubmVjdGlvbiBvcHRpb24gaXMgcmVxdWlyZWRcIn0sc2VuZDp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJzZW5kIG9wdGlvbiBpcyByZXF1aXJlZFwiLHZhbHVlczpbXCJsaW5rXCIsXCJjb2RlXCJdLHZhbHVlX21lc3NhZ2U6XCJzZW5kIGlzIG5vdCB2YWxpZCAoW2xpbmssIGNvZGVdKVwifSxwaG9uZU51bWJlcjp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJwaG9uZU51bWJlciBvcHRpb24gaXMgcmVxdWlyZWRcIixjb25kaXRpb246ZnVuY3Rpb24obyl7cmV0dXJuXCJjb2RlXCI9PT1vLnNlbmR8fCFvLmVtYWlsfX0sZW1haWw6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiZW1haWwgb3B0aW9uIGlzIHJlcXVpcmVkXCIsY29uZGl0aW9uOmZ1bmN0aW9uKG8pe3JldHVyblwibGlua1wiPT09by5zZW5kfHwhby5waG9uZU51bWJlcn19LGF1dGhQYXJhbXM6e29wdGlvbmFsOiEwLHR5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwiYXV0aFBhcmFtcyBvcHRpb24gaXMgcmVxdWlyZWRcIn19KSxhc3NlcnQuY2hlY2soY2Ise3R5cGU6XCJmdW5jdGlvblwiLG1lc3NhZ2U6XCJjYiBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9KSx1cmw9dXJsSm9pbih0aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsXCJwYXNzd29yZGxlc3NcIixcInN0YXJ0XCIpLChib2R5PW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcImNsaWVudElEXCIsXCJyZXNwb25zZVR5cGVcIixcInJlZGlyZWN0VXJpXCIsXCJzY29wZVwiXSkud2l0aChvcHRpb25zKSkuc2NvcGUmJihib2R5LmF1dGhQYXJhbXM9Ym9keS5hdXRoUGFyYW1zfHx7fSxib2R5LmF1dGhQYXJhbXMuc2NvcGU9Ym9keS5zY29wZSksYm9keS5yZWRpcmVjdFVyaSYmKGJvZHkuYXV0aFBhcmFtcz1ib2R5LmF1dGhQYXJhbXN8fHt9LGJvZHkuYXV0aFBhcmFtcy5yZWRpcmVjdF91cmk9Ym9keS5yZWRpcmVjdFVyaSksYm9keS5yZXNwb25zZVR5cGUmJihib2R5LmF1dGhQYXJhbXM9Ym9keS5hdXRoUGFyYW1zfHx7fSxib2R5LmF1dGhQYXJhbXMucmVzcG9uc2VfdHlwZT1ib2R5LnJlc3BvbnNlVHlwZSksZGVsZXRlIGJvZHkucmVkaXJlY3RVcmksZGVsZXRlIGJvZHkucmVzcG9uc2VUeXBlLGRlbGV0ZSBib2R5LnNjb3BlLGJvZHk9b2JqZWN0SGVscGVyLnRvU25ha2VDYXNlKGJvZHksW1wiYXV0aDBDbGllbnRcIixcImF1dGhQYXJhbXNcIl0pLHRoaXMucmVxdWVzdC5wb3N0KHVybCkuc2VuZChib2R5KS5lbmQod3JhcENhbGxiYWNrKGNiKSl9LFBhc3N3b3JkbGVzc0F1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIHVybCxjbGVhbk9wdGlvbjtyZXR1cm4gYXNzZXJ0LmNoZWNrKG9wdGlvbnMse3R5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwib3B0aW9ucyBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9LHtjb25uZWN0aW9uOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImNvbm5lY3Rpb24gb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LHZlcmlmaWNhdGlvbkNvZGU6e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwidmVyaWZpY2F0aW9uQ29kZSBvcHRpb24gaXMgcmVxdWlyZWRcIn0scGhvbmVOdW1iZXI6e29wdGlvbmFsOiExLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwicGhvbmVOdW1iZXIgb3B0aW9uIGlzIHJlcXVpcmVkXCIsY29uZGl0aW9uOmZ1bmN0aW9uKG8pe3JldHVybiFvLmVtYWlsfX0sZW1haWw6e29wdGlvbmFsOiExLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiZW1haWwgb3B0aW9uIGlzIHJlcXVpcmVkXCIsY29uZGl0aW9uOmZ1bmN0aW9uKG8pe3JldHVybiFvLnBob25lTnVtYmVyfX19KSxhc3NlcnQuY2hlY2soY2Ise3R5cGU6XCJmdW5jdGlvblwiLG1lc3NhZ2U6XCJjYiBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9KSxjbGVhbk9wdGlvbj1vYmplY3RIZWxwZXIucGljayhvcHRpb25zLFtcImNvbm5lY3Rpb25cIixcInZlcmlmaWNhdGlvbkNvZGVcIixcInBob25lTnVtYmVyXCIsXCJlbWFpbFwiLFwiYXV0aDBDbGllbnRcIl0pLGNsZWFuT3B0aW9uPW9iamVjdEhlbHBlci50b1NuYWtlQ2FzZShjbGVhbk9wdGlvbixbXCJhdXRoMENsaWVudFwiXSksdXJsPXVybEpvaW4odGhpcy5iYXNlT3B0aW9ucy5yb290VXJsLFwicGFzc3dvcmRsZXNzXCIsXCJ2ZXJpZnlcIiksdGhpcy5yZXF1ZXN0LnBvc3QodXJsKS5zZW5kKGNsZWFuT3B0aW9uKS5lbmQod3JhcENhbGxiYWNrKGNiKSl9LERCQ29ubmVjdGlvbi5wcm90b3R5cGUuc2lnbnVwPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3ZhciB1cmwsYm9keSxtZXRhZGF0YTtyZXR1cm4gYXNzZXJ0LmNoZWNrKG9wdGlvbnMse3R5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwib3B0aW9ucyBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9LHtjb25uZWN0aW9uOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImNvbm5lY3Rpb24gb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LGVtYWlsOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImVtYWlsIG9wdGlvbiBpcyByZXF1aXJlZFwifSxwYXNzd29yZDp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJwYXNzd29yZCBvcHRpb24gaXMgcmVxdWlyZWRcIn19KSxhc3NlcnQuY2hlY2soY2Ise3R5cGU6XCJmdW5jdGlvblwiLG1lc3NhZ2U6XCJjYiBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9KSx1cmw9dXJsSm9pbih0aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsXCJkYmNvbm5lY3Rpb25zXCIsXCJzaWdudXBcIiksbWV0YWRhdGE9KGJvZHk9b2JqZWN0SGVscGVyLm1lcmdlKHRoaXMuYmFzZU9wdGlvbnMsW1wiY2xpZW50SURcIl0pLndpdGgob3B0aW9ucykpLnVzZXJfbWV0YWRhdGF8fGJvZHkudXNlck1ldGFkYXRhLGJvZHk9b2JqZWN0SGVscGVyLmJsYWNrbGlzdChib2R5LFtcInNjb3BlXCIsXCJ1c2VyTWV0YWRhdGFcIixcInVzZXJfbWV0YWRhdGFcIl0pLGJvZHk9b2JqZWN0SGVscGVyLnRvU25ha2VDYXNlKGJvZHksW1wiYXV0aDBDbGllbnRcIl0pLG1ldGFkYXRhJiYoYm9keS51c2VyX21ldGFkYXRhPW1ldGFkYXRhKSx0aGlzLnJlcXVlc3QucG9zdCh1cmwpLnNlbmQoYm9keSkuZW5kKHdyYXBDYWxsYmFjayhjYikpfSxEQkNvbm5lY3Rpb24ucHJvdG90eXBlLmNoYW5nZVBhc3N3b3JkPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3ZhciB1cmwsYm9keTtyZXR1cm4gYXNzZXJ0LmNoZWNrKG9wdGlvbnMse3R5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwib3B0aW9ucyBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9LHtjb25uZWN0aW9uOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImNvbm5lY3Rpb24gb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LGVtYWlsOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImVtYWlsIG9wdGlvbiBpcyByZXF1aXJlZFwifX0pLGFzc2VydC5jaGVjayhjYix7dHlwZTpcImZ1bmN0aW9uXCIsbWVzc2FnZTpcImNiIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLHVybD11cmxKb2luKHRoaXMuYmFzZU9wdGlvbnMucm9vdFVybCxcImRiY29ubmVjdGlvbnNcIixcImNoYW5nZV9wYXNzd29yZFwiKSxib2R5PW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcImNsaWVudElEXCJdKS53aXRoKG9wdGlvbnMsW1wiZW1haWxcIixcImNvbm5lY3Rpb25cIl0pLGJvZHk9b2JqZWN0SGVscGVyLnRvU25ha2VDYXNlKGJvZHksW1wiYXV0aDBDbGllbnRcIl0pLHRoaXMucmVxdWVzdC5wb3N0KHVybCkuc2VuZChib2R5KS5lbmQod3JhcENhbGxiYWNrKGNiKSl9LEF1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS5idWlsZEF1dGhvcml6ZVVybD1mdW5jdGlvbihvcHRpb25zKXt2YXIgcGFyYW1zLHFTdHJpbmc7cmV0dXJuIGFzc2VydC5jaGVjayhvcHRpb25zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSkscGFyYW1zPW9iamVjdEhlbHBlci5tZXJnZSh0aGlzLmJhc2VPcHRpb25zLFtcImNsaWVudElEXCIsXCJyZXNwb25zZVR5cGVcIixcInJlc3BvbnNlTW9kZVwiLFwicmVkaXJlY3RVcmlcIixcInNjb3BlXCIsXCJhdWRpZW5jZVwiXSkud2l0aChvcHRpb25zKSxhc3NlcnQuY2hlY2socGFyYW1zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSx7Y2xpZW50SUQ6e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiY2xpZW50SUQgb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LHJlZGlyZWN0VXJpOntvcHRpb25hbDohMCx0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInJlZGlyZWN0VXJpIG9wdGlvbiBpcyByZXF1aXJlZFwifSxyZXNwb25zZVR5cGU6e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwicmVzcG9uc2VUeXBlIG9wdGlvbiBpcyByZXF1aXJlZFwifSxub25jZTp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJub25jZSBvcHRpb24gaXMgcmVxdWlyZWRcIixjb25kaXRpb246ZnVuY3Rpb24obyl7cmV0dXJuLTE9PT1vLnJlc3BvbnNlVHlwZS5pbmRleE9mKFwiY29kZVwiKSYmLTEhPT1vLnJlc3BvbnNlVHlwZS5pbmRleE9mKFwiaWRfdG9rZW5cIil9fSxzY29wZTp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJzY29wZSBvcHRpb24gaXMgcmVxdWlyZWRcIn0sYXVkaWVuY2U6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiYXVkaWVuY2Ugb3B0aW9uIGlzIHJlcXVpcmVkXCJ9fSksdGhpcy5iYXNlT3B0aW9ucy5fc2VuZFRlbGVtZXRyeSYmKHBhcmFtcy5hdXRoMENsaWVudD10aGlzLnJlcXVlc3QuZ2V0VGVsZW1ldHJ5RGF0YSgpKSxwYXJhbXMuY29ubmVjdGlvbl9zY29wZSYmYXNzZXJ0LmlzQXJyYXkocGFyYW1zLmNvbm5lY3Rpb25fc2NvcGUpJiYocGFyYW1zLmNvbm5lY3Rpb25fc2NvcGU9cGFyYW1zLmNvbm5lY3Rpb25fc2NvcGUuam9pbihcIixcIikpLHBhcmFtcz1vYmplY3RIZWxwZXIuYmxhY2tsaXN0KHBhcmFtcyxbXCJ1c2VybmFtZVwiLFwicG9wdXBPcHRpb25zXCIsXCJkb21haW5cIixcInRlbmFudFwiLFwidGltZW91dFwiLFwiYXBwU3RhdGVcIl0pLHBhcmFtcz1vYmplY3RIZWxwZXIudG9TbmFrZUNhc2UocGFyYW1zLFtcImF1dGgwQ2xpZW50XCJdKSxwYXJhbXM9cGFyYW1ldGVyc1doaXRlbGlzdC5vYXV0aEF1dGhvcml6ZVBhcmFtcyh0aGlzLndhcm4scGFyYW1zKSxxU3RyaW5nPWxpYi5zdHJpbmdpZnkocGFyYW1zKSx1cmxKb2luKHRoaXMuYmFzZU9wdGlvbnMucm9vdFVybCxcImF1dGhvcml6ZVwiLFwiP1wiK3FTdHJpbmcpfSxBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuYnVpbGRMb2dvdXRVcmw9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIHBhcmFtcyxxU3RyaW5nO3JldHVybiBhc3NlcnQuY2hlY2sob3B0aW9ucyx7b3B0aW9uYWw6ITAsdHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLHBhcmFtcz1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiXSkud2l0aChvcHRpb25zfHx7fSksdGhpcy5iYXNlT3B0aW9ucy5fc2VuZFRlbGVtZXRyeSYmKHBhcmFtcy5hdXRoMENsaWVudD10aGlzLnJlcXVlc3QuZ2V0VGVsZW1ldHJ5RGF0YSgpKSxwYXJhbXM9b2JqZWN0SGVscGVyLnRvU25ha2VDYXNlKHBhcmFtcyxbXCJhdXRoMENsaWVudFwiLFwicmV0dXJuVG9cIl0pLHFTdHJpbmc9bGliLnN0cmluZ2lmeShvYmplY3RIZWxwZXIuYmxhY2tsaXN0KHBhcmFtcyxbXCJmZWRlcmF0ZWRcIl0pKSxvcHRpb25zJiZ2b2lkIDAhPT1vcHRpb25zLmZlZGVyYXRlZCYmITEhPT1vcHRpb25zLmZlZGVyYXRlZCYmXCJmYWxzZVwiIT09b3B0aW9ucy5mZWRlcmF0ZWQmJihxU3RyaW5nKz1cIiZmZWRlcmF0ZWRcIiksdXJsSm9pbih0aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsXCJ2MlwiLFwibG9nb3V0XCIsXCI/XCIrcVN0cmluZyl9LEF1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS5sb2dpbldpdGhEZWZhdWx0RGlyZWN0b3J5PWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3JldHVybiBhc3NlcnQuY2hlY2sob3B0aW9ucyx7dHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0se3VzZXJuYW1lOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInVzZXJuYW1lIG9wdGlvbiBpcyByZXF1aXJlZFwifSxwYXNzd29yZDp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJwYXNzd29yZCBvcHRpb24gaXMgcmVxdWlyZWRcIn0sc2NvcGU6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwic2NvcGUgb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LGF1ZGllbmNlOntvcHRpb25hbDohMCx0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcImF1ZGllbmNlIG9wdGlvbiBpcyByZXF1aXJlZFwifX0pLG9wdGlvbnMuZ3JhbnRUeXBlPVwicGFzc3dvcmRcIix0aGlzLm9hdXRoVG9rZW4ob3B0aW9ucyxjYil9LEF1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS5sb2dpbj1mdW5jdGlvbihvcHRpb25zLGNiKXtyZXR1cm4gYXNzZXJ0LmNoZWNrKG9wdGlvbnMse3R5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwib3B0aW9ucyBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9LHt1c2VybmFtZTp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJ1c2VybmFtZSBvcHRpb24gaXMgcmVxdWlyZWRcIn0scGFzc3dvcmQ6e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwicGFzc3dvcmQgb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LHJlYWxtOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInJlYWxtIG9wdGlvbiBpcyByZXF1aXJlZFwifSxzY29wZTp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJzY29wZSBvcHRpb24gaXMgcmVxdWlyZWRcIn0sYXVkaWVuY2U6e29wdGlvbmFsOiEwLHR5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiYXVkaWVuY2Ugb3B0aW9uIGlzIHJlcXVpcmVkXCJ9fSksb3B0aW9ucy5ncmFudFR5cGU9XCJodHRwOi8vYXV0aDAuY29tL29hdXRoL2dyYW50LXR5cGUvcGFzc3dvcmQtcmVhbG1cIix0aGlzLm9hdXRoVG9rZW4ob3B0aW9ucyxjYil9LEF1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS5vYXV0aFRva2VuPWZ1bmN0aW9uKG9wdGlvbnMsY2Ipe3ZhciB1cmwsYm9keTtyZXR1cm4gYXNzZXJ0LmNoZWNrKG9wdGlvbnMse3R5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwib3B0aW9ucyBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9KSxhc3NlcnQuY2hlY2soY2Ise3R5cGU6XCJmdW5jdGlvblwiLG1lc3NhZ2U6XCJjYiBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9KSx1cmw9dXJsSm9pbih0aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsXCJvYXV0aFwiLFwidG9rZW5cIiksYm9keT1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiLFwic2NvcGVcIixcImF1ZGllbmNlXCJdKS53aXRoKG9wdGlvbnMpLGFzc2VydC5jaGVjayhib2R5LHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSx7Y2xpZW50SUQ6e3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiY2xpZW50SUQgb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LGdyYW50VHlwZTp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJncmFudFR5cGUgb3B0aW9uIGlzIHJlcXVpcmVkXCJ9LHNjb3BlOntvcHRpb25hbDohMCx0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInNjb3BlIG9wdGlvbiBpcyByZXF1aXJlZFwifSxhdWRpZW5jZTp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJhdWRpZW5jZSBvcHRpb24gaXMgcmVxdWlyZWRcIn19KSxib2R5PW9iamVjdEhlbHBlci50b1NuYWtlQ2FzZShib2R5LFtcImF1dGgwQ2xpZW50XCJdKSxib2R5PXBhcmFtZXRlcnNXaGl0ZWxpc3Qub2F1dGhUb2tlblBhcmFtcyh0aGlzLndhcm4sYm9keSksdGhpcy5yZXF1ZXN0LnBvc3QodXJsKS5zZW5kKGJvZHkpLmVuZCh3cmFwQ2FsbGJhY2soY2IpKX0sQXV0aGVudGljYXRpb24ucHJvdG90eXBlLmxvZ2luV2l0aFJlc291cmNlT3duZXI9ZnVuY3Rpb24ob3B0aW9ucyxjYil7dmFyIHVybCxib2R5O3JldHVybiBhc3NlcnQuY2hlY2sob3B0aW9ucyx7dHlwZTpcIm9iamVjdFwiLG1lc3NhZ2U6XCJvcHRpb25zIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0se3VzZXJuYW1lOnt0eXBlOlwic3RyaW5nXCIsbWVzc2FnZTpcInVzZXJuYW1lIG9wdGlvbiBpcyByZXF1aXJlZFwifSxwYXNzd29yZDp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJwYXNzd29yZCBvcHRpb24gaXMgcmVxdWlyZWRcIn0sY29ubmVjdGlvbjp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJjb25uZWN0aW9uIG9wdGlvbiBpcyByZXF1aXJlZFwifSxzY29wZTp7b3B0aW9uYWw6ITAsdHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJzY29wZSBvcHRpb24gaXMgcmVxdWlyZWRcIn19KSxhc3NlcnQuY2hlY2soY2Ise3R5cGU6XCJmdW5jdGlvblwiLG1lc3NhZ2U6XCJjYiBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCJ9KSx1cmw9dXJsSm9pbih0aGlzLmJhc2VPcHRpb25zLnJvb3RVcmwsXCJvYXV0aFwiLFwicm9cIiksYm9keT1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiLFwic2NvcGVcIl0pLndpdGgob3B0aW9ucyxbXCJ1c2VybmFtZVwiLFwicGFzc3dvcmRcIixcInNjb3BlXCIsXCJjb25uZWN0aW9uXCIsXCJkZXZpY2VcIl0pLChib2R5PW9iamVjdEhlbHBlci50b1NuYWtlQ2FzZShib2R5LFtcImF1dGgwQ2xpZW50XCJdKSkuZ3JhbnRfdHlwZT1ib2R5LmdyYW50X3R5cGV8fFwicGFzc3dvcmRcIix0aGlzLnJlcXVlc3QucG9zdCh1cmwpLnNlbmQoYm9keSkuZW5kKHdyYXBDYWxsYmFjayhjYikpfSxBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuZ2V0U1NPRGF0YT1mdW5jdGlvbih3aXRoQWN0aXZlRGlyZWN0b3JpZXMsY2Ipe2lmKHRoaXMuYXV0aDB8fCh0aGlzLmF1dGgwPW5ldyBXZWJBdXRoKHRoaXMuYmFzZU9wdGlvbnMpKSx3aW5kb3dIYW5kbGVyLmdldFdpbmRvdygpLmxvY2F0aW9uLmhvc3Q9PT10aGlzLmJhc2VPcHRpb25zLmRvbWFpbilyZXR1cm4gdGhpcy5hdXRoMC5fdW5pdmVyc2FsTG9naW4uZ2V0U1NPRGF0YSh3aXRoQWN0aXZlRGlyZWN0b3JpZXMsY2IpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHdpdGhBY3RpdmVEaXJlY3RvcmllcyYmKGNiPXdpdGhBY3RpdmVEaXJlY3RvcmllcyksYXNzZXJ0LmNoZWNrKGNiLHt0eXBlOlwiZnVuY3Rpb25cIixtZXNzYWdlOlwiY2IgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSk7dmFyIGNsaWVudElkPXRoaXMuYmFzZU9wdGlvbnMuY2xpZW50SUQsc3NvZGF0YUluZm9ybWF0aW9uPXRoaXMuc3NvZGF0YVN0b3JhZ2UuZ2V0KCl8fHt9O3RoaXMuYXV0aDAuY2hlY2tTZXNzaW9uKHtyZXNwb25zZVR5cGU6XCJ0b2tlbiBpZF90b2tlblwiLHNjb3BlOlwib3BlbmlkIHByb2ZpbGUgZW1haWxcIixjb25uZWN0aW9uOnNzb2RhdGFJbmZvcm1hdGlvbi5sYXN0VXNlZENvbm5lY3Rpb24sdGltZW91dDo1ZTN9LGZ1bmN0aW9uKGVycixyZXN1bHQpe3JldHVybiBlcnI/XCJsb2dpbl9yZXF1aXJlZFwiPT09ZXJyLmVycm9yP2NiKG51bGwse3NzbzohMX0pOihcImNvbnNlbnRfcmVxdWlyZWRcIj09PWVyci5lcnJvciYmKGVyci5lcnJvcl9kZXNjcmlwdGlvbj1cIkNvbnNlbnQgcmVxdWlyZWQuIFdoZW4gdXNpbmcgYGdldFNTT0RhdGFgLCB0aGUgdXNlciBoYXMgdG8gYmUgYXV0aGVudGljYXRlZCB3aXRoIHRoZSBmb2xsb3dpbmcgc2NvcGU6IGBvcGVuaWQgcHJvZmlsZSBlbWFpbGAuXCIpLGNiKGVycix7c3NvOiExfSkpOnNzb2RhdGFJbmZvcm1hdGlvbi5sYXN0VXNlZFN1YiYmc3NvZGF0YUluZm9ybWF0aW9uLmxhc3RVc2VkU3ViIT09cmVzdWx0LmlkVG9rZW5QYXlsb2FkLnN1Yj9jYihlcnIse3NzbzohMX0pOmNiKG51bGwse2xhc3RVc2VkQ29ubmVjdGlvbjp7bmFtZTpzc29kYXRhSW5mb3JtYXRpb24ubGFzdFVzZWRDb25uZWN0aW9ufSxsYXN0VXNlZFVzZXJJRDpyZXN1bHQuaWRUb2tlblBheWxvYWQuc3ViLGxhc3RVc2VkVXNlcm5hbWU6cmVzdWx0LmlkVG9rZW5QYXlsb2FkLmVtYWlsfHxyZXN1bHQuaWRUb2tlblBheWxvYWQubmFtZSxsYXN0VXNlZENsaWVudElEOmNsaWVudElkLHNlc3Npb25DbGllbnRzOltjbGllbnRJZF0sc3NvOiEwfSl9KX0sQXV0aGVudGljYXRpb24ucHJvdG90eXBlLnVzZXJJbmZvPWZ1bmN0aW9uKGFjY2Vzc1Rva2VuLGNiKXt2YXIgdXJsO3JldHVybiBhc3NlcnQuY2hlY2soYWNjZXNzVG9rZW4se3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwiYWNjZXNzVG9rZW4gcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksYXNzZXJ0LmNoZWNrKGNiLHt0eXBlOlwiZnVuY3Rpb25cIixtZXNzYWdlOlwiY2IgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksdXJsPXVybEpvaW4odGhpcy5iYXNlT3B0aW9ucy5yb290VXJsLFwidXNlcmluZm9cIiksdGhpcy5yZXF1ZXN0LmdldCh1cmwpLnNldChcIkF1dGhvcml6YXRpb25cIixcIkJlYXJlciBcIithY2Nlc3NUb2tlbikuZW5kKHdyYXBDYWxsYmFjayhjYix7aWdub3JlQ2FzaW5nOiEwfSkpfSxBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuZGVsZWdhdGlvbj1mdW5jdGlvbihvcHRpb25zLGNiKXt2YXIgdXJsLGJvZHk7cmV0dXJuIGFzc2VydC5jaGVjayhvcHRpb25zLHt0eXBlOlwib2JqZWN0XCIsbWVzc2FnZTpcIm9wdGlvbnMgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSx7Z3JhbnRfdHlwZTp7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJncmFudF90eXBlIG9wdGlvbiBpcyByZXF1aXJlZFwifX0pLGFzc2VydC5jaGVjayhjYix7dHlwZTpcImZ1bmN0aW9uXCIsbWVzc2FnZTpcImNiIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLHVybD11cmxKb2luKHRoaXMuYmFzZU9wdGlvbnMucm9vdFVybCxcImRlbGVnYXRpb25cIiksYm9keT1vYmplY3RIZWxwZXIubWVyZ2UodGhpcy5iYXNlT3B0aW9ucyxbXCJjbGllbnRJRFwiXSkud2l0aChvcHRpb25zKSxib2R5PW9iamVjdEhlbHBlci50b1NuYWtlQ2FzZShib2R5LFtcImF1dGgwQ2xpZW50XCJdKSx0aGlzLnJlcXVlc3QucG9zdCh1cmwpLnNlbmQoYm9keSkuZW5kKHdyYXBDYWxsYmFjayhjYikpfSxBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuZ2V0VXNlckNvdW50cnk9ZnVuY3Rpb24oY2Ipe3ZhciB1cmw7cmV0dXJuIGFzc2VydC5jaGVjayhjYix7dHlwZTpcImZ1bmN0aW9uXCIsbWVzc2FnZTpcImNiIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLHVybD11cmxKb2luKHRoaXMuYmFzZU9wdGlvbnMucm9vdFVybCxcInVzZXJcIixcImdlb2xvY1wiLFwiY291bnRyeVwiKSx0aGlzLnJlcXVlc3QuZ2V0KHVybCkuZW5kKHdyYXBDYWxsYmFjayhjYikpfSxNYW5hZ2VtZW50LnByb3RvdHlwZS5nZXRVc2VyPWZ1bmN0aW9uKHVzZXJJZCxjYil7dmFyIHVybDtyZXR1cm4gYXNzZXJ0LmNoZWNrKHVzZXJJZCx7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJ1c2VySWQgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksYXNzZXJ0LmNoZWNrKGNiLHt0eXBlOlwiZnVuY3Rpb25cIixtZXNzYWdlOlwiY2IgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksdXJsPXVybEpvaW4odGhpcy5iYXNlT3B0aW9ucy5yb290VXJsLFwidXNlcnNcIix1c2VySWQpLHRoaXMucmVxdWVzdC5nZXQodXJsKS5lbmQod3JhcENhbGxiYWNrKGNiLHtpZ25vcmVDYXNpbmc6ITB9KSl9LE1hbmFnZW1lbnQucHJvdG90eXBlLnBhdGNoVXNlck1ldGFkYXRhPWZ1bmN0aW9uKHVzZXJJZCx1c2VyTWV0YWRhdGEsY2Ipe3ZhciB1cmw7cmV0dXJuIGFzc2VydC5jaGVjayh1c2VySWQse3R5cGU6XCJzdHJpbmdcIixtZXNzYWdlOlwidXNlcklkIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLGFzc2VydC5jaGVjayh1c2VyTWV0YWRhdGEse3R5cGU6XCJvYmplY3RcIixtZXNzYWdlOlwidXNlck1ldGFkYXRhIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLGFzc2VydC5jaGVjayhjYix7dHlwZTpcImZ1bmN0aW9uXCIsbWVzc2FnZTpcImNiIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIn0pLHVybD11cmxKb2luKHRoaXMuYmFzZU9wdGlvbnMucm9vdFVybCxcInVzZXJzXCIsdXNlcklkKSx0aGlzLnJlcXVlc3QucGF0Y2godXJsKS5zZW5kKHt1c2VyX21ldGFkYXRhOnVzZXJNZXRhZGF0YX0pLmVuZCh3cmFwQ2FsbGJhY2soY2Ise2lnbm9yZUNhc2luZzohMH0pKX0sTWFuYWdlbWVudC5wcm90b3R5cGUubGlua1VzZXI9ZnVuY3Rpb24odXNlcklkLHNlY29uZGFyeVVzZXJUb2tlbixjYil7dmFyIHVybDtyZXR1cm4gYXNzZXJ0LmNoZWNrKHVzZXJJZCx7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJ1c2VySWQgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksYXNzZXJ0LmNoZWNrKHNlY29uZGFyeVVzZXJUb2tlbix7dHlwZTpcInN0cmluZ1wiLG1lc3NhZ2U6XCJzZWNvbmRhcnlVc2VyVG9rZW4gcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksYXNzZXJ0LmNoZWNrKGNiLHt0eXBlOlwiZnVuY3Rpb25cIixtZXNzYWdlOlwiY2IgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZFwifSksdXJsPXVybEpvaW4odGhpcy5iYXNlT3B0aW9ucy5yb290VXJsLFwidXNlcnNcIix1c2VySWQsXCJpZGVudGl0aWVzXCIpLHRoaXMucmVxdWVzdC5wb3N0KHVybCkuc2VuZCh7bGlua193aXRoOnNlY29uZGFyeVVzZXJUb2tlbn0pLmVuZCh3cmFwQ2FsbGJhY2soY2Ise2lnbm9yZUNhc2luZzohMH0pKX07dmFyIGluZGV4PXtBdXRoZW50aWNhdGlvbjpBdXRoZW50aWNhdGlvbixNYW5hZ2VtZW50Ok1hbmFnZW1lbnQsV2ViQXV0aDpXZWJBdXRoLHZlcnNpb246dmVyc2lvbn07ZXhwb3J0IGRlZmF1bHQgaW5kZXg7ZXhwb3J0e0F1dGhlbnRpY2F0aW9uLE1hbmFnZW1lbnQsV2ViQXV0aCx2ZXJzaW9ufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGgwLm1pbi5lc20uanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///sK8x\n");

/***/ })

}]);